{"version":3,"file":"angular-tree-component.umd.js","sources":["models/tree-node.model.js","models/tree-virtual-scroll.model.js","constants/keys.js","models/tree-options.model.js","constants/events.js","models/tree.model.js","models/tree-dragged-element.model.js","components/loading.component.js","components/tree.component.js","components/tree-node.component.js","components/tree-node-content.component.js","components/tree-node-drop-slot.component.js","components/tree-node-expander.component.js","components/tree-node-children.component.js","components/tree-node-collection.component.js","components/tree-node-wrapper.component.js","components/tree-viewport.component.js","components/tree-node-checkbox.component.js","directives/tree-drop.directive.js","directives/tree-drag.directive.js","directives/tree-animate-open.directive.js","vendor/closest.js","angular-tree-component.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { observable, computed, reaction, action } from 'mobx';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nimport first from 'lodash/first';\r\nimport last from 'lodash/last';\r\nimport some from 'lodash/some';\r\nimport every from 'lodash/every';\r\nvar TreeNode = /** @class */ (function () {\r\n    function TreeNode(data, parent, treeModel, index) {\r\n        var _this = this;\r\n        this.data = data;\r\n        this.parent = parent;\r\n        this.treeModel = treeModel;\r\n        this.position = 0;\r\n        this.allowDrop = function (element, $event) {\r\n            return _this.options.allowDrop(element, { parent: _this, index: 0 }, $event);\r\n        };\r\n        if (this.id === undefined || this.id === null) {\r\n            this.id = uuid();\r\n        } // Make sure there's a unique id without overriding existing ids to work with immutable data structures\r\n        this.index = index;\r\n        if (this.getField('children')) {\r\n            this._initChildren();\r\n        }\r\n        this.autoLoadChildren();\r\n    }\r\n    Object.defineProperty(TreeNode.prototype, \"isHidden\", {\r\n        get: function () { return this.treeModel.isHidden(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isExpanded\", {\r\n        get: function () { return this.treeModel.isExpanded(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isActive\", {\r\n        get: function () { return this.treeModel.isActive(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isFocused\", {\r\n        get: function () { return this.treeModel.isNodeFocused(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isSelected\", {\r\n        get: function () {\r\n            if (this.isLeaf) {\r\n                return this.treeModel.isSelected(this);\r\n            }\r\n            else {\r\n                return some(this.children, function (node) { return node.isSelected; });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isAllSelected\", {\r\n        get: function () {\r\n            if (this.isLeaf) {\r\n                return this.isSelected;\r\n            }\r\n            else {\r\n                return every(this.children, function (node) { return node.isAllSelected; });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isPartiallySelected\", {\r\n        get: function () {\r\n            return this.isSelected && !this.isAllSelected;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"level\", {\r\n        get: function () {\r\n            return this.parent ? this.parent.level + 1 : 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"path\", {\r\n        get: function () {\r\n            return this.parent ? this.parent.path.concat([this.id]) : [];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"elementRef\", {\r\n        get: function () {\r\n            throw \"Element Ref is no longer supported since introducing virtual scroll\\n\\n      You may use a template to obtain a reference to the element\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"originalNode\", {\r\n        get: function () { return this._originalNode; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"hasChildren\", {\r\n        // helper get functions:\r\n        get: function () {\r\n            return !!(this.getField('hasChildren') || (this.children && this.children.length > 0));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"isCollapsed\", {\r\n        get: function () { return !this.isExpanded; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"isLeaf\", {\r\n        get: function () { return !this.hasChildren; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"isRoot\", {\r\n        get: function () { return this.parent.data.virtual; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"realParent\", {\r\n        get: function () { return this.isRoot ? null : this.parent; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"options\", {\r\n        // proxy functions:\r\n        get: function () { return this.treeModel.options; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNode.prototype.fireEvent = function (event) { this.treeModel.fireEvent(event); };\r\n    Object.defineProperty(TreeNode.prototype, \"displayField\", {\r\n        // field accessors:\r\n        get: function () {\r\n            return this.getField('display');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"id\", {\r\n        get: function () {\r\n            return this.getField('id');\r\n        },\r\n        set: function (value) {\r\n            this.setField('id', value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNode.prototype.getField = function (key) {\r\n        return this.data[this.options[key + \"Field\"]];\r\n    };\r\n    TreeNode.prototype.setField = function (key, value) {\r\n        this.data[this.options[key + \"Field\"]] = value;\r\n    };\r\n    // traversing:\r\n    TreeNode.prototype._findAdjacentSibling = function (steps, skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var siblings = this._getParentsChildren(skipHidden);\r\n        var index = siblings.indexOf(this);\r\n        return siblings.length > index + steps ? siblings[index + steps] : null;\r\n    };\r\n    TreeNode.prototype.findNextSibling = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return this._findAdjacentSibling(+1, skipHidden);\r\n    };\r\n    TreeNode.prototype.findPreviousSibling = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return this._findAdjacentSibling(-1, skipHidden);\r\n    };\r\n    TreeNode.prototype.getVisibleChildren = function () {\r\n        return this.visibleChildren;\r\n    };\r\n    Object.defineProperty(TreeNode.prototype, \"visibleChildren\", {\r\n        get: function () {\r\n            return (this.children || []).filter(function (node) { return !node.isHidden; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNode.prototype.getFirstChild = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var children = skipHidden ? this.visibleChildren : this.children;\r\n        return first(children || []);\r\n    };\r\n    TreeNode.prototype.getLastChild = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var children = skipHidden ? this.visibleChildren : this.children;\r\n        return last(children || []);\r\n    };\r\n    TreeNode.prototype.findNextNode = function (goInside, skipHidden) {\r\n        if (goInside === void 0) { goInside = true; }\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return goInside && this.isExpanded && this.getFirstChild(skipHidden) ||\r\n            this.findNextSibling(skipHidden) ||\r\n            this.parent && this.parent.findNextNode(false, skipHidden);\r\n    };\r\n    TreeNode.prototype.findPreviousNode = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var previousSibling = this.findPreviousSibling(skipHidden);\r\n        if (!previousSibling) {\r\n            return this.realParent;\r\n        }\r\n        return previousSibling._getLastOpenDescendant(skipHidden);\r\n    };\r\n    TreeNode.prototype._getLastOpenDescendant = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var lastChild = this.getLastChild(skipHidden);\r\n        return (this.isCollapsed || !lastChild)\r\n            ? this\r\n            : lastChild._getLastOpenDescendant(skipHidden);\r\n    };\r\n    TreeNode.prototype._getParentsChildren = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var children = this.parent &&\r\n            (skipHidden ? this.parent.getVisibleChildren() : this.parent.children);\r\n        return children || [];\r\n    };\r\n    TreeNode.prototype.getIndexInParent = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return this._getParentsChildren(skipHidden).indexOf(this);\r\n    };\r\n    TreeNode.prototype.isDescendantOf = function (node) {\r\n        if (this === node)\r\n            return true;\r\n        else\r\n            return this.parent && this.parent.isDescendantOf(node);\r\n    };\r\n    TreeNode.prototype.getNodePadding = function () {\r\n        return this.options.levelPadding * (this.level - 1) + 'px';\r\n    };\r\n    TreeNode.prototype.getClass = function () {\r\n        return [this.options.nodeClass(this), \"tree-node-level-\" + this.level].join(' ');\r\n    };\r\n    TreeNode.prototype.onDrop = function ($event) {\r\n        this.mouseAction('drop', $event.event, {\r\n            from: $event.element,\r\n            to: { parent: this, index: 0, dropOnNode: true }\r\n        });\r\n    };\r\n    TreeNode.prototype.allowDrag = function () {\r\n        return this.options.allowDrag(this);\r\n    };\r\n    // helper methods:\r\n    TreeNode.prototype.loadNodeChildren = function () {\r\n        var _this = this;\r\n        if (!this.options.getChildren) {\r\n            return Promise.resolve(); // Not getChildren method - for using redux\r\n        }\r\n        return Promise.resolve(this.options.getChildren(this))\r\n            .then(function (children) {\r\n            if (children) {\r\n                _this.setField('children', children);\r\n                _this._initChildren();\r\n                _this.children.forEach(function (child) {\r\n                    if (child.getField('isExpanded') && child.hasChildren) {\r\n                        child.expand();\r\n                    }\r\n                });\r\n            }\r\n        }).then(function () {\r\n            _this.fireEvent({\r\n                eventName: TREE_EVENTS.loadNodeChildren,\r\n                node: _this\r\n            });\r\n        });\r\n    };\r\n    TreeNode.prototype.expand = function () {\r\n        if (!this.isExpanded) {\r\n            this.toggleExpanded();\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.collapse = function () {\r\n        if (this.isExpanded) {\r\n            this.toggleExpanded();\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.doForAll = function (fn) {\r\n        var _this = this;\r\n        Promise.resolve(fn(this)).then(function () {\r\n            if (_this.children) {\r\n                _this.children.forEach(function (child) { return child.doForAll(fn); });\r\n            }\r\n        });\r\n    };\r\n    TreeNode.prototype.expandAll = function () {\r\n        this.doForAll(function (node) { return node.expand(); });\r\n    };\r\n    TreeNode.prototype.collapseAll = function () {\r\n        this.doForAll(function (node) { return node.collapse(); });\r\n    };\r\n    TreeNode.prototype.ensureVisible = function () {\r\n        if (this.realParent) {\r\n            this.realParent.expand();\r\n            this.realParent.ensureVisible();\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.toggleExpanded = function () {\r\n        this.setIsExpanded(!this.isExpanded);\r\n        return this;\r\n    };\r\n    TreeNode.prototype.setIsExpanded = function (value) {\r\n        if (this.hasChildren) {\r\n            this.treeModel.setExpandedNode(this, value);\r\n        }\r\n        return this;\r\n    };\r\n    ;\r\n    TreeNode.prototype.autoLoadChildren = function () {\r\n        var _this = this;\r\n        this.handler =\r\n            reaction(function () { return _this.isExpanded; }, function (isExpanded) {\r\n                if (!_this.children && _this.hasChildren && isExpanded) {\r\n                    _this.loadNodeChildren();\r\n                }\r\n            }, { fireImmediately: true });\r\n    };\r\n    TreeNode.prototype.dispose = function () {\r\n        if (this.children) {\r\n            this.children.forEach(function (child) { return child.dispose(); });\r\n        }\r\n        if (this.handler) {\r\n            this.handler();\r\n        }\r\n    };\r\n    TreeNode.prototype.setIsActive = function (value, multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        this.treeModel.setActiveNode(this, value, multi);\r\n        if (value) {\r\n            this.focus(this.options.scrollOnSelect);\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.setIsSelected = function (value) {\r\n        if (this.isLeaf) {\r\n            this.treeModel.setSelectedNode(this, value);\r\n        }\r\n        else {\r\n            this.children.forEach(function (child) { return child.setIsSelected(value); });\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.toggleSelected = function () {\r\n        this.setIsSelected(!this.isSelected);\r\n        return this;\r\n    };\r\n    TreeNode.prototype.toggleActivated = function (multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        this.setIsActive(!this.isActive, multi);\r\n        return this;\r\n    };\r\n    TreeNode.prototype.setActiveAndVisible = function (multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        this.setIsActive(true, multi)\r\n            .ensureVisible();\r\n        setTimeout(this.scrollIntoView.bind(this));\r\n        return this;\r\n    };\r\n    TreeNode.prototype.scrollIntoView = function (force) {\r\n        if (force === void 0) { force = false; }\r\n        this.treeModel.virtualScroll.scrollIntoView(this, force);\r\n    };\r\n    TreeNode.prototype.focus = function (scroll) {\r\n        if (scroll === void 0) { scroll = true; }\r\n        var previousNode = this.treeModel.getFocusedNode();\r\n        this.treeModel.setFocusedNode(this);\r\n        if (scroll) {\r\n            this.scrollIntoView();\r\n        }\r\n        if (previousNode) {\r\n            this.fireEvent({ eventName: TREE_EVENTS.blur, node: previousNode });\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.focus, node: this });\r\n        return this;\r\n    };\r\n    TreeNode.prototype.blur = function () {\r\n        var previousNode = this.treeModel.getFocusedNode();\r\n        this.treeModel.setFocusedNode(null);\r\n        if (previousNode) {\r\n            this.fireEvent({ eventName: TREE_EVENTS.blur, node: this });\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.setIsHidden = function (value) {\r\n        this.treeModel.setIsHidden(this, value);\r\n    };\r\n    TreeNode.prototype.hide = function () {\r\n        this.setIsHidden(true);\r\n    };\r\n    TreeNode.prototype.show = function () {\r\n        this.setIsHidden(false);\r\n    };\r\n    TreeNode.prototype.mouseAction = function (actionName, $event, data) {\r\n        if (data === void 0) { data = null; }\r\n        this.treeModel.setFocus(true);\r\n        var actionMapping = this.options.actionMapping.mouse;\r\n        var action = actionMapping[actionName];\r\n        if (action) {\r\n            action(this.treeModel, this, $event, data);\r\n        }\r\n    };\r\n    TreeNode.prototype.getSelfHeight = function () {\r\n        return this.options.nodeHeight(this);\r\n    };\r\n    TreeNode.prototype._initChildren = function () {\r\n        var _this = this;\r\n        this.children = this.getField('children')\r\n            .map(function (c, index) { return new TreeNode(c, _this, _this.treeModel, index); });\r\n    };\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isHidden\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isExpanded\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isActive\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isFocused\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isSelected\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isAllSelected\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isPartiallySelected\", null);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Array)\r\n    ], TreeNode.prototype, \"children\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Number)\r\n    ], TreeNode.prototype, \"index\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeNode.prototype, \"position\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Number)\r\n    ], TreeNode.prototype, \"height\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Number),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"level\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Array),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"path\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"visibleChildren\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeNode.prototype, \"_initChildren\", null);\r\n    return TreeNode;\r\n}());\r\nexport { TreeNode };\r\nfunction uuid() {\r\n    return Math.floor(Math.random() * 10000000000000);\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBVyxNQUFNLEVBQXFCLE1BQU0sTUFBTSxDQUFDO0FBSTFGLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUVsRCxPQUFPLEtBQUssTUFBTSxjQUFjLENBQUM7QUFDakMsT0FBTyxJQUFJLE1BQU0sYUFBYSxDQUFDO0FBQy9CLE9BQU8sSUFBSSxNQUFNLGFBQWEsQ0FBQztBQUMvQixPQUFPLEtBQUssTUFBTSxjQUFjLENBQUM7QUFFakM7SUEyQ0Usa0JBQW1CLElBQVMsRUFBUyxNQUFnQixFQUFTLFNBQW9CLEVBQUUsS0FBYTtRQUFqRyxpQkFVQztRQVZrQixTQUFJLEdBQUosSUFBSSxDQUFLO1FBQVMsV0FBTSxHQUFOLE1BQU0sQ0FBVTtRQUFTLGNBQVMsR0FBVCxTQUFTLENBQVc7UUFqQnRFLGFBQVEsR0FBRyxDQUFDLENBQUM7UUF1SnpCLGNBQVMsR0FBRyxVQUFDLE9BQU8sRUFBRSxNQUFPO1lBQzNCLE1BQU0sQ0FBQyxLQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM3RSxDQUFDLENBQUE7UUF2SUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxTQUFTLElBQUksSUFBSSxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxFQUFFLENBQUM7UUFDbkIsQ0FBQyxDQUFDLHVHQUF1RztRQUN6RyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUVuQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMs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RSxLQUFLLENBQUMsRUFBNUMsQ0FBNEMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUE5WFM7UUFBVCxRQUFROzs7NENBQXlEO0lBQ3hEO1FBQVQsUUFBUTs7OzhDQUE2RDtJQUM1RDtRQUFULFFBQVE7Ozs0Q0FBeUQ7SUFDeEQ7UUFBVCxRQUFROzs7NkNBQStEO0lBQzlEO1FBQVQsUUFBUTs7OzhDQU1SO0lBQ1M7UUFBVCxRQUFROzs7aURBTVI7SUFDUztRQUFULFFBQVE7Ozt1REFFUjtJQUVXO1FBQVgsVUFBVTs7OENBQXNCO0lBQ3JCO1FBQVgsVUFBVTs7MkNBQWU7SUFDZDtRQUFYLFVBQVU7OzhDQUFjO0lBQ2I7UUFBWCxVQUFVOzs0Q0FBZ0I7SUFDakI7UUFBVCxRQUFROzs7eUNBRVI7SUFDUztRQUFULFFBQVE7Ozt3Q0FFUjtJQTRFUztRQUFULFFBQVE7OzttREFFUjtJQThRTztRQUFQLE1BQU07Ozs7aURBR047SUFDSCxlQUFDO0NBallELEFBaVlDLElBQUE7U0FqWVksUUFBUTtBQW1ZckI7SUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7QUFDcEQsQ0FBQyIsImZpbGUiOiJ0cmVlLW5vZGUubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JzZXJ2YWJsZSwgY29tcHV0ZWQsIHJlYWN0aW9uLCBhdXRvcnVuLCBhY3Rpb24sIElSZWFjdGlvbkRpc3Bvc2VyIH0gZnJvbSAnbW9ieCc7XHJcbmltcG9ydCB7IFRyZWVNb2RlbCB9IGZyb20gJy4vdHJlZS5tb2RlbCc7XHJcbmltcG9ydCB7IFRyZWVPcHRpb25zIH0gZnJvbSAnLi90cmVlLW9wdGlvbnMubW9kZWwnO1xyXG5pbXBvcnQgeyBJVHJlZU5vZGUgfSBmcm9tICcuLi9kZWZzL2FwaSc7XHJcbmltcG9ydCB7IFRSRUVfRVZFTlRTIH0gZnJvbSAnLi4vY29uc3RhbnRzL2V2ZW50cyc7XHJcblxyXG5pbXBvcnQgZmlyc3QgZnJvbSAnbG9kYXNoL2ZpcnN0JztcclxuaW1wb3J0IGxhc3QgZnJvbSAnbG9kYXNoL2xhc3QnO1xyXG5pbXBvcnQgc29tZSBmcm9tICdsb2Rhc2gvc29tZSc7XHJcbmltcG9ydCBldmVyeSBmcm9tICdsb2Rhc2gvZXZlcnknO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVOb2RlIGltcGxlbWVudHMgSVRyZWVOb2RlIHtcclxuICBwcml2YXRlIGhhbmRsZXI6IElSZWFjdGlvbkRpc3Bvc2VyO1xyXG4gIEBjb21wdXRlZCBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0aGlzLnRyZWVNb2RlbC5pc0hpZGRlbih0aGlzKTsgfTtcclxuICBAY29tcHV0ZWQgZ2V0IGlzRXhwYW5kZWQoKSB7IHJldHVybiB0aGlzLnRyZWVNb2RlbC5pc0V4cGFuZGVkKHRoaXMpOyB9O1xyXG4gIEBjb21wdXRlZCBnZXQgaXNBY3RpdmUoKSB7IHJldHVybiB0aGlzLnRyZWVNb2RlbC5pc0FjdGl2ZSh0aGlzKTsgfTtcclxuICBAY29tcHV0ZWQgZ2V0IGlzRm9jdXNlZCgpIHsgcmV0dXJuIHRoaXMudHJlZU1vZGVsLmlzTm9kZUZvY3VzZWQodGhpcyk7IH07XHJcbiAgQGNvbXB1dGVkIGdldCBpc1NlbGVjdGVkKCkge1xyXG4gICAgaWYgKHRoaXMuaXNMZWFmKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRyZWVNb2RlbC5pc1NlbGVjdGVkKHRoaXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHNvbWUodGhpcy5jaGlsZHJlbiwgKG5vZGUpID0+IG5vZGUuaXNTZWxlY3RlZCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBAY29tcHV0ZWQgZ2V0IGlzQWxsU2VsZWN0ZWQoKSB7XHJcbiAgICBpZiAodGhpcy5pc0xlYWYpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuaXNTZWxlY3RlZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBldmVyeSh0aGlzLmNoaWxkcmVuLCAobm9kZSkgPT4gbm9kZS5pc0FsbFNlbGVjdGVkKTtcclxuICAgIH1cclxuICB9O1xyXG4gIEBjb21wdXRlZCBnZXQgaXNQYXJ0aWFsbHlTZWxlY3RlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmlzU2VsZWN0ZWQgJiYgIXRoaXMuaXNBbGxTZWxlY3RlZDtcclxuICB9XHJcblxyXG4gIEBvYnNlcnZhYmxlIGNoaWxkcmVuOiBUcmVlTm9kZVtdO1xyXG4gIEBvYnNlcnZhYmxlIGluZGV4OiBudW1iZXI7XHJcbiAgQG9ic2VydmFibGUgcG9zaXRpb24gPSAwO1xyXG4gIEBvYnNlcnZhYmxlIGhlaWdodDogbnVtYmVyO1xyXG4gIEBjb21wdXRlZCBnZXQgbGV2ZWwoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmxldmVsICsgMSA6IDA7XHJcbiAgfVxyXG4gIEBjb21wdXRlZCBnZXQgcGF0aCgpOiBzdHJpbmdbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQgPyBbLi4udGhpcy5wYXJlbnQucGF0aCwgdGhpcy5pZF0gOiBbXTtcclxuICB9XHJcblxyXG4gIGdldCBlbGVtZW50UmVmKCk6IGFueSB7XHJcbiAgICB0aHJvdyBgRWxlbWVudCBSZWYgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBzaW5jZSBpbnRyb2R1Y2luZyB2aXJ0dWFsIHNjcm9sbFxcblxyXG4gICAgICBZb3UgbWF5IHVzZSBhIHRlbXBsYXRlIHRvIG9idGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudGA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vcmlnaW5hbE5vZGU6IGFueTtcclxuICBnZXQgb3JpZ2luYWxOb2RlKCkgeyByZXR1cm4gdGhpcy5fb3JpZ2luYWxOb2RlOyB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZGF0YTogYW55LCBwdWJsaWMgcGFyZW50OiBUcmVlTm9kZSwgcHVibGljIHRyZWVNb2RlbDogVHJlZU1vZGVsLCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICBpZiAodGhpcy5pZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuaWQgPT09IG51bGwpIHtcclxuICAgICAgdGhpcy5pZCA9IHV1aWQoKTtcclxuICAgIH0gLy8gTWFrZSBzdXJlIHRoZXJlJ3MgYSB1bmlxdWUgaWQgd2l0aG91dCBvdmVycmlkaW5nIGV4aXN0aW5nIGlkcyB0byB3b3JrIHdpdGggaW1tdXRhYmxlIGRhdGEgc3RydWN0dXJlc1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG5cclxuICAgIGlmICh0aGlzLmdldEZpZWxkKCdjaGlsZHJlbicpKSB7XHJcbiAgICAgIHRoaXMuX2luaXRDaGlsZHJlbigpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5hdXRvTG9hZENoaWxkcmVuKCk7XHJcbiAgfVxyXG5cclxuICAvLyBoZWxwZXIgZ2V0IGZ1bmN0aW9uczpcclxuICBnZXQgaGFzQ2hpbGRyZW4oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISEodGhpcy5nZXRGaWVsZCgnaGFzQ2hpbGRyZW4nKSB8fCAodGhpcy5jaGlsZHJlbiAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApKTtcclxuICB9XHJcbiAgZ2V0IGlzQ29sbGFwc2VkKCk6IGJvb2xlYW4geyByZXR1cm4gIXRoaXMuaXNFeHBhbmRlZDsgfVxyXG4gIGdldCBpc0xlYWYoKTogYm9vbGVhbiB7IHJldHVybiAhdGhpcy5oYXNDaGlsZHJlbjsgfVxyXG4gIGdldCBpc1Jvb3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnBhcmVudC5kYXRhLnZpcnR1YWw7IH1cclxuICBnZXQgcmVhbFBhcmVudCgpOiBUcmVlTm9kZSB7IHJldHVybiB0aGlzLmlzUm9vdCA/IG51bGwgOiB0aGlzLnBhcmVudDsgfVxyXG5cclxuICAvLyBwcm94eSBmdW5jdGlvbnM6XHJcbiAgZ2V0IG9wdGlvbnMoKTogVHJlZU9wdGlvbnMgeyByZXR1cm4gdGhpcy50cmVlTW9kZWwub3B0aW9uczsgfVxyXG4gIGZpcmVFdmVudChldmVudCkgeyB0aGlzLnRyZWVNb2RlbC5maXJlRXZlbnQoZXZlbnQpOyB9XHJcblxyXG4gIC8vIGZpZWxkIGFjY2Vzc29yczpcclxuICBnZXQgZGlzcGxheUZpZWxkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0RmllbGQoJ2Rpc3BsYXknKTtcclxuICB9XHJcblxyXG4gIGdldCBpZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldEZpZWxkKCdpZCcpO1xyXG4gIH1cclxuXHJcbiAgc2V0IGlkKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNldEZpZWxkKCdpZCcsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldEZpZWxkKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLm9wdGlvbnNbYCR7a2V5fUZpZWxkYF1dO1xyXG4gIH1cclxuXHJcbiAgc2V0RmllbGQoa2V5LCB2YWx1ZSkge1xyXG4gICAgdGhpcy5kYXRhW3RoaXMub3B0aW9uc1tgJHtrZXl9RmllbGRgXV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8vIHRyYXZlcnNpbmc6XHJcbiAgX2ZpbmRBZGphY2VudFNpYmxpbmcoc3RlcHMsIHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgY29uc3Qgc2libGluZ3MgPSB0aGlzLl9nZXRQYXJlbnRzQ2hpbGRyZW4oc2tpcEhpZGRlbik7XHJcbiAgICBjb25zdCBpbmRleCA9IHNpYmxpbmdzLmluZGV4T2YodGhpcyk7XHJcblxyXG4gICAgcmV0dXJuIHNpYmxpbmdzLmxlbmd0aCA+IGluZGV4ICsgc3RlcHMgPyBzaWJsaW5nc1tpbmRleCArIHN0ZXBzXSA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBmaW5kTmV4dFNpYmxpbmcoc2tpcEhpZGRlbiA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZmluZEFkamFjZW50U2libGluZygrMSwgc2tpcEhpZGRlbik7XHJcbiAgfVxyXG5cclxuICBmaW5kUHJldmlvdXNTaWJsaW5nKHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ZpbmRBZGphY2VudFNpYmxpbmcoLTEsIHNraXBIaWRkZW4pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlzaWJsZUNoaWxkcmVuKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlzaWJsZUNoaWxkcmVuO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkIGdldCB2aXNpYmxlQ2hpbGRyZW4oKSB7XHJcbiAgICByZXR1cm4gKHRoaXMuY2hpbGRyZW4gfHwgW10pLmZpbHRlcigobm9kZSkgPT4gIW5vZGUuaXNIaWRkZW4pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Rmlyc3RDaGlsZChza2lwSGlkZGVuID0gZmFsc2UpIHtcclxuICAgIGxldCBjaGlsZHJlbiA9IHNraXBIaWRkZW4gPyB0aGlzLnZpc2libGVDaGlsZHJlbiA6IHRoaXMuY2hpbGRyZW47XHJcblxyXG4gICAgcmV0dXJuIGZpcnN0KGNoaWxkcmVuIHx8IFtdKTtcclxuICB9XHJcblxyXG4gIGdldExhc3RDaGlsZChza2lwSGlkZGVuID0gZmFsc2UpIHtcclxuICAgIGxldCBjaGlsZHJlbiA9IHNraXBIaWRkZW4gPyB0aGlzLnZpc2libGVDaGlsZHJlbiA6IHRoaXMuY2hpbGRyZW47XHJcblxyXG4gICAgcmV0dXJuIGxhc3QoY2hpbGRyZW4gfHwgW10pO1xyXG4gIH1cclxuXHJcbiAgZmluZE5leHROb2RlKGdvSW5zaWRlID0gdHJ1ZSwgc2tpcEhpZGRlbiA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gZ29JbnNpZGUgJiYgdGhpcy5pc0V4cGFuZGVkICYmIHRoaXMuZ2V0Rmlyc3RDaGlsZChza2lwSGlkZGVuKSB8fFxyXG4gICAgICAgICAgIHRoaXMuZmluZE5leHRTaWJsaW5nKHNraXBIaWRkZW4pIHx8XHJcbiAgICAgICAgICAgdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuZmluZE5leHROb2RlKGZhbHNlLCBza2lwSGlkZGVuKTtcclxuICB9XHJcblxyXG4gIGZpbmRQcmV2aW91c05vZGUoc2tpcEhpZGRlbiA9IGZhbHNlKSB7XHJcbiAgICBsZXQgcHJldmlvdXNTaWJsaW5nID0gdGhpcy5maW5kUHJldmlvdXNTaWJsaW5nKHNraXBIaWRkZW4pO1xyXG4gICAgaWYgKCFwcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucmVhbFBhcmVudDtcclxuICAgIH1cclxuICAgIHJldHVybiBwcmV2aW91c1NpYmxpbmcuX2dldExhc3RPcGVuRGVzY2VuZGFudChza2lwSGlkZGVuKTtcclxuICB9XHJcblxyXG4gIF9nZXRMYXN0T3BlbkRlc2NlbmRhbnQoc2tpcEhpZGRlbiA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBsYXN0Q2hpbGQgPSB0aGlzLmdldExhc3RDaGlsZChza2lwSGlkZGVuKTtcclxuICAgIHJldHVybiAodGhpcy5pc0NvbGxhcHNlZCB8fCAhbGFzdENoaWxkKVxyXG4gICAgICA/IHRoaXNcclxuICAgICAgOiBsYXN0Q2hpbGQuX2dldExhc3RPcGVuRGVzY2VuZGFudChza2lwSGlkZGVuKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2dldFBhcmVudHNDaGlsZHJlbihza2lwSGlkZGVuID0gZmFsc2UpOiBhbnlbXSB7XHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMucGFyZW50ICYmXHJcbiAgICAgIChza2lwSGlkZGVuID8gdGhpcy5wYXJlbnQuZ2V0VmlzaWJsZUNoaWxkcmVuKCkgOiB0aGlzLnBhcmVudC5jaGlsZHJlbik7XHJcblxyXG4gICAgcmV0dXJuIGNoaWxkcmVuIHx8IFtdO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRJbmRleEluUGFyZW50KHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldFBhcmVudHNDaGlsZHJlbihza2lwSGlkZGVuKS5pbmRleE9mKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgaXNEZXNjZW5kYW50T2Yobm9kZTogVHJlZU5vZGUpIHtcclxuICAgIGlmICh0aGlzID09PSBub2RlKSByZXR1cm4gdHJ1ZTtcclxuICAgIGVsc2UgcmV0dXJuIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmlzRGVzY2VuZGFudE9mKG5vZGUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Tm9kZVBhZGRpbmcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGV2ZWxQYWRkaW5nICogKHRoaXMubGV2ZWwgLSAxKSArICdweCc7XHJcbiAgfVxyXG5cclxuICBnZXRDbGFzcygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFt0aGlzLm9wdGlvbnMubm9kZUNsYXNzKHRoaXMpLCBgdHJlZS1ub2RlLWxldmVsLSR7IHRoaXMubGV2ZWwgfWBdLmpvaW4oJyAnKTtcclxuICB9XHJcblxyXG4gIG9uRHJvcCgkZXZlbnQpIHtcclxuICAgIHRoaXMubW91c2VBY3Rpb24oJ2Ryb3AnLCAkZXZlbnQuZXZlbnQsIHtcclxuICAgICAgZnJvbTogJGV2ZW50LmVsZW1lbnQsXHJcbiAgICAgIHRvOiB7IHBhcmVudDogdGhpcywgaW5kZXg6IDAsIGRyb3BPbk5vZGU6IHRydWUgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhbGxvd0Ryb3AgPSAoZWxlbWVudCwgJGV2ZW50PykgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hbGxvd0Ryb3AoZWxlbWVudCwgeyBwYXJlbnQ6IHRoaXMsIGluZGV4OiAwIH0sICRldmVudCk7XHJcbiAgfVxyXG5cclxuICBhbGxvd0RyYWcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFsbG93RHJhZyh0aGlzKTtcclxuICB9XHJcblxyXG5cclxuICAvLyBoZWxwZXIgbWV0aG9kczpcclxuICBsb2FkTm9kZUNoaWxkcmVuKCkge1xyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZ2V0Q2hpbGRyZW4pIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOyAvLyBOb3QgZ2V0Q2hpbGRyZW4gbWV0aG9kIC0gZm9yIHVzaW5nIHJlZHV4XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMub3B0aW9ucy5nZXRDaGlsZHJlbih0aGlzKSlcclxuICAgICAgLnRoZW4oKGNoaWxkcmVuKSA9PiB7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICB0aGlzLnNldEZpZWxkKCdjaGlsZHJlbicsIGNoaWxkcmVuKTtcclxuICAgICAgICAgIHRoaXMuX2luaXRDaGlsZHJlbigpO1xyXG4gICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuZ2V0RmllbGQoJ2lzRXhwYW5kZWQnKSAmJiBjaGlsZC5oYXNDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgIGNoaWxkLmV4cGFuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfX0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHtcclxuICAgICAgICAgIGV2ZW50TmFtZTogVFJFRV9FVkVOVFMubG9hZE5vZGVDaGlsZHJlbixcclxuICAgICAgICAgIG5vZGU6IHRoaXNcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBleHBhbmQoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNFeHBhbmRlZCkge1xyXG4gICAgICB0aGlzLnRvZ2dsZUV4cGFuZGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBjb2xsYXBzZSgpIHtcclxuICAgIGlmICh0aGlzLmlzRXhwYW5kZWQpIHtcclxuICAgICAgdGhpcy50b2dnbGVFeHBhbmRlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZG9Gb3JBbGwoZm46IChub2RlOiBJVHJlZU5vZGUpID0+IGFueSkge1xyXG4gICAgUHJvbWlzZS5yZXNvbHZlKGZuKHRoaXMpKS50aGVuKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiBjaGlsZC5kb0ZvckFsbChmbikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGV4cGFuZEFsbCgpIHtcclxuICAgIHRoaXMuZG9Gb3JBbGwoKG5vZGUpID0+IG5vZGUuZXhwYW5kKCkpO1xyXG4gIH1cclxuXHJcbiAgY29sbGFwc2VBbGwoKSB7XHJcbiAgICB0aGlzLmRvRm9yQWxsKChub2RlKSA9PiBub2RlLmNvbGxhcHNlKCkpO1xyXG4gIH1cclxuXHJcbiAgZW5zdXJlVmlzaWJsZSgpIHtcclxuICAgIGlmICh0aGlzLnJlYWxQYXJlbnQpIHtcclxuICAgICAgdGhpcy5yZWFsUGFyZW50LmV4cGFuZCgpO1xyXG4gICAgICB0aGlzLnJlYWxQYXJlbnQuZW5zdXJlVmlzaWJsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlRXhwYW5kZWQoKSB7XHJcbiAgICB0aGlzLnNldElzRXhwYW5kZWQoIXRoaXMuaXNFeHBhbmRlZCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzZXRJc0V4cGFuZGVkKHZhbHVlKSB7XHJcbiAgICBpZiAodGhpcy5oYXNDaGlsZHJlbikge1xyXG4gICAgICB0aGlzLnRyZWVNb2RlbC5zZXRFeHBhbmRlZE5vZGUodGhpcywgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIGF1dG9Mb2FkQ2hpbGRyZW4oKSB7XHJcbiAgICB0aGlzLmhhbmRsZXIgPVxyXG4gICAgICByZWFjdGlvbihcclxuICAgICAgICAoKSA9PiB0aGlzLmlzRXhwYW5kZWQsXHJcbiAgICAgICAgKGlzRXhwYW5kZWQpID0+IHtcclxuICAgICAgICAgIGlmICghdGhpcy5jaGlsZHJlbiAmJiB0aGlzLmhhc0NoaWxkcmVuICYmIGlzRXhwYW5kZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkTm9kZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IGZpcmVJbW1lZGlhdGVseTogdHJ1ZSB9XHJcbiAgICAgICk7XHJcbiAgfVxyXG5cclxuICBkaXNwb3NlKCkge1xyXG4gICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4gY2hpbGQuZGlzcG9zZSgpKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmhhbmRsZXIpIHtcclxuICAgICAgdGhpcy5oYW5kbGVyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRJc0FjdGl2ZSh2YWx1ZSwgbXVsdGkgPSBmYWxzZSkge1xyXG4gICAgdGhpcy50cmVlTW9kZWwuc2V0QWN0aXZlTm9kZSh0aGlzLCB2YWx1ZSwgbXVsdGkpO1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuZm9jdXModGhpcy5vcHRpb25zLnNjcm9sbE9uU2VsZWN0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldElzU2VsZWN0ZWQodmFsdWUpIHtcclxuICAgIGlmICh0aGlzLmlzTGVhZikge1xyXG4gICAgICB0aGlzLnRyZWVNb2RlbC5zZXRTZWxlY3RlZE5vZGUodGhpcywgdmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4gY2hpbGQuc2V0SXNTZWxlY3RlZCh2YWx1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlU2VsZWN0ZWQoKSB7XHJcbiAgICB0aGlzLnNldElzU2VsZWN0ZWQoIXRoaXMuaXNTZWxlY3RlZCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVBY3RpdmF0ZWQobXVsdGkgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5zZXRJc0FjdGl2ZSghdGhpcy5pc0FjdGl2ZSwgbXVsdGkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2V0QWN0aXZlQW5kVmlzaWJsZShtdWx0aSA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnNldElzQWN0aXZlKHRydWUsIG11bHRpKVxyXG4gICAgICAuZW5zdXJlVmlzaWJsZSgpO1xyXG5cclxuICAgIHNldFRpbWVvdXQodGhpcy5zY3JvbGxJbnRvVmlldy5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNjcm9sbEludG9WaWV3KGZvcmNlID0gZmFsc2UpIHtcclxuICAgIHRoaXMudHJlZU1vZGVsLnZpcnR1YWxTY3JvbGwuc2Nyb2xsSW50b1ZpZXcodGhpcywgZm9yY2UpO1xyXG4gIH1cclxuXHJcbiAgZm9jdXMoc2Nyb2xsID0gdHJ1ZSkge1xyXG4gICAgbGV0IHByZXZpb3VzTm9kZSA9IHRoaXMudHJlZU1vZGVsLmdldEZvY3VzZWROb2RlKCk7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC5zZXRGb2N1c2VkTm9kZSh0aGlzKTtcclxuICAgIGlmIChzY3JvbGwpIHtcclxuICAgICAgdGhpcy5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgfVxyXG4gICAgaWYgKHByZXZpb3VzTm9kZSkge1xyXG4gICAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuYmx1ciwgbm9kZTogcHJldmlvdXNOb2RlIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLmZvY3VzLCBub2RlOiB0aGlzIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgYmx1cigpIHtcclxuICAgIGxldCBwcmV2aW91c05vZGUgPSB0aGlzLnRyZWVNb2RlbC5nZXRGb2N1c2VkTm9kZSgpO1xyXG4gICAgdGhpcy50cmVlTW9kZWwuc2V0Rm9jdXNlZE5vZGUobnVsbCk7XHJcbiAgICBpZiAocHJldmlvdXNOb2RlKSB7XHJcbiAgICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5ibHVyLCBub2RlOiB0aGlzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2V0SXNIaWRkZW4odmFsdWUpIHtcclxuICAgIHRoaXMudHJlZU1vZGVsLnNldElzSGlkZGVuKHRoaXMsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICB0aGlzLnNldElzSGlkZGVuKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgc2hvdygpIHtcclxuICAgIHRoaXMuc2V0SXNIaWRkZW4oZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgbW91c2VBY3Rpb24oYWN0aW9uTmFtZTogc3RyaW5nLCAkZXZlbnQsIGRhdGE6IGFueSA9IG51bGwpIHtcclxuICAgIHRoaXMudHJlZU1vZGVsLnNldEZvY3VzKHRydWUpO1xyXG5cclxuICAgIGNvbnN0IGFjdGlvbk1hcHBpbmcgPSB0aGlzLm9wdGlvbnMuYWN0aW9uTWFwcGluZy5tb3VzZTtcclxuICAgIGNvbnN0IGFjdGlvbiA9IGFjdGlvbk1hcHBpbmdbYWN0aW9uTmFtZV07XHJcblxyXG4gICAgaWYgKGFjdGlvbikge1xyXG4gICAgICBhY3Rpb24odGhpcy50cmVlTW9kZWwsIHRoaXMsICRldmVudCwgZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTZWxmSGVpZ2h0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5ub2RlSGVpZ2h0KHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBfaW5pdENoaWxkcmVuKCkge1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMuZ2V0RmllbGQoJ2NoaWxkcmVuJylcclxuICAgICAgLm1hcCgoYywgaW5kZXgpID0+IG5ldyBUcmVlTm9kZShjLCB0aGlzLCB0aGlzLnRyZWVNb2RlbCwgaW5kZXgpKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHV1aWQoKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwMDAwMDAwKTtcclxufVxyXG4iXX0=","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { observable, computed, action, autorun, reaction } from 'mobx';\r\nimport { TreeModel } from './tree.model';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nvar Y_OFFSET = 300; // Extra pixels outside the viewport, in each direction, to render nodes in\r\nvar Y_EPSILON = 50; // Minimum pixel change required to recalculate the rendered nodes\r\nvar TreeVirtualScroll = /** @class */ (function () {\r\n    function TreeVirtualScroll(treeModel) {\r\n        var _this = this;\r\n        this.treeModel = treeModel;\r\n        this.yBlocks = 0;\r\n        this.x = 0;\r\n        this.viewportHeight = null;\r\n        this.viewport = null;\r\n        treeModel.virtualScroll = this;\r\n        this._dispose = [autorun(function () { return _this.fixScroll(); })];\r\n    }\r\n    Object.defineProperty(TreeVirtualScroll.prototype, \"y\", {\r\n        get: function () {\r\n            return this.yBlocks * Y_EPSILON;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeVirtualScroll.prototype, \"totalHeight\", {\r\n        get: function () {\r\n            return this.treeModel.virtualRoot ? this.treeModel.virtualRoot.height : 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeVirtualScroll.prototype.fireEvent = function (event) {\r\n        this.treeModel.fireEvent(event);\r\n    };\r\n    TreeVirtualScroll.prototype.init = function () {\r\n        var _this = this;\r\n        var fn = this.recalcPositions.bind(this);\r\n        fn();\r\n        this._dispose = this._dispose.concat([\r\n            reaction(function () { return _this.treeModel.roots; }, fn),\r\n            reaction(function () { return _this.treeModel.expandedNodeIds; }, fn),\r\n            reaction(function () { return _this.treeModel.hiddenNodeIds; }, fn)\r\n        ]);\r\n        this.treeModel.subscribe(TREE_EVENTS.loadNodeChildren, fn);\r\n    };\r\n    TreeVirtualScroll.prototype.isEnabled = function () {\r\n        return this.treeModel.options.useVirtualScroll;\r\n    };\r\n    TreeVirtualScroll.prototype._setYBlocks = function (value) {\r\n        this.yBlocks = value;\r\n    };\r\n    TreeVirtualScroll.prototype.recalcPositions = function () {\r\n        this.treeModel.virtualRoot.height = this._getPositionAfter(this.treeModel.getVisibleRoots(), 0);\r\n    };\r\n    TreeVirtualScroll.prototype._getPositionAfter = function (nodes, startPos) {\r\n        var _this = this;\r\n        var position = startPos;\r\n        nodes.forEach(function (node) {\r\n            node.position = position;\r\n            position = _this._getPositionAfterNode(node, position);\r\n        });\r\n        return position;\r\n    };\r\n    TreeVirtualScroll.prototype._getPositionAfterNode = function (node, startPos) {\r\n        var position = node.getSelfHeight() + startPos;\r\n        if (node.children && node.isExpanded) {\r\n            position = this._getPositionAfter(node.visibleChildren, position);\r\n        }\r\n        node.height = position - startPos;\r\n        return position;\r\n    };\r\n    TreeVirtualScroll.prototype.clear = function () {\r\n        this._dispose.forEach(function (d) { return d(); });\r\n    };\r\n    TreeVirtualScroll.prototype.setViewport = function (viewport) {\r\n        Object.assign(this, {\r\n            viewport: viewport,\r\n            x: viewport.scrollLeft,\r\n            yBlocks: Math.round(viewport.scrollTop / Y_EPSILON),\r\n            viewportHeight: viewport.getBoundingClientRect ? viewport.getBoundingClientRect().height : 0\r\n        });\r\n    };\r\n    TreeVirtualScroll.prototype.scrollIntoView = function (node, force, scrollToMiddle) {\r\n        if (scrollToMiddle === void 0) { scrollToMiddle = true; }\r\n        if (force || // force scroll to node\r\n            node.position < this.y || // node is above viewport\r\n            node.position + node.getSelfHeight() > this.y + this.viewportHeight) {\r\n            if (this.viewport) {\r\n                this.viewport.scrollTop = scrollToMiddle ?\r\n                    node.position - this.viewportHeight / 2 : // scroll to middle\r\n                    node.position; // scroll to start\r\n                this._setYBlocks(Math.floor(this.viewport.scrollTop / Y_EPSILON));\r\n            }\r\n        }\r\n    };\r\n    TreeVirtualScroll.prototype.getViewportNodes = function (nodes) {\r\n        var _this = this;\r\n        if (!nodes)\r\n            return [];\r\n        var visibleNodes = nodes.filter(function (node) { return !node.isHidden; });\r\n        if (!this.isEnabled())\r\n            return visibleNodes;\r\n        if (!this.viewportHeight || !visibleNodes.length)\r\n            return [];\r\n        // Search for first node in the viewport using binary search\r\n        // Look for first node that starts after the beginning of the viewport (with buffer)\r\n        // Or that ends after the beginning of the viewport\r\n        var firstIndex = binarySearch(visibleNodes, function (node) {\r\n            return (node.position + Y_OFFSET > _this.y) ||\r\n                (node.position + node.height > _this.y);\r\n        });\r\n        // Search for last node in the viewport using binary search\r\n        // Look for first node that starts after the end of the viewport (with buffer)\r\n        var lastIndex = binarySearch(visibleNodes, function (node) {\r\n            return node.position - Y_OFFSET > _this.y + _this.viewportHeight;\r\n        }, firstIndex);\r\n        var viewportNodes = [];\r\n        for (var i = firstIndex; i <= lastIndex; i++) {\r\n            viewportNodes.push(visibleNodes[i]);\r\n        }\r\n        return viewportNodes;\r\n    };\r\n    TreeVirtualScroll.prototype.fixScroll = function () {\r\n        var maxY = Math.max(0, this.totalHeight - this.viewportHeight);\r\n        if (this.y < 0)\r\n            this._setYBlocks(0);\r\n        if (this.y > maxY)\r\n            this._setYBlocks(maxY / Y_EPSILON);\r\n    };\r\n    TreeVirtualScroll.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeVirtualScroll.ctorParameters = function () { return [\r\n        { type: TreeModel, },\r\n    ]; };\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeVirtualScroll.prototype, \"yBlocks\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeVirtualScroll.prototype, \"x\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeVirtualScroll.prototype, \"viewportHeight\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeVirtualScroll.prototype, \"y\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeVirtualScroll.prototype, \"totalHeight\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"_setYBlocks\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"recalcPositions\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"setViewport\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"scrollIntoView\", null);\r\n    return TreeVirtualScroll;\r\n}());\r\nexport { TreeVirtualScroll };\r\nfunction binarySearch(nodes, condition, firstIndex) {\r\n    if (firstIndex === void 0) { firstIndex = 0; }\r\n    var index = firstIndex;\r\n    var toIndex = nodes.length - 1;\r\n    while (index !== toIndex) {\r\n        var midIndex = Math.floor((index + toIndex) / 2);\r\n        if (condition(nodes[midIndex])) {\r\n            toIndex = midIndex;\r\n        }\r\n        else {\r\n            if (index === midIndex)\r\n                index = toIndex;\r\n            else\r\n                index = midIndex;\r\n        }\r\n    }\r\n    return index;\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS12aXJ0dWFsLXNjcm9sbC5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBQSxFQUFXLE1BQU8sZUFBQSxDQUFnQjtBQUMzQyxPQUFPLEVBQUUsVUFBQSxFQUFZLFFBQUEsRUFBVSxNQUFBLEVBQVEsT0FBQSxFQUFTLFFBQUEsRUFBUyxNQUFPLE1BQUEsQ0FBTztBQUN2RSxPQUFPLEVBQUUsU0FBQSxFQUFVLE1BQU8sY0FBQSxDQUFlO0FBQ3pDLE9BQU8sRUFBRSxXQUFBLEVBQVksTUFBTyxxQkFBQSxDQUFzQjtBQUVsRCxJQUFNLFFBQUEsR0FBVyxHQUFBLENBQUksQ0FBQywyRUFBQTtBQUN0QixJQUFNLFNBQUEsR0FBWSxFQUFBLENBQUcsQ0FBQSxrRUFBQTtBQUdyQjtJQWdCRSwyQkFBb0IsU0FBb0I7UUFBeEMsaUJBR0M7UUFIbUIsY0FBUyxHQUFULFNBQVMsQ0FBVztRQWI1QixZQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ1osTUFBQyxHQUFHLENBQUMsQ0FBQztRQUNOLG1CQUFjLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFXZCxTQUFTLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsT0FBTyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsU0FBUyxFQUFFLEVBQWhCLENBQWdCLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFYUyxzQkFBSSxnQ0FBQzthQUFMO1lBQ1IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFDO1FBQ2xDLENBQUM7OztPQUFBO0lBRVMsc0JBQUksMENBQVc7YUFBZjtZQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsTUFB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QSxHQUFXLElBQUEsQ0FBSyxLQUFDLENBQUssQ0FBQyxLQUFDLEdBQU8sT0FBQSxDQUFRLEdBQUcsQ0FBQSxDQUFFLENBQUM7UUFTakQsRUFBRSxDQUFDLENBQUMsU0FQQyxDQUFTLEtBQUMsQ0FBSyxRQUFDLENBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQVE5QixPQUFPLEdBUEcsUUFBQSxDQUFTO1FBUXJCLENBQUM7UUFDRCxJQUFJLENBUEMsQ0FBQTtZQVFILEVBQUUsQ0FBQyxDQUFDLEtBUEMsS0FBUyxRQUFBLENBQVM7Z0JBQUMsS0FBQSxHQUFRLE9BQUEsQ0FBUTtZQVF4QyxJQUFJO2dCQVBDLEtBQUEsR0FBUSxRQUFBLENBQVM7UUFReEIsQ0FBQztJQUNILENBQUM7SUFDRCxNQUFNLENBUEMsS0FBQSxDQUFNO0FBUWYsQ0FBQyIsImZpbGUiOiJ0cmVlLXZpcnR1YWwtc2Nyb2xsLm1vZGVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgb2JzZXJ2YWJsZSwgY29tcHV0ZWQsIGFjdGlvbiwgYXV0b3J1biwgcmVhY3Rpb24gfSBmcm9tICdtb2J4JztcclxuaW1wb3J0IHsgVHJlZU1vZGVsIH0gZnJvbSAnLi90cmVlLm1vZGVsJztcclxuaW1wb3J0IHsgVFJFRV9FVkVOVFMgfSBmcm9tICcuLi9jb25zdGFudHMvZXZlbnRzJztcclxuXHJcbmNvbnN0IFlfT0ZGU0VUID0gMzAwOyAvLyBFeHRyYSBwaXhlbHMgb3V0c2lkZSB0aGUgdmlld3BvcnQsIGluIGVhY2ggZGlyZWN0aW9uLCB0byByZW5kZXIgbm9kZXMgaW5cclxuY29uc3QgWV9FUFNJTE9OID0gNTA7IC8vIE1pbmltdW0gcGl4ZWwgY2hhbmdlIHJlcXVpcmVkIHRvIHJlY2FsY3VsYXRlIHRoZSByZW5kZXJlZCBub2Rlc1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlVmlydHVhbFNjcm9sbCB7XHJcbiAgcHJpdmF0ZSBfZGlzcG9zZTogYW55O1xyXG5cclxuICBAb2JzZXJ2YWJsZSB5QmxvY2tzID0gMDtcclxuICBAb2JzZXJ2YWJsZSB4ID0gMDtcclxuICBAb2JzZXJ2YWJsZSB2aWV3cG9ydEhlaWdodCA9IG51bGw7XHJcbiAgdmlld3BvcnQgPSBudWxsO1xyXG5cclxuICBAY29tcHV0ZWQgZ2V0IHkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy55QmxvY2tzICogWV9FUFNJTE9OO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkIGdldCB0b3RhbEhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLnRyZWVNb2RlbC52aXJ0dWFsUm9vdCA/IHRoaXMudHJlZU1vZGVsLnZpcnR1YWxSb290LmhlaWdodCA6IDA7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyZWVNb2RlbDogVHJlZU1vZGVsKSB7XHJcbiAgICB0cmVlTW9kZWwudmlydHVhbFNjcm9sbCA9IHRoaXM7XHJcbiAgICB0aGlzLl9kaXNwb3NlID0gW2F1dG9ydW4oKCkgPT4gdGhpcy5maXhTY3JvbGwoKSldO1xyXG4gIH1cclxuXHJcbiAgZmlyZUV2ZW50KGV2ZW50KSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC5maXJlRXZlbnQoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIGNvbnN0IGZuID0gdGhpcy5yZWNhbGNQb3NpdGlvbnMuYmluZCh0aGlzKTtcclxuXHJcbiAgICBmbigpO1xyXG4gICAgdGhpcy5fZGlzcG9zZSA9IFtcclxuICAgICAgLi4udGhpcy5fZGlzcG9zZSxcclxuICAgICAgcmVhY3Rpb24oKCkgPT4gdGhpcy50cmVlTW9kZWwucm9vdHMsIGZuKSxcclxuICAgICAgcmVhY3Rpb24oKCkgPT4gdGhpcy50cmVlTW9kZWwuZXhwYW5kZWROb2RlSWRzLCBmbiksXHJcbiAgICAgIHJlYWN0aW9uKCgpID0+IHRoaXMudHJlZU1vZGVsLmhpZGRlbk5vZGVJZHMsIGZuKVxyXG4gICAgXTtcclxuICAgIHRoaXMudHJlZU1vZGVsLnN1YnNjcmliZShUUkVFX0VWRU5UUy5sb2FkTm9kZUNoaWxkcmVuLCBmbik7XHJcbiAgfVxyXG5cclxuICBpc0VuYWJsZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50cmVlTW9kZWwub3B0aW9ucy51c2VWaXJ0dWFsU2Nyb2xsO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBwcml2YXRlIF9zZXRZQmxvY2tzKHZhbHVlKSB7XHJcbiAgICB0aGlzLnlCbG9ja3MgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gcmVjYWxjUG9zaXRpb25zKCkge1xyXG4gICAgdGhpcy50cmVlTW9kZWwudmlydHVhbFJvb3QuaGVpZ2h0ID0gdGhpcy5fZ2V0UG9zaXRpb25BZnRlcih0aGlzLnRyZWVNb2RlbC5nZXRWaXNpYmxlUm9vdHMoKSwgMCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9nZXRQb3NpdGlvbkFmdGVyKG5vZGVzLCBzdGFydFBvcykge1xyXG4gICAgbGV0IHBvc2l0aW9uID0gc3RhcnRQb3M7XHJcblxyXG4gICAgbm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICBub2RlLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgIHBvc2l0aW9uID0gdGhpcy5fZ2V0UG9zaXRpb25BZnRlck5vZGUobm9kZSwgcG9zaXRpb24pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9nZXRQb3NpdGlvbkFmdGVyTm9kZShub2RlLCBzdGFydFBvcykge1xyXG4gICAgbGV0IHBvc2l0aW9uID0gbm9kZS5nZXRTZWxmSGVpZ2h0KCkgKyBzdGFydFBvcztcclxuXHJcbiAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmlzRXhwYW5kZWQpIHsgLy8gVEJEOiBjb25zaWRlciBsb2FkaW5nIGNvbXBvbmVudCBhcyB3ZWxsXHJcbiAgICAgIHBvc2l0aW9uID0gdGhpcy5fZ2V0UG9zaXRpb25BZnRlcihub2RlLnZpc2libGVDaGlsZHJlbiwgcG9zaXRpb24pO1xyXG4gICAgfVxyXG4gICAgbm9kZS5oZWlnaHQgPSBwb3NpdGlvbiAtIHN0YXJ0UG9zO1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gIH1cclxuXHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fZGlzcG9zZS5mb3JFYWNoKChkKSA9PiBkKCkpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBzZXRWaWV3cG9ydCh2aWV3cG9ydCkge1xyXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XHJcbiAgICAgIHZpZXdwb3J0LFxyXG4gICAgICB4OiB2aWV3cG9ydC5zY3JvbGxMZWZ0LFxyXG4gICAgICB5QmxvY2tzOiBNYXRoLnJvdW5kKHZpZXdwb3J0LnNjcm9sbFRvcCAvIFlfRVBTSUxPTiksXHJcbiAgICAgIHZpZXdwb3J0SGVpZ2h0OiB2aWV3cG9ydC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPyB2aWV3cG9ydC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgOiAwXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gc2Nyb2xsSW50b1ZpZXcobm9kZSwgZm9yY2UsIHNjcm9sbFRvTWlkZGxlID0gdHJ1ZSkge1xyXG4gICAgaWYgKGZvcmNlIHx8IC8vIGZvcmNlIHNjcm9sbCB0byBub2RlXHJcbiAgICAgIG5vZGUucG9zaXRpb24gPCB0aGlzLnkgfHwgLy8gbm9kZSBpcyBhYm92ZSB2aWV3cG9ydFxyXG4gICAgICBub2RlLnBvc2l0aW9uICsgbm9kZS5nZXRTZWxmSGVpZ2h0KCkgPiB0aGlzLnkgKyB0aGlzLnZpZXdwb3J0SGVpZ2h0KSB7IC8vIG5vZGUgaXMgYmVsb3cgdmlld3BvcnRcclxuICAgICAgaWYgKHRoaXMudmlld3BvcnQpIHtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0LnNjcm9sbFRvcCA9IHNjcm9sbFRvTWlkZGxlID9cclxuICAgICAgICAgIG5vZGUucG9zaXRpb24gLSB0aGlzLnZpZXdwb3J0SGVpZ2h0IC8gMiA6IC8vIHNjcm9sbCB0byBtaWRkbGVcclxuICAgICAgICAgIG5vZGUucG9zaXRpb247IC8vIHNjcm9sbCB0byBzdGFydFxyXG5cclxuICAgICAgICB0aGlzLl9zZXRZQmxvY2tzKE1hdGguZmxvb3IodGhpcy52aWV3cG9ydC5zY3JvbGxUb3AgLyBZX0VQU0lMT04pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Vmlld3BvcnROb2Rlcyhub2Rlcykge1xyXG4gICAgaWYgKCFub2RlcykgcmV0dXJuIFtdO1xyXG5cclxuICAgIGNvbnN0IHZpc2libGVOb2RlcyA9IG5vZGVzLmZpbHRlcigobm9kZSkgPT4gIW5vZGUuaXNIaWRkZW4pO1xyXG5cclxuICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuIHZpc2libGVOb2RlcztcclxuXHJcbiAgICBpZiAoIXRoaXMudmlld3BvcnRIZWlnaHQgfHwgIXZpc2libGVOb2Rlcy5sZW5ndGgpIHJldHVybiBbXTtcclxuXHJcbiAgICAvLyBTZWFyY2ggZm9yIGZpcnN0IG5vZGUgaW4gdGhlIHZpZXdwb3J0IHVzaW5nIGJpbmFyeSBzZWFyY2hcclxuICAgIC8vIExvb2sgZm9yIGZpcnN0IG5vZGUgdGhhdCBzdGFydHMgYWZ0ZXIgdGhlIGJlZ2lubmluZyBvZiB0aGUgdmlld3BvcnQgKHdpdGggYnVmZmVyKVxyXG4gICAgLy8gT3IgdGhhdCBlbmRzIGFmdGVyIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHZpZXdwb3J0XHJcbiAgICBjb25zdCBmaXJzdEluZGV4ID0gYmluYXJ5U2VhcmNoKHZpc2libGVOb2RlcywgKG5vZGUpID0+IHtcclxuICAgICAgcmV0dXJuIChub2RlLnBvc2l0aW9uICsgWV9PRkZTRVQgPiB0aGlzLnkpIHx8XHJcbiAgICAgICAgICAgICAobm9kZS5wb3NpdGlvbiArIG5vZGUuaGVpZ2h0ID4gdGhpcy55KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNlYXJjaCBmb3IgbGFzdCBub2RlIGluIHRoZSB2aWV3cG9ydCB1c2luZyBiaW5hcnkgc2VhcmNoXHJcbiAgICAvLyBMb29rIGZvciBmaXJzdCBub2RlIHRoYXQgc3RhcnRzIGFmdGVyIHRoZSBlbmQgb2YgdGhlIHZpZXdwb3J0ICh3aXRoIGJ1ZmZlcilcclxuICAgIGNvbnN0IGxhc3RJbmRleCA9IGJpbmFyeVNlYXJjaCh2aXNpYmxlTm9kZXMsIChub2RlKSA9PiB7XHJcbiAgICAgIHJldHVybiBub2RlLnBvc2l0aW9uIC0gWV9PRkZTRVQgPiB0aGlzLnkgKyB0aGlzLnZpZXdwb3J0SGVpZ2h0O1xyXG4gICAgfSwgZmlyc3RJbmRleCk7XHJcblxyXG4gICAgY29uc3Qgdmlld3BvcnROb2RlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IGZpcnN0SW5kZXg7IGkgPD0gbGFzdEluZGV4OyBpKyspIHtcclxuICAgICAgdmlld3BvcnROb2Rlcy5wdXNoKHZpc2libGVOb2Rlc1tpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZpZXdwb3J0Tm9kZXM7XHJcbiAgfVxyXG5cclxuICBmaXhTY3JvbGwoKSB7XHJcbiAgICBjb25zdCBtYXhZID0gTWF0aC5tYXgoMCwgdGhpcy50b3RhbEhlaWdodCAtIHRoaXMudmlld3BvcnRIZWlnaHQpO1xyXG5cclxuICAgIGlmICh0aGlzLnkgPCAwKSB0aGlzLl9zZXRZQmxvY2tzKDApO1xyXG4gICAgaWYgKHRoaXMueSA+IG1heFkpIHRoaXMuX3NldFlCbG9ja3MobWF4WSAvIFlfRVBTSUxPTik7XHJcbiAgfVxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xue3R5cGU6IFRyZWVNb2RlbCwgfSxcbl07XG59XHJcblxyXG5mdW5jdGlvbiBiaW5hcnlTZWFyY2gobm9kZXMsIGNvbmRpdGlvbiwgZmlyc3RJbmRleCA9IDApIHtcclxuICBsZXQgaW5kZXggPSBmaXJzdEluZGV4O1xyXG4gIGxldCB0b0luZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTtcclxuXHJcbiAgd2hpbGUgKGluZGV4ICE9PSB0b0luZGV4KSB7XHJcbiAgICBsZXQgbWlkSW5kZXggPSBNYXRoLmZsb29yKChpbmRleCArIHRvSW5kZXgpIC8gMik7XHJcblxyXG4gICAgaWYgKGNvbmRpdGlvbihub2Rlc1ttaWRJbmRleF0pKSB7XHJcbiAgICAgIHRvSW5kZXggPSBtaWRJbmRleDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAoaW5kZXggPT09IG1pZEluZGV4KSBpbmRleCA9IHRvSW5kZXg7XHJcbiAgICAgIGVsc2UgaW5kZXggPSBtaWRJbmRleDtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGluZGV4O1xyXG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","export var KEYS = {\r\n    LEFT: 37,\r\n    UP: 38,\r\n    RIGHT: 39,\r\n    DOWN: 40,\r\n    ENTER: 13,\r\n    SPACE: 32,\r\n    CONTEXT_MENU: 32\r\n};\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb25zdGFudHMva2V5cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxJQUFJLEdBQUc7SUFDbEIsSUFBSSxFQUFFLEVBQUU7SUFDUixFQUFFLEVBQUUsRUFBRTtJQUNOLEtBQUssRUFBRSxFQUFFO0lBQ1QsSUFBSSxFQUFFLEVBQUU7SUFDUixLQUFLLEVBQUUsRUFBRTtJQUNULEtBQUssRUFBRSxFQUFFO0lBQ1QsWUFBWSxFQUFFLEVBQUU7Q0FDakIsQ0FBQyIsImZpbGUiOiJrZXlzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBLRVlTID0ge1xyXG4gIExFRlQ6IDM3LFxyXG4gIFVQOiAzOCxcclxuICBSSUdIVDogMzksXHJcbiAgRE9XTjogNDAsXHJcbiAgRU5URVI6IDEzLFxyXG4gIFNQQUNFOiAzMixcclxuICBDT05URVhUX01FTlU6IDMyXHJcbn07XHJcbiJdfQ==","import { KEYS } from '../constants/keys';\r\nimport defaultsDeep from 'lodash/defaultsDeep';\r\nimport get from 'lodash/get';\r\nimport omit from 'lodash/omit';\r\nimport isNumber from 'lodash/isNumber';\r\nexport var TREE_ACTIONS = {\r\n    TOGGLE_ACTIVE: function (tree, node, $event) { return node && node.toggleActivated(); },\r\n    TOGGLE_ACTIVE_MULTI: function (tree, node, $event) { return node && node.toggleActivated(true); },\r\n    TOGGLE_SELECTED: function (tree, node, $event) { return node && node.toggleSelected(); },\r\n    SELECT: function (tree, node, $event) { return node.setIsActive(true); },\r\n    DESELECT: function (tree, node, $event) { return node.setIsActive(false); },\r\n    FOCUS: function (tree, node, $event) { return node.focus(); },\r\n    TOGGLE_EXPANDED: function (tree, node, $event) { return node.hasChildren && node.toggleExpanded(); },\r\n    EXPAND: function (tree, node, $event) { return node.expand(); },\r\n    COLLAPSE: function (tree, node, $event) { return node.collapse(); },\r\n    DRILL_DOWN: function (tree, node, $event) { return tree.focusDrillDown(); },\r\n    DRILL_UP: function (tree, node, $event) { return tree.focusDrillUp(); },\r\n    NEXT_NODE: function (tree, node, $event) { return tree.focusNextNode(); },\r\n    PREVIOUS_NODE: function (tree, node, $event) { return tree.focusPreviousNode(); },\r\n    MOVE_NODE: function (tree, node, $event, _a) {\r\n        var from = _a.from, to = _a.to;\r\n        // default action assumes from = node, to = {parent, index}\r\n        if ($event.ctrlKey) {\r\n            tree.copyNode(from, to);\r\n        }\r\n        else {\r\n            tree.moveNode(from, to);\r\n        }\r\n    }\r\n};\r\nvar defaultActionMapping = {\r\n    mouse: {\r\n        click: TREE_ACTIONS.TOGGLE_ACTIVE,\r\n        dblClick: null,\r\n        contextMenu: null,\r\n        expanderClick: TREE_ACTIONS.TOGGLE_EXPANDED,\r\n        checkboxClick: TREE_ACTIONS.TOGGLE_SELECTED,\r\n        drop: TREE_ACTIONS.MOVE_NODE\r\n    },\r\n    keys: (_a = {},\r\n        _a[KEYS.RIGHT] = TREE_ACTIONS.DRILL_DOWN,\r\n        _a[KEYS.LEFT] = TREE_ACTIONS.DRILL_UP,\r\n        _a[KEYS.DOWN] = TREE_ACTIONS.NEXT_NODE,\r\n        _a[KEYS.UP] = TREE_ACTIONS.PREVIOUS_NODE,\r\n        _a[KEYS.SPACE] = TREE_ACTIONS.TOGGLE_ACTIVE,\r\n        _a[KEYS.ENTER] = TREE_ACTIONS.TOGGLE_ACTIVE,\r\n        _a)\r\n};\r\nvar TreeOptions = /** @class */ (function () {\r\n    function TreeOptions(options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.options = options;\r\n        this.actionMapping = defaultsDeep({}, this.options.actionMapping, defaultActionMapping);\r\n        if (options.rtl) {\r\n            this.actionMapping.keys[KEYS.RIGHT] = get(options, ['actionMapping', 'keys', KEYS.RIGHT]) || TREE_ACTIONS.DRILL_UP;\r\n            this.actionMapping.keys[KEYS.LEFT] = get(options, ['actionMapping', 'keys', KEYS.LEFT]) || TREE_ACTIONS.DRILL_DOWN;\r\n        }\r\n    }\r\n    Object.defineProperty(TreeOptions.prototype, \"hasChildrenField\", {\r\n        get: function () { return this.options.hasChildrenField || 'hasChildren'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"childrenField\", {\r\n        get: function () { return this.options.childrenField || 'children'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"displayField\", {\r\n        get: function () { return this.options.displayField || 'name'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"idField\", {\r\n        get: function () { return this.options.idField || 'id'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"isExpandedField\", {\r\n        get: function () { return this.options.isExpandedField || 'isExpanded'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"getChildren\", {\r\n        get: function () { return this.options.getChildren; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"levelPadding\", {\r\n        get: function () { return this.options.levelPadding || 0; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"useVirtualScroll\", {\r\n        get: function () { return this.options.useVirtualScroll; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"animateExpand\", {\r\n        get: function () { return this.options.animateExpand; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"animateSpeed\", {\r\n        get: function () { return this.options.animateSpeed || 1; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"animateAcceleration\", {\r\n        get: function () { return this.options.animateAcceleration || 1.2; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"scrollOnSelect\", {\r\n        get: function () { return this.options.scrollOnSelect === undefined ? true : this.options.scrollOnSelect; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"rtl\", {\r\n        get: function () { return !!this.options.rtl; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"rootId\", {\r\n        get: function () { return this.options.rootId; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"useCheckbox\", {\r\n        get: function () { return this.options.useCheckbox; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeOptions.prototype.getNodeClone = function (node) {\r\n        if (this.options.getNodeClone) {\r\n            return this.options.getNodeClone(node);\r\n        }\r\n        return omit(Object.assign({}, node.data), ['id']);\r\n    };\r\n    TreeOptions.prototype.allowDrop = function (element, to, $event) {\r\n        if (this.options.allowDrop instanceof Function) {\r\n            return this.options.allowDrop(element, to, $event);\r\n        }\r\n        else {\r\n            return this.options.allowDrop === undefined ? true : this.options.allowDrop;\r\n        }\r\n    };\r\n    TreeOptions.prototype.allowDrag = function (node) {\r\n        if (this.options.allowDrag instanceof Function) {\r\n            return this.options.allowDrag(node);\r\n        }\r\n        else {\r\n            return this.options.allowDrag;\r\n        }\r\n    };\r\n    TreeOptions.prototype.nodeClass = function (node) {\r\n        return this.options.nodeClass ? this.options.nodeClass(node) : '';\r\n    };\r\n    TreeOptions.prototype.nodeHeight = function (node) {\r\n        if (node.data.virtual) {\r\n            return 0;\r\n        }\r\n        var nodeHeight = this.options.nodeHeight || 22;\r\n        if (typeof nodeHeight === 'function') {\r\n            nodeHeight = nodeHeight(node);\r\n        }\r\n        // account for drop slots:\r\n        return nodeHeight + (node.index === 0 ? 2 : 1) * this.dropSlotHeight;\r\n    };\r\n    Object.defineProperty(TreeOptions.prototype, \"dropSlotHeight\", {\r\n        get: function () {\r\n            return isNumber(this.options.dropSlotHeight) ? this.options.dropSlotHeight : 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return TreeOptions;\r\n}());\r\nexport { TreeOptions };\r\nvar _a;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS1vcHRpb25zLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUd6QyxPQUFPLFlBQVksTUFBTSxxQkFBcUIsQ0FBQztBQUMvQyxPQUFPLEdBQUcsTUFBTSxZQUFZLENBQUM7QUFDN0IsT0FBTyxJQUFJLE1BQU0sYUFBYSxDQUFDO0FBQy9CLE9BQU8sUUFBUSxNQUFNLGlCQUFpQixDQUFDO0FBTXZDLE1BQU0sQ0FBQyxJQUFNLFlBQVksR0FBRztJQUMxQixhQUFhLEVBQUUsVUFBQyxJQUFlLEVBQUUsSUFBYyxFQUFFLE1BQVcsSUFBSyxPQUFBLElBQUksSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFLEVBQTlCLENBQThCO0lBQy9GLG1CQUFtQixFQUFFLFVBQUMsSUFBZSxFQUFFLElBQWMsRUFBRSxNQUFXLElBQUssT0FBQSxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsRUFBbEMsQ0FBa0M7SUFDekcsZUFBZSxFQUFFLFVBQUMsSUFBZSxFQUFFLElBQWMsRUFBRSxNQUFXLElBQUssT0FBQSxJQUFJLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRSxFQUE3QixDQUE2QjtJQUNoRyxNQUFNLEVBQUUsVUFBQyxJQUFlLEVBQUUsSUFBYyxFQUFFLE1BQVcsSUFBSyxPQUFBLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQXRCLENBQXNCO0lBQ2hGLFFBQVEsRUFBRSxVQUFDLElBQWUsRUFBRSxJQUFjLEVBQUUsTUFBVyxJQUFLLE9BQUEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsRUFBdkIsQ0FBdUI7SUFDbkYsS0FBSyxFQUFFLFVBQUMsSUFBZSxFQUFFLElBQWMsRUFBRSxNQUFXLElBQUssT0FBQSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQVosQ0FBWTtJQUNyRSxlQUFlLEVBQUUsVUFBQyxJ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QUFDO0lBRUQsZ0NBQVUsR0FBVixVQUFXLElBQWM7UUFDdkIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDO1FBRUQsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksRUFBRSxDQUFDO1FBRS9DLEVBQUUsQ0FBQyxDQUFDLE9BQU8sVUFBVSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDckMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoQyxDQUFDO1FBRUQsMEJBQTBCO1FBQzFCLE1BQU0sQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQ3hFLENBQUM7SUFFRCxzQkFBSSx1Q0FBYzthQUFsQjtZQUNFLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRixDQUFDOzs7T0FBQTtJQUNILGtCQUFDO0FBQUQsQ0F6RUEsQUF5RUMsSUFBQSIsImZpbGUiOiJ0cmVlLW9wdGlvbnMubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuL3RyZWUtbm9kZS5tb2RlbCc7XHJcbmltcG9ydCB7IFRyZWVNb2RlbCB9IGZyb20gJy4vdHJlZS5tb2RlbCc7XHJcbmltcG9ydCB7IEtFWVMgfSBmcm9tICcuLi9jb25zdGFudHMva2V5cyc7XHJcbmltcG9ydCB7IElUcmVlT3B0aW9ucyB9IGZyb20gJy4uL2RlZnMvYXBpJztcclxuXHJcbmltcG9ydCBkZWZhdWx0c0RlZXAgZnJvbSAnbG9kYXNoL2RlZmF1bHRzRGVlcCc7XHJcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XHJcbmltcG9ydCBvbWl0IGZyb20gJ2xvZGFzaC9vbWl0JztcclxuaW1wb3J0IGlzTnVtYmVyIGZyb20gJ2xvZGFzaC9pc051bWJlcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElBY3Rpb25IYW5kbGVyIHtcclxuICAodHJlZTogVHJlZU1vZGVsLCBub2RlOiBUcmVlTm9kZSwgJGV2ZW50OiBhbnksIC4uLnJlc3QpO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVFJFRV9BQ1RJT05TID0ge1xyXG4gIFRPR0dMRV9BQ1RJVkU6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZSAmJiBub2RlLnRvZ2dsZUFjdGl2YXRlZCgpLFxyXG4gIFRPR0dMRV9BQ1RJVkVfTVVMVEk6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZSAmJiBub2RlLnRvZ2dsZUFjdGl2YXRlZCh0cnVlKSxcclxuICBUT0dHTEVfU0VMRUNURUQ6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZSAmJiBub2RlLnRvZ2dsZVNlbGVjdGVkKCksXHJcbiAgU0VMRUNUOiAodHJlZTogVHJlZU1vZGVsLCBub2RlOiBUcmVlTm9kZSwgJGV2ZW50OiBhbnkpID0+IG5vZGUuc2V0SXNBY3RpdmUodHJ1ZSksXHJcbiAgREVTRUxFQ1Q6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZS5zZXRJc0FjdGl2ZShmYWxzZSksXHJcbiAgRk9DVVM6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZS5mb2N1cygpLFxyXG4gIFRPR0dMRV9FWFBBTkRFRDogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiBub2RlLmhhc0NoaWxkcmVuICYmIG5vZGUudG9nZ2xlRXhwYW5kZWQoKSxcclxuICBFWFBBTkQ6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZS5leHBhbmQoKSxcclxuICBDT0xMQVBTRTogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiBub2RlLmNvbGxhcHNlKCksXHJcbiAgRFJJTExfRE9XTjogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiB0cmVlLmZvY3VzRHJpbGxEb3duKCksXHJcbiAgRFJJTExfVVA6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gdHJlZS5mb2N1c0RyaWxsVXAoKSxcclxuICBORVhUX05PREU6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gIHRyZWUuZm9jdXNOZXh0Tm9kZSgpLFxyXG4gIFBSRVZJT1VTX05PREU6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gIHRyZWUuZm9jdXNQcmV2aW91c05vZGUoKSxcclxuICBNT1ZFX05PREU6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSwge2Zyb20gLCB0b306IHtmcm9tOiBhbnksIHRvOiBhbnl9KSA9PiB7XHJcbiAgICAvLyBkZWZhdWx0IGFjdGlvbiBhc3N1bWVzIGZyb20gPSBub2RlLCB0byA9IHtwYXJlbnQsIGluZGV4fVxyXG4gICAgaWYgKCRldmVudC5jdHJsS2V5KSB7XHJcbiAgICAgIHRyZWUuY29weU5vZGUoZnJvbSwgdG8pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdHJlZS5tb3ZlTm9kZShmcm9tLCB0byk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdEFjdGlvbk1hcHBpbmc6IElBY3Rpb25NYXBwaW5nID0ge1xyXG4gIG1vdXNlOiB7XHJcbiAgICBjbGljazogVFJFRV9BQ1RJT05TLlRPR0dMRV9BQ1RJVkUsXHJcbiAgICBkYmxDbGljazogbnVsbCxcclxuICAgIGNvbnRleHRNZW51OiBudWxsLFxyXG4gICAgZXhwYW5kZXJDbGljazogVFJFRV9BQ1RJT05TLlRPR0dMRV9FWFBBTkRFRCxcclxuICAgIGNoZWNrYm94Q2xpY2s6IFRSRUVfQUNUSU9OUy5UT0dHTEVfU0VMRUNURUQsXHJcbiAgICBkcm9wOiBUUkVFX0FDVElPTlMuTU9WRV9OT0RFXHJcbiAgfSxcclxuICBrZXlzOiB7XHJcbiAgICBbS0VZUy5SSUdIVF06IFRSRUVfQUNUSU9OUy5EUklMTF9ET1dOLFxyXG4gICAgW0tFWVMuTEVGVF06IFRSRUVfQUNUSU9OUy5EUklMTF9VUCxcclxuICAgIFtLRVlTLkRPV05dOiBUUkVFX0FDVElPTlMuTkVYVF9OT0RFLFxyXG4gICAgW0tFWVMuVVBdOiBUUkVFX0FDVElPTlMuUFJFVklPVVNfTk9ERSxcclxuICAgIFtLRVlTLlNQQUNFXTogVFJFRV9BQ1RJT05TLlRPR0dMRV9BQ1RJVkUsXHJcbiAgICBbS0VZUy5FTlRFUl06IFRSRUVfQUNUSU9OUy5UT0dHTEVfQUNUSVZFXHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQWN0aW9uTWFwcGluZyB7XHJcbiAgbW91c2U/OiB7XHJcbiAgICBjbGljaz86IElBY3Rpb25IYW5kbGVyLFxyXG4gICAgZGJsQ2xpY2s/OiBJQWN0aW9uSGFuZGxlcixcclxuICAgIGNvbnRleHRNZW51PzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBleHBhbmRlckNsaWNrPzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBjaGVja2JveENsaWNrPzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBkcmFnU3RhcnQ/OiBJQWN0aW9uSGFuZGxlcixcclxuICAgIGRyYWc/OiBJQWN0aW9uSGFuZGxlcixcclxuICAgIGRyYWdFbmQ/OiBJQWN0aW9uSGFuZGxlcixcclxuICAgIGRyYWdPdmVyPzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBkcmFnTGVhdmU/OiBJQWN0aW9uSGFuZGxlcixcclxuICAgIGRyYWdFbnRlcj86IElBY3Rpb25IYW5kbGVyLFxyXG4gICAgZHJvcD86IElBY3Rpb25IYW5kbGVyXHJcbiAgfTtcclxuICBrZXlzPzoge1xyXG4gICAgW2tleTogbnVtYmVyXTogSUFjdGlvbkhhbmRsZXJcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZU9wdGlvbnMge1xyXG4gIGdldCBoYXNDaGlsZHJlbkZpZWxkKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLm9wdGlvbnMuaGFzQ2hpbGRyZW5GaWVsZCB8fCAnaGFzQ2hpbGRyZW4nOyB9XHJcbiAgZ2V0IGNoaWxkcmVuRmllbGQoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5jaGlsZHJlbkZpZWxkIHx8ICdjaGlsZHJlbic7IH1cclxuICBnZXQgZGlzcGxheUZpZWxkKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLm9wdGlvbnMuZGlzcGxheUZpZWxkIHx8ICduYW1lJzsgfVxyXG4gIGdldCBpZEZpZWxkKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLm9wdGlvbnMuaWRGaWVsZCB8fCAnaWQnOyB9XHJcbiAgZ2V0IGlzRXhwYW5kZWRGaWVsZCgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5vcHRpb25zLmlzRXhwYW5kZWRGaWVsZCB8fCAnaXNFeHBhbmRlZCc7IH1cclxuICBnZXQgZ2V0Q2hpbGRyZW4oKTogYW55IHsgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXRDaGlsZHJlbjsgfVxyXG4gIGdldCBsZXZlbFBhZGRpbmcoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5sZXZlbFBhZGRpbmcgfHwgMDsgfVxyXG4gIGdldCB1c2VWaXJ0dWFsU2Nyb2xsKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5vcHRpb25zLnVzZVZpcnR1YWxTY3JvbGw7IH1cclxuICBnZXQgYW5pbWF0ZUV4cGFuZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5hbmltYXRlRXhwYW5kOyB9XHJcbiAgZ2V0IGFuaW1hdGVTcGVlZCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5vcHRpb25zLmFuaW1hdGVTcGVlZCB8fCAxOyB9XHJcbiAgZ2V0IGFuaW1hdGVBY2NlbGVyYXRpb24oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5hbmltYXRlQWNjZWxlcmF0aW9uIHx8IDEuMjsgfVxyXG4gIGdldCBzY3JvbGxPblNlbGVjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5zY3JvbGxPblNlbGVjdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHRoaXMub3B0aW9ucy5zY3JvbGxPblNlbGVjdDsgfVxyXG4gIGdldCBydGwoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMub3B0aW9ucy5ydGw7IH1cclxuICBnZXQgcm9vdElkKCk6IGFueSB7cmV0dXJuIHRoaXMub3B0aW9ucy5yb290SWQ7IH1cclxuICBnZXQgdXNlQ2hlY2tib3goKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLm9wdGlvbnMudXNlQ2hlY2tib3g7IH1cclxuICBhY3Rpb25NYXBwaW5nOiBJQWN0aW9uTWFwcGluZztcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvcHRpb25zOiBJVHJlZU9wdGlvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5hY3Rpb25NYXBwaW5nID0gZGVmYXVsdHNEZWVwKHt9LCB0aGlzLm9wdGlvbnMuYWN0aW9uTWFwcGluZywgZGVmYXVsdEFjdGlvbk1hcHBpbmcpO1xyXG4gICAgaWYgKG9wdGlvbnMucnRsKSB7XHJcbiAgICAgIHRoaXMuYWN0aW9uTWFwcGluZy5rZXlzW0tFWVMuUklHSFRdID0gPElBY3Rpb25IYW5kbGVyPmdldChvcHRpb25zLCBbJ2FjdGlvbk1hcHBpbmcnLCAna2V5cycsIEtFWVMuUklHSFRdKSB8fCBUUkVFX0FDVElPTlMuRFJJTExfVVA7XHJcbiAgICAgIHRoaXMuYWN0aW9uTWFwcGluZy5rZXlzW0tFWVMuTEVGVF0gPSA8SUFjdGlvbkhhbmRsZXI+Z2V0KG9wdGlvbnMsIFsnYWN0aW9uTWFwcGluZycsICdrZXlzJywgS0VZUy5MRUZUXSkgfHwgVFJFRV9BQ1RJT05TLkRSSUxMX0RPV047XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXROb2RlQ2xvbmUobm9kZTogVHJlZU5vZGUpOiBhbnkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5nZXROb2RlQ2xvbmUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXROb2RlQ2xvbmUobm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9taXQoT2JqZWN0LmFzc2lnbih7fSwgbm9kZS5kYXRhKSwgWydpZCddKTtcclxuICB9XHJcblxyXG4gIGFsbG93RHJvcChlbGVtZW50LCB0bywgJGV2ZW50Pyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0Ryb3AgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFsbG93RHJvcChlbGVtZW50LCB0bywgJGV2ZW50KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFsbG93RHJvcCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHRoaXMub3B0aW9ucy5hbGxvd0Ryb3A7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhbGxvd0RyYWcobm9kZTogVHJlZU5vZGUpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dEcmFnIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hbGxvd0RyYWcobm9kZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFsbG93RHJhZztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5vZGVDbGFzcyhub2RlOiBUcmVlTm9kZSk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLm5vZGVDbGFzcyA/IHRoaXMub3B0aW9ucy5ub2RlQ2xhc3Mobm9kZSkgOiAnJztcclxuICB9XHJcblxyXG4gIG5vZGVIZWlnaHQobm9kZTogVHJlZU5vZGUpOiBudW1iZXIge1xyXG4gICAgaWYgKG5vZGUuZGF0YS52aXJ0dWFsKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBub2RlSGVpZ2h0ID0gdGhpcy5vcHRpb25zLm5vZGVIZWlnaHQgfHwgMjI7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBub2RlSGVpZ2h0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIG5vZGVIZWlnaHQgPSBub2RlSGVpZ2h0KG5vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFjY291bnQgZm9yIGRyb3Agc2xvdHM6XHJcbiAgICByZXR1cm4gbm9kZUhlaWdodCArIChub2RlLmluZGV4ID09PSAwID8gIDIgOiAxKSAqIHRoaXMuZHJvcFNsb3RIZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBnZXQgZHJvcFNsb3RIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBpc051bWJlcih0aGlzLm9wdGlvbnMuZHJvcFNsb3RIZWlnaHQpID8gdGhpcy5vcHRpb25zLmRyb3BTbG90SGVpZ2h0IDogMjtcclxuICB9XHJcbn1cclxuIl19","export var TREE_EVENTS = {\r\n    toggleExpanded: 'toggleExpanded',\r\n    activate: 'activate',\r\n    deactivate: 'deactivate',\r\n    select: 'select',\r\n    deselect: 'deselect',\r\n    focus: 'focus',\r\n    blur: 'blur',\r\n    initialized: 'initialized',\r\n    updateData: 'updateData',\r\n    moveNode: 'moveNode',\r\n    copyNode: 'copyNode',\r\n    event: 'event',\r\n    loadNodeChildren: 'loadNodeChildren',\r\n    changeFilter: 'changeFilter',\r\n    stateChange: 'stateChange'\r\n};\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb25zdGFudHMvZXZlbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRztJQUN6QixjQUFjLEVBQUUsZ0JBQWdCO0lBQ2hDLFFBQVEsRUFBRSxVQUFVO0lBQ3BCLFVBQVUsRUFBRSxZQUFZO0lBQ3hCLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLFFBQVEsRUFBRSxVQUFVO0lBQ3BCLEtBQUssRUFBRSxPQUFPO0lBQ2QsSUFBSSxFQUFFLE1BQU07SUFDWixXQUFXLEVBQUUsYUFBYTtJQUMxQixVQUFVLEVBQUUsWUFBWTtJQUN4QixRQUFRLEVBQUUsVUFBVTtJQUNwQixRQUFRLEVBQUUsVUFBVTtJQUNwQixLQUFLLEVBQUUsT0FBTztJQUNkLGdCQUFnQixFQUFFLGtCQUFrQjtJQUNwQyxZQUFZLEVBQUUsY0FBYztJQUM1QixXQUFXLEVBQUUsYUFBYTtDQUMzQixDQUFDIiwiZmlsZSI6ImV2ZW50cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVFJFRV9FVkVOVFMgPSB7XHJcbiAgdG9nZ2xlRXhwYW5kZWQ6ICd0b2dnbGVFeHBhbmRlZCcsXHJcbiAgYWN0aXZhdGU6ICdhY3RpdmF0ZScsXHJcbiAgZGVhY3RpdmF0ZTogJ2RlYWN0aXZhdGUnLFxyXG4gIHNlbGVjdDogJ3NlbGVjdCcsXHJcbiAgZGVzZWxlY3Q6ICdkZXNlbGVjdCcsXHJcbiAgZm9jdXM6ICdmb2N1cycsXHJcbiAgYmx1cjogJ2JsdXInLFxyXG4gIGluaXRpYWxpemVkOiAnaW5pdGlhbGl6ZWQnLFxyXG4gIHVwZGF0ZURhdGE6ICd1cGRhdGVEYXRhJyxcclxuICBtb3ZlTm9kZTogJ21vdmVOb2RlJyxcclxuICBjb3B5Tm9kZTogJ2NvcHlOb2RlJyxcclxuICBldmVudDogJ2V2ZW50JyxcclxuICBsb2FkTm9kZUNoaWxkcmVuOiAnbG9hZE5vZGVDaGlsZHJlbicsXHJcbiAgY2hhbmdlRmlsdGVyOiAnY2hhbmdlRmlsdGVyJyxcclxuICBzdGF0ZUNoYW5nZTogJ3N0YXRlQ2hhbmdlJ1xyXG59O1xyXG4iXX0=","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { observable, computed, action, autorun } from 'mobx';\r\nimport { TreeNode } from './tree-node.model';\r\nimport { TreeOptions } from './tree-options.model';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nimport first from 'lodash/first';\r\nimport last from 'lodash/last';\r\nimport compact from 'lodash/compact';\r\nimport find from 'lodash/find';\r\nimport isString from 'lodash/isString';\r\nimport isFunction from 'lodash/isFunction';\r\nvar TreeModel = /** @class */ (function () {\r\n    function TreeModel() {\r\n        this.options = new TreeOptions();\r\n        this.eventNames = Object.keys(TREE_EVENTS);\r\n        this.expandedNodeIds = {};\r\n        this.selectedLeafNodeIds = {};\r\n        this.activeNodeIds = {};\r\n        this.hiddenNodeIds = {};\r\n        this.focusedNodeId = null;\r\n        this.firstUpdate = true;\r\n    }\r\n    // events\r\n    TreeModel.prototype.fireEvent = function (event) {\r\n        event.treeModel = this;\r\n        this.events[event.eventName].emit(event);\r\n        this.events.event.emit(event);\r\n    };\r\n    TreeModel.prototype.subscribe = function (eventName, fn) {\r\n        this.events[eventName].subscribe(fn);\r\n    };\r\n    // getters\r\n    TreeModel.prototype.getFocusedNode = function () {\r\n        return this.focusedNode;\r\n    };\r\n    TreeModel.prototype.getActiveNode = function () {\r\n        return this.activeNodes[0];\r\n    };\r\n    TreeModel.prototype.getActiveNodes = function () {\r\n        return this.activeNodes;\r\n    };\r\n    TreeModel.prototype.getVisibleRoots = function () {\r\n        return this.virtualRoot.visibleChildren;\r\n    };\r\n    TreeModel.prototype.getFirstRoot = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return first(skipHidden ? this.getVisibleRoots() : this.roots);\r\n    };\r\n    TreeModel.prototype.getLastRoot = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return last(skipHidden ? this.getVisibleRoots() : this.roots);\r\n    };\r\n    Object.defineProperty(TreeModel.prototype, \"isFocused\", {\r\n        get: function () {\r\n            return TreeModel.focusedTree === this;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeModel.prototype.isNodeFocused = function (node) {\r\n        return this.focusedNode === node;\r\n    };\r\n    TreeModel.prototype.isEmptyTree = function () {\r\n        return this.roots && this.roots.length === 0;\r\n    };\r\n    Object.defineProperty(TreeModel.prototype, \"focusedNode\", {\r\n        get: function () {\r\n            return this.focusedNodeId ? this.getNodeById(this.focusedNodeId) : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeModel.prototype, \"expandedNodes\", {\r\n        get: function () {\r\n            var _this = this;\r\n            var nodes = Object.keys(this.expandedNodeIds)\r\n                .filter(function (id) { return _this.expandedNodeIds[id]; })\r\n                .map(function (id) { return _this.getNodeById(id); });\r\n            return compact(nodes);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeModel.prototype, \"activeNodes\", {\r\n        get: function () {\r\n            var _this = this;\r\n            var nodes = Object.keys(this.activeNodeIds)\r\n                .filter(function (id) { return _this.activeNodeIds[id]; })\r\n                .map(function (id) { return _this.getNodeById(id); });\r\n            return compact(nodes);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // locating nodes\r\n    TreeModel.prototype.getNodeByPath = function (path, startNode) {\r\n        if (startNode === void 0) { startNode = null; }\r\n        if (!path)\r\n            return null;\r\n        startNode = startNode || this.virtualRoot;\r\n        if (path.length === 0)\r\n            return startNode;\r\n        if (!startNode.children)\r\n            return null;\r\n        var childId = path.shift();\r\n        var childNode = find(startNode.children, { id: childId });\r\n        if (!childNode)\r\n            return null;\r\n        return this.getNodeByPath(path, childNode);\r\n    };\r\n    TreeModel.prototype.getNodeById = function (id) {\r\n        var idStr = id.toString();\r\n        return this.getNodeBy(function (node) { return node.id.toString() === idStr; });\r\n    };\r\n    TreeModel.prototype.getNodeBy = function (predicate, startNode) {\r\n        if (startNode === void 0) { startNode = null; }\r\n        startNode = startNode || this.virtualRoot;\r\n        if (!startNode.children)\r\n            return null;\r\n        var found = find(startNode.children, predicate);\r\n        if (found) {\r\n            return found;\r\n        }\r\n        else {\r\n            for (var _i = 0, _a = startNode.children; _i < _a.length; _i++) {\r\n                var child = _a[_i];\r\n                var foundInChildren = this.getNodeBy(predicate, child);\r\n                if (foundInChildren)\r\n                    return foundInChildren;\r\n            }\r\n        }\r\n    };\r\n    TreeModel.prototype.isExpanded = function (node) {\r\n        return this.expandedNodeIds[node.id];\r\n    };\r\n    TreeModel.prototype.isHidden = function (node) {\r\n        return this.hiddenNodeIds[node.id];\r\n    };\r\n    TreeModel.prototype.isActive = function (node) {\r\n        return this.activeNodeIds[node.id];\r\n    };\r\n    TreeModel.prototype.isSelected = function (node) {\r\n        return this.selectedLeafNodeIds[node.id];\r\n    };\r\n    // actions\r\n    TreeModel.prototype.setData = function (_a) {\r\n        var nodes = _a.nodes, _b = _a.options, options = _b === void 0 ? null : _b, _c = _a.events, events = _c === void 0 ? null : _c;\r\n        if (options) {\r\n            this.options = new TreeOptions(options);\r\n        }\r\n        if (events) {\r\n            this.events = events;\r\n        }\r\n        if (nodes) {\r\n            this.nodes = nodes;\r\n        }\r\n        this.update();\r\n    };\r\n    TreeModel.prototype.update = function () {\r\n        // Rebuild tree:\r\n        var virtualRootConfig = (_a = {\r\n                id: this.options.rootId,\r\n                virtual: true\r\n            },\r\n            _a[this.options.childrenField] = this.nodes,\r\n            _a);\r\n        // Dispose reactions of the replaced nodes\r\n        if (this.virtualRoot) {\r\n            this.virtualRoot.dispose();\r\n        }\r\n        this.virtualRoot = new TreeNode(virtualRootConfig, null, this, 0);\r\n        this.roots = this.virtualRoot.children;\r\n        // Fire event:\r\n        if (this.firstUpdate) {\r\n            if (this.roots) {\r\n                this.firstUpdate = false;\r\n                this._calculateExpandedNodes();\r\n            }\r\n        }\r\n        else {\r\n            this.fireEvent({ eventName: TREE_EVENTS.updateData });\r\n        }\r\n        var _a;\r\n    };\r\n    TreeModel.prototype.setFocusedNode = function (node) {\r\n        this.focusedNodeId = node ? node.id : null;\r\n    };\r\n    TreeModel.prototype.setFocus = function (value) {\r\n        TreeModel.focusedTree = value ? this : null;\r\n    };\r\n    TreeModel.prototype.doForAll = function (fn) {\r\n        this.roots.forEach(function (root) { return root.doForAll(fn); });\r\n    };\r\n    TreeModel.prototype.focusNextNode = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        var nextNode = previousNode ? previousNode.findNextNode(true, true) : this.getFirstRoot(true);\r\n        if (nextNode)\r\n            nextNode.focus();\r\n    };\r\n    TreeModel.prototype.focusPreviousNode = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        var nextNode = previousNode ? previousNode.findPreviousNode(true) : this.getLastRoot(true);\r\n        if (nextNode)\r\n            nextNode.focus();\r\n    };\r\n    TreeModel.prototype.focusDrillDown = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        if (previousNode && previousNode.isCollapsed && previousNode.hasChildren) {\r\n            previousNode.toggleExpanded();\r\n        }\r\n        else {\r\n            var nextNode = previousNode ? previousNode.getFirstChild(true) : this.getFirstRoot(true);\r\n            if (nextNode)\r\n                nextNode.focus();\r\n        }\r\n    };\r\n    TreeModel.prototype.focusDrillUp = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        if (!previousNode)\r\n            return;\r\n        if (previousNode.isExpanded) {\r\n            previousNode.toggleExpanded();\r\n        }\r\n        else {\r\n            var nextNode = previousNode.realParent;\r\n            if (nextNode)\r\n                nextNode.focus();\r\n        }\r\n    };\r\n    TreeModel.prototype.setActiveNode = function (node, value, multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        if (multi) {\r\n            this._setActiveNodeMulti(node, value);\r\n        }\r\n        else {\r\n            this._setActiveNodeSingle(node, value);\r\n        }\r\n        if (value) {\r\n            node.focus();\r\n            this.fireEvent({ eventName: TREE_EVENTS.activate, node: node });\r\n        }\r\n        else {\r\n            this.fireEvent({ eventName: TREE_EVENTS.deactivate, node: node });\r\n        }\r\n    };\r\n    TreeModel.prototype.setSelectedNode = function (node, value) {\r\n        this.selectedLeafNodeIds = Object.assign({}, this.selectedLeafNodeIds, (_a = {}, _a[node.id] = value, _a));\r\n        if (value) {\r\n            node.focus();\r\n            this.fireEvent({ eventName: TREE_EVENTS.select, node: node });\r\n        }\r\n        else {\r\n            this.fireEvent({ eventName: TREE_EVENTS.deselect, node: node });\r\n        }\r\n        var _a;\r\n    };\r\n    TreeModel.prototype.setExpandedNode = function (node, value) {\r\n        this.expandedNodeIds = Object.assign({}, this.expandedNodeIds, (_a = {}, _a[node.id] = value, _a));\r\n        this.fireEvent({ eventName: TREE_EVENTS.toggleExpanded, node: node, isExpanded: value });\r\n        var _a;\r\n    };\r\n    TreeModel.prototype.expandAll = function () {\r\n        this.roots.forEach(function (root) { return root.expandAll(); });\r\n    };\r\n    TreeModel.prototype.collapseAll = function () {\r\n        this.roots.forEach(function (root) { return root.collapseAll(); });\r\n    };\r\n    TreeModel.prototype.setIsHidden = function (node, value) {\r\n        this.hiddenNodeIds = Object.assign({}, this.hiddenNodeIds, (_a = {}, _a[node.id] = value, _a));\r\n        var _a;\r\n    };\r\n    TreeModel.prototype.setHiddenNodeIds = function (nodeIds) {\r\n        this.hiddenNodeIds = nodeIds.reduce(function (hiddenNodeIds, id) {\r\n            return Object.assign(hiddenNodeIds, (_a = {},\r\n                _a[id] = true,\r\n                _a));\r\n            var _a;\r\n        }, {});\r\n    };\r\n    TreeModel.prototype.performKeyAction = function (node, $event) {\r\n        var action = this.options.actionMapping.keys[$event.keyCode];\r\n        if (action) {\r\n            $event.preventDefault();\r\n            action(this, node, $event);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    TreeModel.prototype.filterNodes = function (filter, autoShow) {\r\n        var _this = this;\r\n        if (autoShow === void 0) { autoShow = true; }\r\n        var filterFn;\r\n        if (!filter) {\r\n            return this.clearFilter();\r\n        }\r\n        // support function and string filter\r\n        if (isString(filter)) {\r\n            filterFn = function (node) { return node.displayField.toLowerCase().indexOf(filter.toLowerCase()) !== -1; };\r\n        }\r\n        else if (isFunction(filter)) {\r\n            filterFn = filter;\r\n        }\r\n        else {\r\n            console.error('Don\\'t know what to do with filter', filter);\r\n            console.error('Should be either a string or function');\r\n            return;\r\n        }\r\n        var ids = {};\r\n        this.roots.forEach(function (node) { return _this._filterNode(ids, node, filterFn, autoShow); });\r\n        this.hiddenNodeIds = ids;\r\n        this.fireEvent({ eventName: TREE_EVENTS.changeFilter });\r\n    };\r\n    TreeModel.prototype.clearFilter = function () {\r\n        this.hiddenNodeIds = {};\r\n        this.fireEvent({ eventName: TREE_EVENTS.changeFilter });\r\n    };\r\n    TreeModel.prototype.moveNode = function (node, to) {\r\n        var fromIndex = node.getIndexInParent();\r\n        var fromParent = node.parent;\r\n        if (!this._canMoveNode(node, fromIndex, to))\r\n            return;\r\n        var fromChildren = fromParent.getField('children');\r\n        // If node doesn't have children - create children array\r\n        if (!to.parent.getField('children')) {\r\n            to.parent.setField('children', []);\r\n        }\r\n        var toChildren = to.parent.getField('children');\r\n        var originalNode = fromChildren.splice(fromIndex, 1)[0];\r\n        // Compensate for index if already removed from parent:\r\n        var toIndex = (fromParent === to.parent && to.index > fromIndex) ? to.index - 1 : to.index;\r\n        toChildren.splice(toIndex, 0, originalNode);\r\n        fromParent.treeModel.update();\r\n        if (to.parent.treeModel !== fromParent.treeModel) {\r\n            to.parent.treeModel.update();\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.moveNode, node: originalNode, to: { parent: to.parent.data, index: toIndex } });\r\n    };\r\n    TreeModel.prototype.copyNode = function (node, to) {\r\n        var fromIndex = node.getIndexInParent();\r\n        if (!this._canMoveNode(node, fromIndex, to))\r\n            return;\r\n        // If node doesn't have children - create children array\r\n        if (!to.parent.getField('children')) {\r\n            to.parent.setField('children', []);\r\n        }\r\n        var toChildren = to.parent.getField('children');\r\n        var nodeCopy = this.options.getNodeClone(node);\r\n        toChildren.splice(to.index, 0, nodeCopy);\r\n        node.treeModel.update();\r\n        if (to.parent.treeModel !== node.treeModel) {\r\n            to.parent.treeModel.update();\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.copyNode, node: nodeCopy, to: { parent: to.parent.data, index: to.index } });\r\n    };\r\n    TreeModel.prototype.getState = function () {\r\n        return {\r\n            expandedNodeIds: this.expandedNodeIds,\r\n            selectedLeafNodeIds: this.selectedLeafNodeIds,\r\n            activeNodeIds: this.activeNodeIds,\r\n            hiddenNodeIds: this.hiddenNodeIds,\r\n            focusedNodeId: this.focusedNodeId\r\n        };\r\n    };\r\n    TreeModel.prototype.setState = function (state) {\r\n        if (!state)\r\n            return;\r\n        Object.assign(this, {\r\n            expandedNodeIds: state.expandedNodeIds || {},\r\n            selectedLeafNodeIds: state.selectedLeafNodeIds || {},\r\n            activeNodeIds: state.activeNodeIds || {},\r\n            hiddenNodeIds: state.hiddenNodeIds || {},\r\n            focusedNodeId: state.focusedNodeId\r\n        });\r\n    };\r\n    TreeModel.prototype.subscribeToState = function (fn) {\r\n        var _this = this;\r\n        autorun(function () { return fn(_this.getState()); });\r\n    };\r\n    // private methods\r\n    TreeModel.prototype._canMoveNode = function (node, fromIndex, to) {\r\n        // same node:\r\n        if (node.parent === to.parent && fromIndex === to.index) {\r\n            return false;\r\n        }\r\n        return !to.parent.isDescendantOf(node);\r\n    };\r\n    TreeModel.prototype._filterNode = function (ids, node, filterFn, autoShow) {\r\n        var _this = this;\r\n        // if node passes function then it's visible\r\n        var isVisible = filterFn(node);\r\n        if (node.children) {\r\n            // if one of node's children passes filter then this node is also visible\r\n            node.children.forEach(function (child) {\r\n                if (_this._filterNode(ids, child, filterFn, autoShow)) {\r\n                    isVisible = true;\r\n                }\r\n            });\r\n        }\r\n        // mark node as hidden\r\n        if (!isVisible) {\r\n            ids[node.id] = true;\r\n        }\r\n        // auto expand parents to make sure the filtered nodes are visible\r\n        if (autoShow && isVisible) {\r\n            node.ensureVisible();\r\n        }\r\n        return isVisible;\r\n    };\r\n    TreeModel.prototype._calculateExpandedNodes = function (startNode) {\r\n        var _this = this;\r\n        if (startNode === void 0) { startNode = null; }\r\n        startNode = startNode || this.virtualRoot;\r\n        if (startNode.data[this.options.isExpandedField]) {\r\n            this.expandedNodeIds = Object.assign({}, this.expandedNodeIds, (_a = {}, _a[startNode.id] = true, _a));\r\n        }\r\n        if (startNode.children) {\r\n            startNode.children.forEach(function (child) { return _this._calculateExpandedNodes(child); });\r\n        }\r\n        var _a;\r\n    };\r\n    TreeModel.prototype._setActiveNodeSingle = function (node, value) {\r\n        var _this = this;\r\n        // Deactivate all other nodes:\r\n        this.activeNodes\r\n            .filter(function (activeNode) { return activeNode !== node; })\r\n            .forEach(function (activeNode) {\r\n            _this.fireEvent({ eventName: TREE_EVENTS.deactivate, node: activeNode });\r\n        });\r\n        if (value) {\r\n            this.activeNodeIds = (_a = {}, _a[node.id] = true, _a);\r\n        }\r\n        else {\r\n            this.activeNodeIds = {};\r\n        }\r\n        var _a;\r\n    };\r\n    TreeModel.prototype._setActiveNodeMulti = function (node, value) {\r\n        this.activeNodeIds = Object.assign({}, this.activeNodeIds, (_a = {}, _a[node.id] = value, _a));\r\n        var _a;\r\n    };\r\n    TreeModel.focusedTree = null;\r\n    TreeModel.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeModel.ctorParameters = function () { return []; };\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Array)\r\n    ], TreeModel.prototype, \"roots\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"expandedNodeIds\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"selectedLeafNodeIds\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"activeNodeIds\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"hiddenNodeIds\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"focusedNodeId\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", TreeNode)\r\n    ], TreeModel.prototype, \"virtualRoot\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeModel.prototype, \"focusedNode\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeModel.prototype, \"expandedNodes\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeModel.prototype, \"activeNodes\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setData\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"update\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setFocusedNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setFocus\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"doForAll\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusNextNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusPreviousNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusDrillDown\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusDrillUp\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setActiveNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setSelectedNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setExpandedNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"expandAll\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"collapseAll\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setIsHidden\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setHiddenNodeIds\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"filterNodes\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"clearFilter\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"moveNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"copyNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setState\", null);\r\n    return TreeModel;\r\n}());\r\nexport { TreeModel };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBQSxFQUF5QixNQUFPLGVBQUEsQ0FBZ0I7QUFDekQsT0FBTyxFQUFFLFVBQUEsRUFBWSxRQUFBLEVBQVUsTUFBQSxFQUFRLE9BQUEsRUFBUSxNQUFPLE1BQUEsQ0FBTztBQUM3RCxPQUFPLEVBQUUsUUFBQSxFQUFTLE1BQU8sbUJBQUEsQ0FBb0I7QUFDN0MsT0FBTyxFQUFFLFdBQUEsRUFBWSxNQUFPLHNCQUFBLENBQXVCO0FBR25ELE9BQU8sRUFBRSxXQUFBLEVBQVksTUFBTyxxQkFBQSxDQUFzQjtBQUVsRCxPQUFPLEtBQUEsTUFBVyxjQUFBLENBQWU7QUFDakMsT0FBTyxJQUFBLE1BQVUsYUFBQSxDQUFjO0FBQy9CLE9BQU8sT0FBQSxNQUFhLGdCQUFBLENBQWlCO0FBQ3JDLE9BQU8sSUFBQSxNQUFVLGFBQUEsQ0FBYztBQUMvQixPQUFPLFFBQUEsTUFBYyxpQkFBQSxDQUFrQjtBQUN2QyxPQUFPLFVBQUEsTUFBZ0IsbUJBQUEsQ0FBb0I7QUFHM0M7SUFBQTtRQUdFLFlBQU8sR0FBZ0IsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUV6QyxlQUFVLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUkxQixvQkFBZSxHQUFxQixFQUFFLENBQUM7UUFDdkMsd0JBQW1CLEdBQXFCLEVBQUUsQ0FBQztRQUMzQyxrQkFBYSxHQUFxQixFQUFFLENBQUM7UUFDckMsa0JBQWEsR0FBcUIsRUFBRSxDQUFDO1FBQ3JDLGtCQUFhLEdBQVcsSUFBSSxDQUFDO1FBR2pDLGdCQUFXLEdBQUcsSUFBSSxDQUFDO0lBOGM3QixDQUFDO0lBM2NDLFNBQVM7SUFDVCw2QkFBUyxHQUFULFVBQVUsS0FBSztRQUNiLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMs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QVNOO0lBRU87UUFBUCxNQUFNOzs7O2lEQVVOO0lBRU87UUFBUCxNQUFNOzs7O2tEQWNOO0lBRU87UUFBUCxNQUFNOzs7O29EQVNOO0lBRU87UUFBUCxNQUFNOzs7O29EQUdOO0lBRU87UUFBUCxNQUFNOzs7OzhDQUVOO0lBRU87UUFBUCxNQUFNOzs7O2dEQUVOO0lBRU87UUFBUCxNQUFNOzs7O2dEQUVOO0lBRU87UUFBUCxNQUFNOzs7O3FEQUlOO0lBYU87UUFBUCxNQUFNOzs7O2dEQXdCTjtJQUVPO1FBQVAsTUFBTTs7OztnREFHTjtJQUVPO1FBQVAsTUFBTTs7Ozs2Q0EyQk47SUFFTztRQUFQLE1BQU07Ozs7NkNBcUJOO0lBWU87UUFBUCxNQUFNOzs7OzZDQVVOO0lBOEVILGdCQUFDO0NBOWRELEFBOGRDLElBQUE7U0E5ZFksU0FBUyIsImZpbGUiOiJ0cmVlLm1vZGVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBvYnNlcnZhYmxlLCBjb21wdXRlZCwgYWN0aW9uLCBhdXRvcnVuIH0gZnJvbSAnbW9ieCc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi90cmVlLW5vZGUubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlT3B0aW9ucyB9IGZyb20gJy4vdHJlZS1vcHRpb25zLm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZVZpcnR1YWxTY3JvbGwgfSBmcm9tICcuL3RyZWUtdmlydHVhbC1zY3JvbGwubW9kZWwnO1xyXG5pbXBvcnQgeyBJVHJlZU1vZGVsLCBJRFR5cGUsIElEVHlwZURpY3Rpb25hcnkgfSBmcm9tICcuLi9kZWZzL2FwaSc7XHJcbmltcG9ydCB7IFRSRUVfRVZFTlRTIH0gZnJvbSAnLi4vY29uc3RhbnRzL2V2ZW50cyc7XHJcblxyXG5pbXBvcnQgZmlyc3QgZnJvbSAnbG9kYXNoL2ZpcnN0JztcclxuaW1wb3J0IGxhc3QgZnJvbSAnbG9kYXNoL2xhc3QnO1xyXG5pbXBvcnQgY29tcGFjdCBmcm9tICdsb2Rhc2gvY29tcGFjdCc7XHJcbmltcG9ydCBmaW5kIGZyb20gJ2xvZGFzaC9maW5kJztcclxuaW1wb3J0IGlzU3RyaW5nIGZyb20gJ2xvZGFzaC9pc1N0cmluZyc7XHJcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJ2xvZGFzaC9pc0Z1bmN0aW9uJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZU1vZGVsIGltcGxlbWVudHMgSVRyZWVNb2RlbCB7XHJcbiAgc3RhdGljIGZvY3VzZWRUcmVlID0gbnVsbDtcclxuXHJcbiAgb3B0aW9uczogVHJlZU9wdGlvbnMgPSBuZXcgVHJlZU9wdGlvbnMoKTtcclxuICBub2RlczogYW55W107XHJcbiAgZXZlbnROYW1lcyA9IE9iamVjdC5rZXlzKFRSRUVfRVZFTlRTKTtcclxuICB2aXJ0dWFsU2Nyb2xsOiBUcmVlVmlydHVhbFNjcm9sbDtcclxuXHJcbiAgQG9ic2VydmFibGUgcm9vdHM6IFRyZWVOb2RlW107XHJcbiAgQG9ic2VydmFibGUgZXhwYW5kZWROb2RlSWRzOiBJRFR5cGVEaWN0aW9uYXJ5ID0ge307XHJcbiAgQG9ic2VydmFibGUgc2VsZWN0ZWRMZWFmTm9kZUlkczogSURUeXBlRGljdGlvbmFyeSA9IHt9O1xyXG4gIEBvYnNlcnZhYmxlIGFjdGl2ZU5vZGVJZHM6IElEVHlwZURpY3Rpb25hcnkgPSB7fTtcclxuICBAb2JzZXJ2YWJsZSBoaWRkZW5Ob2RlSWRzOiBJRFR5cGVEaWN0aW9uYXJ5ID0ge307XHJcbiAgQG9ic2VydmFibGUgZm9jdXNlZE5vZGVJZDogSURUeXBlID0gbnVsbDtcclxuICBAb2JzZXJ2YWJsZSB2aXJ0dWFsUm9vdDogVHJlZU5vZGU7XHJcblxyXG4gIHByaXZhdGUgZmlyc3RVcGRhdGUgPSB0cnVlO1xyXG4gIHByaXZhdGUgZXZlbnRzOiBhbnk7XHJcblxyXG4gIC8vIGV2ZW50c1xyXG4gIGZpcmVFdmVudChldmVudCkge1xyXG4gICAgZXZlbnQudHJlZU1vZGVsID0gdGhpcztcclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50LmV2ZW50TmFtZV0uZW1pdChldmVudCk7XHJcbiAgICB0aGlzLmV2ZW50cy5ldmVudC5lbWl0KGV2ZW50KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZShldmVudE5hbWUsIGZuKSB7XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnN1YnNjcmliZShmbik7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gZ2V0dGVyc1xyXG4gIGdldEZvY3VzZWROb2RlKCk6IFRyZWVOb2RlIHtcclxuICAgIHJldHVybiB0aGlzLmZvY3VzZWROb2RlO1xyXG4gIH1cclxuXHJcblxyXG4gIGdldEFjdGl2ZU5vZGUoKTogVHJlZU5vZGUge1xyXG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlTm9kZXNbMF07XHJcbiAgfVxyXG5cclxuICBnZXRBY3RpdmVOb2RlcygpOiBUcmVlTm9kZVtdIHtcclxuICAgIHJldHVybiB0aGlzLmFjdGl2ZU5vZGVzO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlzaWJsZVJvb3RzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlydHVhbFJvb3QudmlzaWJsZUNoaWxkcmVuO1xyXG4gIH1cclxuXHJcbiAgZ2V0Rmlyc3RSb290KHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZpcnN0KHNraXBIaWRkZW4gPyB0aGlzLmdldFZpc2libGVSb290cygpIDogdGhpcy5yb290cyk7XHJcbiAgfVxyXG5cclxuICBnZXRMYXN0Um9vdChza2lwSGlkZGVuID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBsYXN0KHNraXBIaWRkZW4gPyB0aGlzLmdldFZpc2libGVSb290cygpIDogdGhpcy5yb290cyk7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNGb2N1c2VkKCkge1xyXG4gICAgcmV0dXJuIFRyZWVNb2RlbC5mb2N1c2VkVHJlZSA9PT0gdGhpcztcclxuICB9XHJcblxyXG4gIGlzTm9kZUZvY3VzZWQobm9kZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9jdXNlZE5vZGUgPT09IG5vZGU7XHJcbiAgfVxyXG5cclxuICBpc0VtcHR5VHJlZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnJvb3RzICYmIHRoaXMucm9vdHMubGVuZ3RoID09PSAwO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkIGdldCBmb2N1c2VkTm9kZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmZvY3VzZWROb2RlSWQgPyB0aGlzLmdldE5vZGVCeUlkKHRoaXMuZm9jdXNlZE5vZGVJZCkgOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkIGdldCBleHBhbmRlZE5vZGVzKCkge1xyXG4gICAgY29uc3Qgbm9kZXMgPSBPYmplY3Qua2V5cyh0aGlzLmV4cGFuZGVkTm9kZUlkcylcclxuICAgICAgLmZpbHRlcigoaWQpID0+IHRoaXMuZXhwYW5kZWROb2RlSWRzW2lkXSlcclxuICAgICAgLm1hcCgoaWQpID0+IHRoaXMuZ2V0Tm9kZUJ5SWQoaWQpKTtcclxuXHJcbiAgICByZXR1cm4gY29tcGFjdChub2Rlcyk7XHJcbiAgfVxyXG5cclxuICBAY29tcHV0ZWQgZ2V0IGFjdGl2ZU5vZGVzKCkge1xyXG4gICAgY29uc3Qgbm9kZXMgPSBPYmplY3Qua2V5cyh0aGlzLmFjdGl2ZU5vZGVJZHMpXHJcbiAgICAgIC5maWx0ZXIoKGlkKSA9PiB0aGlzLmFjdGl2ZU5vZGVJZHNbaWRdKVxyXG4gICAgICAubWFwKChpZCkgPT4gdGhpcy5nZXROb2RlQnlJZChpZCkpO1xyXG5cclxuICAgIHJldHVybiBjb21wYWN0KG5vZGVzKTtcclxuICB9XHJcblxyXG4gIC8vIGxvY2F0aW5nIG5vZGVzXHJcbiAgZ2V0Tm9kZUJ5UGF0aChwYXRoOiBhbnlbXSwgc3RhcnROb2RlPSBudWxsKTogVHJlZU5vZGUge1xyXG4gICAgaWYgKCFwYXRoKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBzdGFydE5vZGUgPSBzdGFydE5vZGUgfHwgdGhpcy52aXJ0dWFsUm9vdDtcclxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHN0YXJ0Tm9kZTtcclxuXHJcbiAgICBpZiAoIXN0YXJ0Tm9kZS5jaGlsZHJlbikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3QgY2hpbGRJZCA9IHBhdGguc2hpZnQoKTtcclxuICAgIGNvbnN0IGNoaWxkTm9kZSA9IGZpbmQoc3RhcnROb2RlLmNoaWxkcmVuLCB7IGlkOiBjaGlsZElkIH0pO1xyXG5cclxuICAgIGlmICghY2hpbGROb2RlKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5nZXROb2RlQnlQYXRoKHBhdGgsIGNoaWxkTm9kZSk7XHJcbiAgfVxyXG5cclxuICBnZXROb2RlQnlJZChpZCkge1xyXG4gICAgY29uc3QgaWRTdHIgPSBpZC50b1N0cmluZygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmdldE5vZGVCeSgobm9kZSkgPT4gbm9kZS5pZC50b1N0cmluZygpID09PSBpZFN0cik7XHJcbiAgfVxyXG5cclxuICBnZXROb2RlQnkocHJlZGljYXRlLCBzdGFydE5vZGUgPSBudWxsKSB7XHJcbiAgICBzdGFydE5vZGUgPSBzdGFydE5vZGUgfHwgdGhpcy52aXJ0dWFsUm9vdDtcclxuXHJcbiAgICBpZiAoIXN0YXJ0Tm9kZS5jaGlsZHJlbikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3QgZm91bmQgPSBmaW5kKHN0YXJ0Tm9kZS5jaGlsZHJlbiwgcHJlZGljYXRlKTtcclxuXHJcbiAgICBpZiAoZm91bmQpIHsgLy8gZm91bmQgaW4gY2hpbGRyZW5cclxuICAgICAgcmV0dXJuIGZvdW5kO1xyXG4gICAgfSBlbHNlIHsgLy8gbG9vayBpbiBjaGlsZHJlbidzIGNoaWxkcmVuXHJcbiAgICAgIGZvciAobGV0IGNoaWxkIG9mIHN0YXJ0Tm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgIGNvbnN0IGZvdW5kSW5DaGlsZHJlbiA9IHRoaXMuZ2V0Tm9kZUJ5KHByZWRpY2F0ZSwgY2hpbGQpO1xyXG4gICAgICAgIGlmIChmb3VuZEluQ2hpbGRyZW4pIHJldHVybiBmb3VuZEluQ2hpbGRyZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzRXhwYW5kZWQobm9kZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZXhwYW5kZWROb2RlSWRzW25vZGUuaWRdO1xyXG4gIH1cclxuXHJcbiAgaXNIaWRkZW4obm9kZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGlkZGVuTm9kZUlkc1tub2RlLmlkXTtcclxuICB9XHJcblxyXG4gIGlzQWN0aXZlKG5vZGUpIHtcclxuICAgIHJldHVybiB0aGlzLmFjdGl2ZU5vZGVJZHNbbm9kZS5pZF07XHJcbiAgfVxyXG5cclxuICBpc1NlbGVjdGVkKG5vZGUpIHtcclxuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkTGVhZk5vZGVJZHNbbm9kZS5pZF07XHJcbiAgfVxyXG5cclxuICAvLyBhY3Rpb25zXHJcbiAgQGFjdGlvbiBzZXREYXRhKHsgbm9kZXMsIG9wdGlvbnMgPSBudWxsLCBldmVudHMgPSBudWxsIH06IHtub2RlczogYW55LCBvcHRpb25zOiBhbnksIGV2ZW50czogYW55fSkge1xyXG4gICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgdGhpcy5vcHRpb25zID0gbmV3IFRyZWVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50cykge1xyXG4gICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcclxuICAgIH1cclxuICAgIGlmIChub2Rlcykge1xyXG4gICAgICB0aGlzLm5vZGVzID0gbm9kZXM7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGUoKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgLy8gUmVidWlsZCB0cmVlOlxyXG4gICAgbGV0IHZpcnR1YWxSb290Q29uZmlnID0ge1xyXG4gICAgICBpZDogdGhpcy5vcHRpb25zLnJvb3RJZCxcclxuICAgICAgdmlydHVhbDogdHJ1ZSxcclxuICAgICAgW3RoaXMub3B0aW9ucy5jaGlsZHJlbkZpZWxkXTogdGhpcy5ub2Rlc1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEaXNwb3NlIHJlYWN0aW9ucyBvZiB0aGUgcmVwbGFjZWQgbm9kZXNcclxuICAgIGlmICh0aGlzLnZpcnR1YWxSb290KSB7XHJcbiAgICAgIHRoaXMudmlydHVhbFJvb3QuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudmlydHVhbFJvb3QgPSBuZXcgVHJlZU5vZGUodmlydHVhbFJvb3RDb25maWcsIG51bGwsIHRoaXMsIDApO1xyXG5cclxuICAgIHRoaXMucm9vdHMgPSB0aGlzLnZpcnR1YWxSb290LmNoaWxkcmVuO1xyXG5cclxuICAgIC8vIEZpcmUgZXZlbnQ6XHJcbiAgICBpZiAodGhpcy5maXJzdFVwZGF0ZSkge1xyXG4gICAgICBpZiAodGhpcy5yb290cykge1xyXG4gICAgICAgIHRoaXMuZmlyc3RVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVFeHBhbmRlZE5vZGVzKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy51cGRhdGVEYXRhIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIEBhY3Rpb24gc2V0Rm9jdXNlZE5vZGUobm9kZSkge1xyXG4gICAgdGhpcy5mb2N1c2VkTm9kZUlkID0gbm9kZSA/IG5vZGUuaWQgOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBzZXRGb2N1cyh2YWx1ZSkge1xyXG4gICAgVHJlZU1vZGVsLmZvY3VzZWRUcmVlID0gdmFsdWUgPyB0aGlzIDogbnVsbDtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gZG9Gb3JBbGwoZm4pIHtcclxuICAgIHRoaXMucm9vdHMuZm9yRWFjaCgocm9vdCkgPT4gcm9vdC5kb0ZvckFsbChmbikpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBmb2N1c05leHROb2RlKCkge1xyXG4gICAgbGV0IHByZXZpb3VzTm9kZSA9IHRoaXMuZ2V0Rm9jdXNlZE5vZGUoKTtcclxuICAgIGxldCBuZXh0Tm9kZSA9IHByZXZpb3VzTm9kZSA/IHByZXZpb3VzTm9kZS5maW5kTmV4dE5vZGUodHJ1ZSwgdHJ1ZSkgOiB0aGlzLmdldEZpcnN0Um9vdCh0cnVlKTtcclxuICAgIGlmIChuZXh0Tm9kZSkgbmV4dE5vZGUuZm9jdXMoKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gZm9jdXNQcmV2aW91c05vZGUoKSB7XHJcbiAgICBsZXQgcHJldmlvdXNOb2RlID0gdGhpcy5nZXRGb2N1c2VkTm9kZSgpO1xyXG4gICAgbGV0IG5leHROb2RlID0gcHJldmlvdXNOb2RlID8gcHJldmlvdXNOb2RlLmZpbmRQcmV2aW91c05vZGUodHJ1ZSkgOiB0aGlzLmdldExhc3RSb290KHRydWUpO1xyXG4gICAgaWYgKG5leHROb2RlKSBuZXh0Tm9kZS5mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBmb2N1c0RyaWxsRG93bigpIHtcclxuICAgIGxldCBwcmV2aW91c05vZGUgPSB0aGlzLmdldEZvY3VzZWROb2RlKCk7XHJcbiAgICBpZiAocHJldmlvdXNOb2RlICYmIHByZXZpb3VzTm9kZS5pc0NvbGxhcHNlZCAmJiBwcmV2aW91c05vZGUuaGFzQ2hpbGRyZW4pIHtcclxuICAgICAgcHJldmlvdXNOb2RlLnRvZ2dsZUV4cGFuZGVkKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGV0IG5leHROb2RlID0gcHJldmlvdXNOb2RlID8gcHJldmlvdXNOb2RlLmdldEZpcnN0Q2hpbGQodHJ1ZSkgOiB0aGlzLmdldEZpcnN0Um9vdCh0cnVlKTtcclxuICAgICAgaWYgKG5leHROb2RlKSBuZXh0Tm9kZS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBmb2N1c0RyaWxsVXAoKSB7XHJcbiAgICBsZXQgcHJldmlvdXNOb2RlID0gdGhpcy5nZXRGb2N1c2VkTm9kZSgpO1xyXG4gICAgaWYgKCFwcmV2aW91c05vZGUpIHJldHVybjtcclxuICAgIGlmIChwcmV2aW91c05vZGUuaXNFeHBhbmRlZCkge1xyXG4gICAgICBwcmV2aW91c05vZGUudG9nZ2xlRXhwYW5kZWQoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgbmV4dE5vZGUgPSBwcmV2aW91c05vZGUucmVhbFBhcmVudDtcclxuICAgICAgaWYgKG5leHROb2RlKSBuZXh0Tm9kZS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBzZXRBY3RpdmVOb2RlKG5vZGUsIHZhbHVlLCBtdWx0aSA9IGZhbHNlKSB7XHJcbiAgICBpZiAobXVsdGkpIHtcclxuICAgICAgdGhpcy5fc2V0QWN0aXZlTm9kZU11bHRpKG5vZGUsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLl9zZXRBY3RpdmVOb2RlU2luZ2xlKG5vZGUsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgbm9kZS5mb2N1cygpO1xyXG4gICAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuYWN0aXZhdGUsIG5vZGUgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuZGVhY3RpdmF0ZSwgbm9kZSB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBhY3Rpb24gc2V0U2VsZWN0ZWROb2RlKG5vZGUsIHZhbHVlKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkTGVhZk5vZGVJZHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlbGVjdGVkTGVhZk5vZGVJZHMsIHtbbm9kZS5pZF06IHZhbHVlfSk7XHJcblxyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIG5vZGUuZm9jdXMoKTtcclxuICAgICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLnNlbGVjdCwgbm9kZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5kZXNlbGVjdCwgbm9kZSB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBhY3Rpb24gc2V0RXhwYW5kZWROb2RlKG5vZGUsIHZhbHVlKSB7XHJcbiAgICB0aGlzLmV4cGFuZGVkTm9kZUlkcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZXhwYW5kZWROb2RlSWRzLCB7W25vZGUuaWRdOiB2YWx1ZX0pO1xyXG4gICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLnRvZ2dsZUV4cGFuZGVkLCBub2RlLCBpc0V4cGFuZGVkOiB2YWx1ZSB9KTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gZXhwYW5kQWxsKCkge1xyXG4gICAgdGhpcy5yb290cy5mb3JFYWNoKChyb290KSA9PiByb290LmV4cGFuZEFsbCgpKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gY29sbGFwc2VBbGwoKSB7XHJcbiAgICB0aGlzLnJvb3RzLmZvckVhY2goKHJvb3QpID0+IHJvb3QuY29sbGFwc2VBbGwoKSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNldElzSGlkZGVuKG5vZGUsIHZhbHVlKSB7XHJcbiAgICB0aGlzLmhpZGRlbk5vZGVJZHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmhpZGRlbk5vZGVJZHMsIHtbbm9kZS5pZF06IHZhbHVlfSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNldEhpZGRlbk5vZGVJZHMobm9kZUlkcykge1xyXG4gICAgdGhpcy5oaWRkZW5Ob2RlSWRzID0gbm9kZUlkcy5yZWR1Y2UoKGhpZGRlbk5vZGVJZHMsIGlkKSA9PiBPYmplY3QuYXNzaWduKGhpZGRlbk5vZGVJZHMsIHtcclxuICAgICAgW2lkXTogdHJ1ZVxyXG4gICAgfSksIHt9KTtcclxuICB9XHJcblxyXG4gIHBlcmZvcm1LZXlBY3Rpb24obm9kZSwgJGV2ZW50KSB7XHJcbiAgICBjb25zdCBhY3Rpb24gPSB0aGlzLm9wdGlvbnMuYWN0aW9uTWFwcGluZy5rZXlzWyRldmVudC5rZXlDb2RlXTtcclxuICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGFjdGlvbih0aGlzLCBub2RlLCAkZXZlbnQpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBhY3Rpb24gZmlsdGVyTm9kZXMoZmlsdGVyLCBhdXRvU2hvdyA9IHRydWUpIHtcclxuICAgIGxldCBmaWx0ZXJGbjtcclxuXHJcbiAgICBpZiAoIWZpbHRlcikge1xyXG4gICAgICByZXR1cm4gdGhpcy5jbGVhckZpbHRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHN1cHBvcnQgZnVuY3Rpb24gYW5kIHN0cmluZyBmaWx0ZXJcclxuICAgIGlmIChpc1N0cmluZyhmaWx0ZXIpKSB7XHJcbiAgICAgIGZpbHRlckZuID0gKG5vZGUpID0+IG5vZGUuZGlzcGxheUZpZWxkLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIudG9Mb3dlckNhc2UoKSkgIT09IC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihmaWx0ZXIpKSB7XHJcbiAgICAgICBmaWx0ZXJGbiA9IGZpbHRlcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdEb25cXCd0IGtub3cgd2hhdCB0byBkbyB3aXRoIGZpbHRlcicsIGZpbHRlcik7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Nob3VsZCBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgZnVuY3Rpb24nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlkcyA9IHt9O1xyXG4gICAgdGhpcy5yb290cy5mb3JFYWNoKChub2RlKSA9PiB0aGlzLl9maWx0ZXJOb2RlKGlkcywgbm9kZSwgZmlsdGVyRm4sIGF1dG9TaG93KSk7XHJcbiAgICB0aGlzLmhpZGRlbk5vZGVJZHMgPSBpZHM7XHJcbiAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuY2hhbmdlRmlsdGVyIH0pO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBjbGVhckZpbHRlcigpIHtcclxuICAgIHRoaXMuaGlkZGVuTm9kZUlkcyA9IHt9O1xyXG4gICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLmNoYW5nZUZpbHRlciB9KTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gbW92ZU5vZGUobm9kZSwgdG8pIHtcclxuICAgIGNvbnN0IGZyb21JbmRleCA9IG5vZGUuZ2V0SW5kZXhJblBhcmVudCgpO1xyXG4gICAgY29uc3QgZnJvbVBhcmVudCA9IG5vZGUucGFyZW50O1xyXG5cclxuICAgIGlmICghdGhpcy5fY2FuTW92ZU5vZGUobm9kZSwgZnJvbUluZGV4ICwgdG8pKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZnJvbUNoaWxkcmVuID0gZnJvbVBhcmVudC5nZXRGaWVsZCgnY2hpbGRyZW4nKTtcclxuXHJcbiAgICAvLyBJZiBub2RlIGRvZXNuJ3QgaGF2ZSBjaGlsZHJlbiAtIGNyZWF0ZSBjaGlsZHJlbiBhcnJheVxyXG4gICAgaWYgKCF0by5wYXJlbnQuZ2V0RmllbGQoJ2NoaWxkcmVuJykpIHtcclxuICAgICAgdG8ucGFyZW50LnNldEZpZWxkKCdjaGlsZHJlbicsIFtdKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHRvQ2hpbGRyZW4gPSB0by5wYXJlbnQuZ2V0RmllbGQoJ2NoaWxkcmVuJyk7XHJcblxyXG4gICAgY29uc3Qgb3JpZ2luYWxOb2RlID0gZnJvbUNoaWxkcmVuLnNwbGljZShmcm9tSW5kZXgsIDEpWzBdO1xyXG5cclxuICAgIC8vIENvbXBlbnNhdGUgZm9yIGluZGV4IGlmIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHBhcmVudDpcclxuICAgIGxldCB0b0luZGV4ID0gKGZyb21QYXJlbnQgPT09IHRvLnBhcmVudCAmJiB0by5pbmRleCA+IGZyb21JbmRleCkgPyB0by5pbmRleCAtIDEgOiB0by5pbmRleDtcclxuXHJcbiAgICB0b0NoaWxkcmVuLnNwbGljZSh0b0luZGV4LCAwLCBvcmlnaW5hbE5vZGUpO1xyXG5cclxuICAgIGZyb21QYXJlbnQudHJlZU1vZGVsLnVwZGF0ZSgpO1xyXG4gICAgaWYgKHRvLnBhcmVudC50cmVlTW9kZWwgIT09IGZyb21QYXJlbnQudHJlZU1vZGVsKSB7XHJcbiAgICAgIHRvLnBhcmVudC50cmVlTW9kZWwudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLm1vdmVOb2RlLCBub2RlOiBvcmlnaW5hbE5vZGUsIHRvOiB7IHBhcmVudDogdG8ucGFyZW50LmRhdGEsIGluZGV4OiB0b0luZGV4IH0gfSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIGNvcHlOb2RlKG5vZGUsIHRvKSB7XHJcbiAgICBjb25zdCBmcm9tSW5kZXggPSBub2RlLmdldEluZGV4SW5QYXJlbnQoKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuX2Nhbk1vdmVOb2RlKG5vZGUsIGZyb21JbmRleCAsIHRvKSkgcmV0dXJuO1xyXG5cclxuICAgIC8vIElmIG5vZGUgZG9lc24ndCBoYXZlIGNoaWxkcmVuIC0gY3JlYXRlIGNoaWxkcmVuIGFycmF5XHJcbiAgICBpZiAoIXRvLnBhcmVudC5nZXRGaWVsZCgnY2hpbGRyZW4nKSkge1xyXG4gICAgICB0by5wYXJlbnQuc2V0RmllbGQoJ2NoaWxkcmVuJywgW10pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdG9DaGlsZHJlbiA9IHRvLnBhcmVudC5nZXRGaWVsZCgnY2hpbGRyZW4nKTtcclxuXHJcbiAgICBjb25zdCBub2RlQ29weSA9IHRoaXMub3B0aW9ucy5nZXROb2RlQ2xvbmUobm9kZSk7XHJcblxyXG4gICAgdG9DaGlsZHJlbi5zcGxpY2UodG8uaW5kZXgsIDAsIG5vZGVDb3B5KTtcclxuXHJcbiAgICBub2RlLnRyZWVNb2RlbC51cGRhdGUoKTtcclxuICAgIGlmICh0by5wYXJlbnQudHJlZU1vZGVsICE9PSBub2RlLnRyZWVNb2RlbCkge1xyXG4gICAgICB0by5wYXJlbnQudHJlZU1vZGVsLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5jb3B5Tm9kZSwgbm9kZTogbm9kZUNvcHksIHRvOiB7IHBhcmVudDogdG8ucGFyZW50LmRhdGEsIGluZGV4OiB0by5pbmRleCB9IH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3RhdGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBleHBhbmRlZE5vZGVJZHM6IHRoaXMuZXhwYW5kZWROb2RlSWRzLFxyXG4gICAgICBzZWxlY3RlZExlYWZOb2RlSWRzOiB0aGlzLnNlbGVjdGVkTGVhZk5vZGVJZHMsXHJcbiAgICAgIGFjdGl2ZU5vZGVJZHM6IHRoaXMuYWN0aXZlTm9kZUlkcyxcclxuICAgICAgaGlkZGVuTm9kZUlkczogdGhpcy5oaWRkZW5Ob2RlSWRzLFxyXG4gICAgICBmb2N1c2VkTm9kZUlkOiB0aGlzLmZvY3VzZWROb2RlSWRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNldFN0YXRlKHN0YXRlKSB7XHJcbiAgICBpZiAoIXN0YXRlKSByZXR1cm47XHJcblxyXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XHJcbiAgICAgIGV4cGFuZGVkTm9kZUlkczogc3RhdGUuZXhwYW5kZWROb2RlSWRzIHx8IHt9LFxyXG4gICAgICBzZWxlY3RlZExlYWZOb2RlSWRzOiBzdGF0ZS5zZWxlY3RlZExlYWZOb2RlSWRzIHx8IHt9LFxyXG4gICAgICBhY3RpdmVOb2RlSWRzOiBzdGF0ZS5hY3RpdmVOb2RlSWRzIHx8IHt9LFxyXG4gICAgICBoaWRkZW5Ob2RlSWRzOiBzdGF0ZS5oaWRkZW5Ob2RlSWRzIHx8IHt9LFxyXG4gICAgICBmb2N1c2VkTm9kZUlkOiBzdGF0ZS5mb2N1c2VkTm9kZUlkXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvU3RhdGUoZm4pIHtcclxuICAgIGF1dG9ydW4oKCkgPT4gZm4odGhpcy5nZXRTdGF0ZSgpKSk7XHJcbiAgfVxyXG5cclxuICAvLyBwcml2YXRlIG1ldGhvZHNcclxuICBwcml2YXRlIF9jYW5Nb3ZlTm9kZShub2RlLCBmcm9tSW5kZXgsIHRvKSB7XHJcbiAgICAvLyBzYW1lIG5vZGU6XHJcbiAgICBpZiAobm9kZS5wYXJlbnQgPT09IHRvLnBhcmVudCAmJiBmcm9tSW5kZXggPT09IHRvLmluZGV4KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gIXRvLnBhcmVudC5pc0Rlc2NlbmRhbnRPZihub2RlKTtcclxuICB9XHJcblxyXG5cclxuICBwcml2YXRlIF9maWx0ZXJOb2RlKGlkcywgbm9kZSwgZmlsdGVyRm4sIGF1dG9TaG93KSB7XHJcbiAgICAvLyBpZiBub2RlIHBhc3NlcyBmdW5jdGlvbiB0aGVuIGl0J3MgdmlzaWJsZVxyXG4gICAgbGV0IGlzVmlzaWJsZSA9IGZpbHRlckZuKG5vZGUpO1xyXG5cclxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgIC8vIGlmIG9uZSBvZiBub2RlJ3MgY2hpbGRyZW4gcGFzc2VzIGZpbHRlciB0aGVuIHRoaXMgbm9kZSBpcyBhbHNvIHZpc2libGVcclxuICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9maWx0ZXJOb2RlKGlkcywgY2hpbGQsIGZpbHRlckZuLCBhdXRvU2hvdykpIHtcclxuICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtYXJrIG5vZGUgYXMgaGlkZGVuXHJcbiAgICBpZiAoIWlzVmlzaWJsZSkge1xyXG4gICAgICBpZHNbbm9kZS5pZF0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gYXV0byBleHBhbmQgcGFyZW50cyB0byBtYWtlIHN1cmUgdGhlIGZpbHRlcmVkIG5vZGVzIGFyZSB2aXNpYmxlXHJcbiAgICBpZiAoYXV0b1Nob3cgJiYgaXNWaXNpYmxlKSB7XHJcbiAgICAgIG5vZGUuZW5zdXJlVmlzaWJsZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzVmlzaWJsZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2NhbGN1bGF0ZUV4cGFuZGVkTm9kZXMoc3RhcnROb2RlID0gbnVsbCkge1xyXG4gICAgc3RhcnROb2RlID0gc3RhcnROb2RlIHx8IHRoaXMudmlydHVhbFJvb3Q7XHJcblxyXG4gICAgaWYgKHN0YXJ0Tm9kZS5kYXRhW3RoaXMub3B0aW9ucy5pc0V4cGFuZGVkRmllbGRdKSB7XHJcbiAgICAgIHRoaXMuZXhwYW5kZWROb2RlSWRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5leHBhbmRlZE5vZGVJZHMsIHtbc3RhcnROb2RlLmlkXTogdHJ1ZX0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXJ0Tm9kZS5jaGlsZHJlbikge1xyXG4gICAgICBzdGFydE5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHRoaXMuX2NhbGN1bGF0ZUV4cGFuZGVkTm9kZXMoY2hpbGQpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NldEFjdGl2ZU5vZGVTaW5nbGUobm9kZSwgdmFsdWUpIHtcclxuICAgIC8vIERlYWN0aXZhdGUgYWxsIG90aGVyIG5vZGVzOlxyXG4gICAgdGhpcy5hY3RpdmVOb2Rlc1xyXG4gICAgICAuZmlsdGVyKChhY3RpdmVOb2RlKSA9PiBhY3RpdmVOb2RlICE9PSBub2RlKVxyXG4gICAgICAuZm9yRWFjaCgoYWN0aXZlTm9kZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5kZWFjdGl2YXRlLCBub2RlOiBhY3RpdmVOb2RlIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgdGhpcy5hY3RpdmVOb2RlSWRzID0ge1tub2RlLmlkXTogdHJ1ZX07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5hY3RpdmVOb2RlSWRzID0ge307XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9zZXRBY3RpdmVOb2RlTXVsdGkobm9kZSwgdmFsdWUpIHtcclxuICAgIHRoaXMuYWN0aXZlTm9kZUlkcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYWN0aXZlTm9kZUlkcywge1tub2RlLmlkXTogdmFsdWV9KTtcclxuICB9XHJcblxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Injectable } from '@angular/core';\r\nvar TreeDraggedElement = /** @class */ (function () {\r\n    function TreeDraggedElement() {\r\n        this._draggedElement = null;\r\n    }\r\n    TreeDraggedElement.prototype.set = function (draggedElement) {\r\n        this._draggedElement = draggedElement;\r\n    };\r\n    TreeDraggedElement.prototype.get = function () {\r\n        return this._draggedElement;\r\n    };\r\n    TreeDraggedElement.prototype.isDragging = function () {\r\n        return !!this.get();\r\n    };\r\n    TreeDraggedElement.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeDraggedElement.ctorParameters = function () { return []; };\r\n    return TreeDraggedElement;\r\n}());\r\nexport { TreeDraggedElement };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQUEsRUFBVyxNQUFPLGVBQUEsQ0FBZ0I7QUFHM0M7SUFBQTtRQUNFLG9CQUFlLEdBQVEsSUFBSSxDQUFDO0lBbUI5QixDQUFDO0lBakJDLGdDQUFHLEdBQUgsVUFBSSxjQUFtQjtRQUNyQixJQUFJLENBQUMsZUFBZSxHQUFHLGNBQWMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsZ0NBQUcsR0FBSDtRQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzlCLENBQUM7SUFFRCx1Q0FBVSxHQUFWO1FBQ0UsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUNJLDZCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtLQUNuQixDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsaUNBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDRix5QkFBQztDQXBCRCxBQW9CQyxJQUFBO1NBcEJZLGtCQUFrQiIsImZpbGUiOiJ0cmVlLWRyYWdnZWQtZWxlbWVudC5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVEcmFnZ2VkRWxlbWVudCB7XHJcbiAgX2RyYWdnZWRFbGVtZW50OiBhbnkgPSBudWxsO1xyXG5cclxuICBzZXQoZHJhZ2dlZEVsZW1lbnQ6IGFueSkge1xyXG4gICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQgPSBkcmFnZ2VkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdldCgpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RyYWdnZWRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaXNEcmFnZ2luZygpIHtcclxuICAgIHJldHVybiAhIXRoaXMuZ2V0KCk7XHJcbiAgfVxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar LoadingComponent = /** @class */ (function () {\r\n    function LoadingComponent() {\r\n    }\r\n    LoadingComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    selector: 'tree-loading-component',\r\n                    template: \"\\n    <span *ngIf=\\\"!template\\\">loading...</span>\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: node }\\\">\\n    </ng-container>\\n  \",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    LoadingComponent.ctorParameters = function () { return []; };\r\n    LoadingComponent.propDecorators = {\r\n        'template': [{ type: Input },],\r\n        'node': [{ type: Input },],\r\n    };\r\n    return LoadingComponent;\r\n}());\r\nexport { LoadingComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL2xvYWRpbmcuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFBLEVBQVcsS0FBQSxFQUFvQixpQkFBQSxFQUFrQixNQUFPLGVBQUEsQ0FBZ0I7QUFJakY7SUFBQTtJQXVCQSxDQUFDO0lBcEJNLDJCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLFFBQVEsRUFBRSx3QkFBd0I7b0JBQ2xDLFFBQVEsRUFBRSxnTUFNVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsK0JBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSywrQkFBYyxHQUEyQztRQUNoRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUM5QixNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUN6QixDQUFDO0lBQ0YsdUJBQUM7Q0F2QkQsQUF1QkMsSUFBQTtTQXZCWSxnQkFBZ0IiLCJmaWxlIjoibG9hZGluZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVGVtcGxhdGVSZWYsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtbm9kZS5tb2RlbCc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvYWRpbmdDb21wb25lbnQge1xyXG4gICB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgbm9kZTogVHJlZU5vZGU7XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gIHNlbGVjdG9yOiAndHJlZS1sb2FkaW5nLWNvbXBvbmVudCcsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxzcGFuICpuZ0lmPVwiIXRlbXBsYXRlXCI+bG9hZGluZy4uLjwvc3Bhbj5cclxuICAgIDxuZy1jb250YWluZXJcclxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwidGVtcGxhdGVcIlxyXG4gICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyAkaW1wbGljaXQ6IG5vZGUgfVwiPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgYCxcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ3RlbXBsYXRlJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Component, Input, Output, EventEmitter, Renderer, ContentChild, HostListener, ViewChild } from '@angular/core';\r\nimport { TreeModel } from '../models/tree.model';\r\nimport { TreeDraggedElement } from '../models/tree-dragged-element.model';\r\nimport includes from 'lodash/includes';\r\nimport pick from 'lodash/pick';\r\nvar TreeComponent = /** @class */ (function () {\r\n    function TreeComponent(treeModel, treeDraggedElement, renderer) {\r\n        var _this = this;\r\n        this.treeModel = treeModel;\r\n        this.treeDraggedElement = treeDraggedElement;\r\n        this.renderer = renderer;\r\n        treeModel.eventNames.forEach(function (name) { return _this[name] = new EventEmitter(); });\r\n        treeModel.subscribeToState(function (state) { return _this.stateChange.emit(state); });\r\n    }\r\n    Object.defineProperty(TreeComponent.prototype, \"nodes\", {\r\n        // Will be handled in ngOnChanges\r\n        set: function (nodes) { },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeComponent.prototype, \"options\", {\r\n        set: function (options) { },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeComponent.prototype, \"focused\", {\r\n        set: function (value) {\r\n            this.treeModel.setFocus(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeComponent.prototype, \"state\", {\r\n        set: function (state) {\r\n            this.treeModel.setState(state);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeComponent.prototype.onKeydown = function ($event) {\r\n        if (!this.treeModel.isFocused)\r\n            return;\r\n        if (includes(['input', 'textarea'], document.activeElement.tagName.toLowerCase()))\r\n            return;\r\n        var focusedNode = this.treeModel.getFocusedNode();\r\n        this.treeModel.performKeyAction(focusedNode, $event);\r\n    };\r\n    TreeComponent.prototype.onMousedown = function ($event) {\r\n        var insideClick = this.renderer.invokeElementMethod($event.target, 'closest', ['Tree']);\r\n        if (!insideClick) {\r\n            this.treeModel.setFocus(false);\r\n        }\r\n    };\r\n    TreeComponent.prototype.ngOnChanges = function (changes) {\r\n        this.treeModel.setData({\r\n            options: changes.options && changes.options.currentValue,\r\n            nodes: changes.nodes && changes.nodes.currentValue,\r\n            events: pick(this, this.treeModel.eventNames)\r\n        });\r\n    };\r\n    TreeComponent.prototype.sizeChanged = function () {\r\n        this.viewportComponent.setViewport();\r\n    };\r\n    TreeComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'Tree, tree-root',\r\n                    providers: [TreeModel],\r\n                    styles: [],\r\n                    template: \"\\n    <tree-viewport #viewport>\\n      <div\\n        class=\\\"angular-tree-component\\\"\\n        [class.node-dragging]=\\\"treeDraggedElement.isDragging()\\\"\\n        [class.angular-tree-component-rtl]=\\\"treeModel.options.rtl\\\">\\n        <tree-node-collection\\n          *ngIf=\\\"treeModel.roots\\\"\\n          [nodes]=\\\"treeModel.roots\\\"\\n          [treeModel]=\\\"treeModel\\\"\\n          [templates]=\\\"{\\n            loadingTemplate: loadingTemplate,\\n            treeNodeTemplate: treeNodeTemplate,\\n            treeNodeWrapperTemplate: treeNodeWrapperTemplate,\\n            treeNodeFullTemplate: treeNodeFullTemplate\\n          }\\\">\\n        </tree-node-collection>\\n        <tree-node-drop-slot\\n          class=\\\"empty-tree-drop-slot\\\"\\n          *ngIf=\\\"treeModel.isEmptyTree()\\\"\\n          [dropIndex]=\\\"0\\\"\\n          [node]=\\\"treeModel.virtualRoot\\\">\\n        </tree-node-drop-slot>\\n      </div>\\n    </tree-viewport>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeComponent.ctorParameters = function () { return [\r\n        { type: TreeModel, },\r\n        { type: TreeDraggedElement, },\r\n        { type: Renderer, },\r\n    ]; };\r\n    TreeComponent.propDecorators = {\r\n        'loadingTemplate': [{ type: ContentChild, args: ['loadingTemplate',] },],\r\n        'treeNodeTemplate': [{ type: ContentChild, args: ['treeNodeTemplate',] },],\r\n        'treeNodeWrapperTemplate': [{ type: ContentChild, args: ['treeNodeWrapperTemplate',] },],\r\n        'treeNodeFullTemplate': [{ type: ContentChild, args: ['treeNodeFullTemplate',] },],\r\n        'viewportComponent': [{ type: ViewChild, args: ['viewport',] },],\r\n        'nodes': [{ type: Input },],\r\n        'options': [{ type: Input },],\r\n        'focused': [{ type: Input },],\r\n        'state': [{ type: Input },],\r\n        'toggleExpanded': [{ type: Output },],\r\n        'activate': [{ type: Output },],\r\n        'deactivate': [{ type: Output },],\r\n        'select': [{ type: Output },],\r\n        'deselect': [{ type: Output },],\r\n        'focus': [{ type: Output },],\r\n        'blur': [{ type: Output },],\r\n        'updateData': [{ type: Output },],\r\n        'initialized': [{ type: Output },],\r\n        'moveNode': [{ type: Output },],\r\n        'copyNode': [{ type: Output },],\r\n        'loadNodeChildren': [{ type: Output },],\r\n        'changeFilter': [{ type: Output },],\r\n        'event': [{ type: Output },],\r\n        'stateChange': [{ type: Output },],\r\n        'onKeydown': [{ type: HostListener, args: ['body: keydown', ['$event'],] },],\r\n        'onMousedown': [{ type: HostListener, args: ['body: mousedown', ['$event'],] },],\r\n    };\r\n    return TreeComponent;\r\n}());\r\nexport { TreeComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQUUsS0FBQSxFQUFPLE1BQUEsRUFBbUIsWUFBQSxFQUFjLFFBQUEsRUFDaEMsWUFBQSxFQUEyQixZQUFBLEVBQWMsU0FBQSxFQUM3RCxNQUFNLGVBQUEsQ0FBZ0I7QUFDdkIsT0FBTyxFQUFFLFNBQUEsRUFBVSxNQUFPLHNCQUFBLENBQXVCO0FBRWpELE9BQU8sRUFBRSxrQkFBQSxFQUFtQixNQUFPLHNDQUFBLENBQXVDO0FBSTFFLE9BQU8sUUFBQSxNQUFjLGlCQUFBLENBQWtCO0FBQ3ZDLE9BQU8sSUFBQSxNQUFVLGFBQUEsQ0FBYztBQUcvQjtJQXNDRSx1QkFDUyxTQUFvQixFQUNwQixrQkFBc0MsRUFDckMsUUFBa0I7UUFINUIsaUJBT0M7UUFOUSxjQUFTLEdBQVQsU0FBUyxDQUFXO1FBQ3BCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFDckMsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUV4QixTQUFTLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQUksSUFBSyxPQUFBLEtBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLFlBQVksRUFBRSxFQUEvQixDQUErQixDQUFDLENBQUM7UUFDeEUsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFVBQUMsS0FBSyxJQUFLLE9BQUEsS0FBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQTVCLENBQTRCLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBbENBLHNCQUFJLGdDQUFLO1FBRFYsaUNBQWlDO2FBQ2hDLFVBQVUsS0FBWSxJQUFJLENBQUM7OztPQUFBO0lBQUEsQ0FBQztJQUM1QixzQkFBSSxrQ0FBTzthQUFYLFVBQVksT0FBb0IsSUFBSSxDQUFDOzs7T0FBQTtJQUFBLENBQUM7SUFFdEMsc0JBQUksa0NBQU87YUFBWCxVQUFZ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QUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3ZDLGNBQWMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ25DLE9BQU8sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQzVCLGFBQWEsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ2xDLFdBQVcsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRyxFQUFFLEVBQUU7UUFDN0UsYUFBYSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFDLGlCQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUcsRUFBRSxFQUFFO0tBQ2hGLENBQUM7SUFDRixvQkFBQztDQWpKRCxBQWlKQyxJQUFBO1NBakpZLGFBQWEiLCJmaWxlIjoidHJlZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIE9uQ2hhbmdlcywgRXZlbnRFbWl0dGVyLCBSZW5kZXJlcixcclxuICBWaWV3RW5jYXBzdWxhdGlvbiwgQ29udGVudENoaWxkLCBUZW1wbGF0ZVJlZiwgSG9zdExpc3RlbmVyLCBWaWV3Q2hpbGRcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4uL21vZGVscy90cmVlLW5vZGUubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlRHJhZ2dlZEVsZW1lbnQgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlT3B0aW9ucyB9IGZyb20gJy4uL21vZGVscy90cmVlLW9wdGlvbnMubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlVmlld3BvcnRDb21wb25lbnQgfSBmcm9tICcuL3RyZWUtdmlld3BvcnQuY29tcG9uZW50JztcclxuXHJcbmltcG9ydCBpbmNsdWRlcyBmcm9tICdsb2Rhc2gvaW5jbHVkZXMnO1xyXG5pbXBvcnQgcGljayBmcm9tICdsb2Rhc2gvcGljayc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xyXG4gIF9ub2RlczogYW55W107XHJcbiAgX29wdGlvbnM6IFRyZWVPcHRpb25zO1xyXG5cclxuICAgbG9hZGluZ1RlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gICB0cmVlTm9kZVRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gICB0cmVlTm9kZVdyYXBwZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgdHJlZU5vZGVGdWxsVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgIHZpZXdwb3J0Q29tcG9uZW50OiBUcmVlVmlld3BvcnRDb21wb25lbnQ7XHJcblxyXG4gIC8vIFdpbGwgYmUgaGFuZGxlZCBpbiBuZ09uQ2hhbmdlc1xyXG4gICBzZXQgbm9kZXMobm9kZXM6IGFueVtdKSB7IH07XHJcbiAgIHNldCBvcHRpb25zKG9wdGlvbnM6IFRyZWVPcHRpb25zKSB7IH07XHJcblxyXG4gICBzZXQgZm9jdXNlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgdGhpcy50cmVlTW9kZWwuc2V0Rm9jdXModmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgIHNldCBzdGF0ZShzdGF0ZSkge1xyXG4gICAgdGhpcy50cmVlTW9kZWwuc2V0U3RhdGUoc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgIHRvZ2dsZUV4cGFuZGVkO1xyXG4gICBhY3RpdmF0ZTtcclxuICAgZGVhY3RpdmF0ZTtcclxuICAgc2VsZWN0O1xyXG4gICBkZXNlbGVjdDtcclxuICAgZm9jdXM7XHJcbiAgIGJsdXI7XHJcbiAgIHVwZGF0ZURhdGE7XHJcbiAgIGluaXRpYWxpemVkO1xyXG4gICBtb3ZlTm9kZTtcclxuICAgY29weU5vZGU7XHJcbiAgIGxvYWROb2RlQ2hpbGRyZW47XHJcbiAgIGNoYW5nZUZpbHRlcjtcclxuICAgZXZlbnQ7XHJcbiAgIHN0YXRlQ2hhbmdlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyB0cmVlTW9kZWw6IFRyZWVNb2RlbCxcclxuICAgIHB1YmxpYyB0cmVlRHJhZ2dlZEVsZW1lbnQ6IFRyZWVEcmFnZ2VkRWxlbWVudCxcclxuICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyKSB7XHJcblxyXG4gICAgICB0cmVlTW9kZWwuZXZlbnROYW1lcy5mb3JFYWNoKChuYW1lKSA9PiB0aGlzW25hbWVdID0gbmV3IEV2ZW50RW1pdHRlcigpKTtcclxuICAgICAgdHJlZU1vZGVsLnN1YnNjcmliZVRvU3RhdGUoKHN0YXRlKSA9PiB0aGlzLnN0YXRlQ2hhbmdlLmVtaXQoc3RhdGUpKTtcclxuICB9XHJcblxyXG4gIFxyXG4gIG9uS2V5ZG93bigkZXZlbnQpIHtcclxuICAgIGlmICghdGhpcy50cmVlTW9kZWwuaXNGb2N1c2VkKSByZXR1cm47XHJcbiAgICBpZiAoaW5jbHVkZXMoWydpbnB1dCcsICd0ZXh0YXJlYSddLFxyXG4gICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGZvY3VzZWROb2RlID0gdGhpcy50cmVlTW9kZWwuZ2V0Rm9jdXNlZE5vZGUoKTtcclxuXHJcbiAgICB0aGlzLnRyZWVNb2RlbC5wZXJmb3JtS2V5QWN0aW9uKGZvY3VzZWROb2RlLCAkZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgb25Nb3VzZWRvd24oJGV2ZW50KSB7XHJcbiAgICBjb25zdCBpbnNpZGVDbGljayA9IHRoaXMucmVuZGVyZXIuaW52b2tlRWxlbWVudE1ldGhvZCgkZXZlbnQudGFyZ2V0LCAnY2xvc2VzdCcsIFsnVHJlZSddKTtcclxuXHJcbiAgICBpZiAoIWluc2lkZUNsaWNrKSB7XHJcbiAgICAgIHRoaXMudHJlZU1vZGVsLnNldEZvY3VzKGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcclxuICAgIHRoaXMudHJlZU1vZGVsLnNldERhdGEoe1xyXG4gICAgICBvcHRpb25zOiBjaGFuZ2VzLm9wdGlvbnMgJiYgY2hhbmdlcy5vcHRpb25zLmN1cnJlbnRWYWx1ZSxcclxuICAgICAgbm9kZXM6IGNoYW5nZXMubm9kZXMgJiYgY2hhbmdlcy5ub2Rlcy5jdXJyZW50VmFsdWUsXHJcbiAgICAgIGV2ZW50czogcGljayh0aGlzLCB0aGlzLnRyZWVNb2RlbC5ldmVudE5hbWVzKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzaXplQ2hhbmdlZCgpIHtcclxuICAgIHRoaXMudmlld3BvcnRDb21wb25lbnQuc2V0Vmlld3BvcnQoKTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ1RyZWUsIHRyZWUtcm9vdCcsXHJcbiAgcHJvdmlkZXJzOiBbVHJlZU1vZGVsXSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8dHJlZS12aWV3cG9ydCAjdmlld3BvcnQ+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzcz1cImFuZ3VsYXItdHJlZS1jb21wb25lbnRcIlxyXG4gICAgICAgIFtjbGFzcy5ub2RlLWRyYWdnaW5nXT1cInRyZWVEcmFnZ2VkRWxlbWVudC5pc0RyYWdnaW5nKClcIlxyXG4gICAgICAgIFtjbGFzcy5hbmd1bGFyLXRyZWUtY29tcG9uZW50LXJ0bF09XCJ0cmVlTW9kZWwub3B0aW9ucy5ydGxcIj5cclxuICAgICAgICA8dHJlZS1ub2RlLWNvbGxlY3Rpb25cclxuICAgICAgICAgICpuZ0lmPVwidHJlZU1vZGVsLnJvb3RzXCJcclxuICAgICAgICAgIFtub2Rlc109XCJ0cmVlTW9kZWwucm9vdHNcIlxyXG4gICAgICAgICAgW3RyZWVNb2RlbF09XCJ0cmVlTW9kZWxcIlxyXG4gICAgICAgICAgW3RlbXBsYXRlc109XCJ7XHJcbiAgICAgICAgICAgIGxvYWRpbmdUZW1wbGF0ZTogbG9hZGluZ1RlbXBsYXRlLFxyXG4gICAgICAgICAgICB0cmVlTm9kZVRlbXBsYXRlOiB0cmVlTm9kZVRlbXBsYXRlLFxyXG4gICAgICAgICAgICB0cmVlTm9kZVdyYXBwZXJUZW1wbGF0ZTogdHJlZU5vZGVXcmFwcGVyVGVtcGxhdGUsXHJcbiAgICAgICAgICAgIHRyZWVOb2RlRnVsbFRlbXBsYXRlOiB0cmVlTm9kZUZ1bGxUZW1wbGF0ZVxyXG4gICAgICAgICAgfVwiPlxyXG4gICAgICAgIDwvdHJlZS1ub2RlLWNvbGxlY3Rpb24+XHJcbiAgICAgICAgPHRyZWUtbm9kZS1kcm9wLXNsb3RcclxuICAgICAgICAgIGNsYXNzPVwiZW1wdHktdHJlZS1kcm9wLXNsb3RcIlxyXG4gICAgICAgICAgKm5nSWY9XCJ0cmVlTW9kZWwuaXNFbXB0eVRyZWUoKVwiXHJcbiAgICAgICAgICBbZHJvcEluZGV4XT1cIjBcIlxyXG4gICAgICAgICAgW25vZGVdPVwidHJlZU1vZGVsLnZpcnR1YWxSb290XCI+XHJcbiAgICAgICAgPC90cmVlLW5vZGUtZHJvcC1zbG90PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvdHJlZS12aWV3cG9ydD5cclxuICBgXHJcbn0sIF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbnN0YXRpYyBjdG9yUGFyYW1ldGVyczogKCkgPT4gKHt0eXBlOiBhbnksIGRlY29yYXRvcnM/OiBEZWNvcmF0b3JJbnZvY2F0aW9uW119fG51bGwpW10gPSAoKSA9PiBbXG57dHlwZTogVHJlZU1vZGVsLCB9LFxue3R5cGU6IFRyZWVEcmFnZ2VkRWxlbWVudCwgfSxcbnt0eXBlOiBSZW5kZXJlciwgfSxcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ2xvYWRpbmdUZW1wbGF0ZSc6IFt7IHR5cGU6IENvbnRlbnRDaGlsZCwgYXJnczogWydsb2FkaW5nVGVtcGxhdGUnLCBdIH0sXSxcbid0cmVlTm9kZVRlbXBsYXRlJzogW3sgdHlwZTogQ29udGVudENoaWxkLCBhcmdzOiBbJ3RyZWVOb2RlVGVtcGxhdGUnLCBdIH0sXSxcbid0cmVlTm9kZVdyYXBwZXJUZW1wbGF0ZSc6IFt7IHR5cGU6IENvbnRlbnRDaGlsZCwgYXJnczogWyd0cmVlTm9kZVdyYXBwZXJUZW1wbGF0ZScsIF0gfSxdLFxuJ3RyZWVOb2RlRnVsbFRlbXBsYXRlJzogW3sgdHlwZTogQ29udGVudENoaWxkLCBhcmdzOiBbJ3RyZWVOb2RlRnVsbFRlbXBsYXRlJywgXSB9LF0sXG4ndmlld3BvcnRDb21wb25lbnQnOiBbeyB0eXBlOiBWaWV3Q2hpbGQsIGFyZ3M6IFsndmlld3BvcnQnLCBdIH0sXSxcbidub2Rlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbidvcHRpb25zJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ2ZvY3VzZWQnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nc3RhdGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4ndG9nZ2xlRXhwYW5kZWQnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuJ2FjdGl2YXRlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidkZWFjdGl2YXRlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidzZWxlY3QnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuJ2Rlc2VsZWN0JzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidmb2N1cyc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nYmx1cic6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4ndXBkYXRlRGF0YSc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4naW5pdGlhbGl6ZWQnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuJ21vdmVOb2RlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidjb3B5Tm9kZSc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nbG9hZE5vZGVDaGlsZHJlbic6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nY2hhbmdlRmlsdGVyJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidldmVudCc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nc3RhdGVDaGFuZ2UnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuJ29uS2V5ZG93bic6IFt7IHR5cGU6IEhvc3RMaXN0ZW5lciwgYXJnczogWydib2R5OiBrZXlkb3duJywgWyckZXZlbnQnXSwgXSB9LF0sXG4nb25Nb3VzZWRvd24nOiBbeyB0eXBlOiBIb3N0TGlzdGVuZXIsIGFyZ3M6IFsnYm9keTogbW91c2Vkb3duJywgWyckZXZlbnQnXSwgXSB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeComponent = /** @class */ (function () {\r\n    function TreeNodeComponent() {\r\n    }\r\n    TreeNodeComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'TreeNode, tree-node',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <ng-container *mobxAutorun=\\\"{dontDetach: true}\\\">\\n      <div\\n        *ngIf=\\\"!templates.treeNodeFullTemplate\\\"\\n        [class]=\\\"node.getClass()\\\"\\n        [class.tree-node]=\\\"true\\\"\\n        [class.tree-node-expanded]=\\\"node.isExpanded && node.hasChildren\\\"\\n        [class.tree-node-collapsed]=\\\"node.isCollapsed && node.hasChildren\\\"\\n        [class.tree-node-leaf]=\\\"node.isLeaf\\\"\\n        [class.tree-node-active]=\\\"node.isActive\\\"\\n        [class.tree-node-focused]=\\\"node.isFocused\\\"\\n        >\\n\\n        <tree-node-drop-slot *ngIf=\\\"index === 0\\\" [dropIndex]=\\\"node.index\\\" [node]=\\\"node.parent\\\"></tree-node-drop-slot>\\n\\n        <tree-node-wrapper [node]=\\\"node\\\" [index]=\\\"index\\\" [templates]=\\\"templates\\\"></tree-node-wrapper>\\n\\n        <tree-node-children [node]=\\\"node\\\" [templates]=\\\"templates\\\"></tree-node-children>\\n        <tree-node-drop-slot [dropIndex]=\\\"node.index + 1\\\" [node]=\\\"node.parent\\\"></tree-node-drop-slot>\\n      </div>\\n      <ng-container\\n        [ngTemplateOutlet]=\\\"templates.treeNodeFullTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{ $implicit: node, node: node, index: index, templates: templates }\\\">\\n      </ng-container>\\n    </ng-container>\"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeComponent.ctorParameters = function () { return []; };\r\n    TreeNodeComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    return TreeNodeComponent;\r\n}());\r\nexport { TreeNodeComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8saUJBQUEsRUFBK0IsTUFBTyxlQUFBLENBQWdCO0FBS2pGO0lBQUE7SUE0Q0EsQ0FBQztJQXhDTSw0QkFBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO29CQUNyQyxNQUFNLEVBQUUsRUFBRTtvQkFDVixRQUFRLEVBQUUsbXJDQXdCUTtpQkFDbkIsRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLGdDQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0ssZ0NBQWMsR0FBMkM7UUFDaEUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDMUIsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDM0IsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7S0FDOUIsQ0FBQztJQUNGLHdCQUFDO0NBNUNELEFBNENDLElBQUE7U0E1Q1ksaUJBQWlCIiwiZmlsZSI6InRyZWUtbm9kZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24sIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtbm9kZS5tb2RlbCc7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTm9kZUNvbXBvbmVudCB7XHJcbiAgIG5vZGU6IFRyZWVOb2RlO1xyXG4gICBpbmRleDogbnVtYmVyO1xyXG4gICB0ZW1wbGF0ZXM6IGFueTtcclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogQ29tcG9uZW50LCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAnVHJlZU5vZGUsIHRyZWUtbm9kZScsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctY29udGFpbmVyICptb2J4QXV0b3J1bj1cIntkb250RGV0YWNoOiB0cnVlfVwiPlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgKm5nSWY9XCIhdGVtcGxhdGVzLnRyZWVOb2RlRnVsbFRlbXBsYXRlXCJcclxuICAgICAgICBbY2xhc3NdPVwibm9kZS5nZXRDbGFzcygpXCJcclxuICAgICAgICBbY2xhc3MudHJlZS1ub2RlXT1cInRydWVcIlxyXG4gICAgICAgIFtjbGFzcy50cmVlLW5vZGUtZXhwYW5kZWRdPVwibm9kZS5pc0V4cGFuZGVkICYmIG5vZGUuaGFzQ2hpbGRyZW5cIlxyXG4gICAgICAgIFtjbGFzcy50cmVlLW5vZGUtY29sbGFwc2VkXT1cIm5vZGUuaXNDb2xsYXBzZWQgJiYgbm9kZS5oYXNDaGlsZHJlblwiXHJcbiAgICAgICAgW2NsYXNzLnRyZWUtbm9kZS1sZWFmXT1cIm5vZGUuaXNMZWFmXCJcclxuICAgICAgICBbY2xhc3MudHJlZS1ub2RlLWFjdGl2ZV09XCJub2RlLmlzQWN0aXZlXCJcclxuICAgICAgICBbY2xhc3MudHJlZS1ub2RlLWZvY3VzZWRdPVwibm9kZS5pc0ZvY3VzZWRcIlxyXG4gICAgICAgID5cclxuXHJcbiAgICAgICAgPHRyZWUtbm9kZS1kcm9wLXNsb3QgKm5nSWY9XCJpbmRleCA9PT0gMFwiIFtkcm9wSW5kZXhdPVwibm9kZS5pbmRleFwiIFtub2RlXT1cIm5vZGUucGFyZW50XCI+PC90cmVlLW5vZGUtZHJvcC1zbG90PlxyXG5cclxuICAgICAgICA8dHJlZS1ub2RlLXdyYXBwZXIgW25vZGVdPVwibm9kZVwiIFtpbmRleF09XCJpbmRleFwiIFt0ZW1wbGF0ZXNdPVwidGVtcGxhdGVzXCI+PC90cmVlLW5vZGUtd3JhcHBlcj5cclxuXHJcbiAgICAgICAgPHRyZWUtbm9kZS1jaGlsZHJlbiBbbm9kZV09XCJub2RlXCIgW3RlbXBsYXRlc109XCJ0ZW1wbGF0ZXNcIj48L3RyZWUtbm9kZS1jaGlsZHJlbj5cclxuICAgICAgICA8dHJlZS1ub2RlLWRyb3Atc2xvdCBbZHJvcEluZGV4XT1cIm5vZGUuaW5kZXggKyAxXCIgW25vZGVdPVwibm9kZS5wYXJlbnRcIj48L3RyZWUtbm9kZS1kcm9wLXNsb3Q+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8bmctY29udGFpbmVyXHJcbiAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwidGVtcGxhdGVzLnRyZWVOb2RlRnVsbFRlbXBsYXRlXCJcclxuICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyAkaW1wbGljaXQ6IG5vZGUsIG5vZGU6IG5vZGUsIGluZGV4OiBpbmRleCwgdGVtcGxhdGVzOiB0ZW1wbGF0ZXMgfVwiPlxyXG4gICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIDwvbmctY29udGFpbmVyPmBcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4naW5kZXgnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4ndGVtcGxhdGVzJzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeContent = /** @class */ (function () {\r\n    function TreeNodeContent() {\r\n    }\r\n    TreeNodeContent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-content',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    template: \"\\n  <span *ngIf=\\\"!template\\\">{{ node.displayField }}</span>\\n  <ng-container\\n    [ngTemplateOutlet]=\\\"template\\\"\\n    [ngTemplateOutletContext]=\\\"{ $implicit: node, node: node, index: index }\\\">\\n  </ng-container>\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeContent.ctorParameters = function () { return []; };\r\n    TreeNodeContent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'template': [{ type: Input },],\r\n    };\r\n    return TreeNodeContent;\r\n}());\r\nexport { TreeNodeContent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jb250ZW50LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBQSxFQUFXLEtBQUEsRUFBTyxpQkFBQSxFQUErQixNQUFPLGVBQUEsQ0FBZ0I7QUFJakY7SUFBQTtJQXdCQSxDQUFDO0lBcEJNLDBCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsUUFBUSxFQUFFLG1CQUFtQjtvQkFDN0IsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLFFBQVEsRUFBRSx5TkFLTTtpQkFDakIsRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLDhCQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0ssOEJBQWMsR0FBMkM7UUFDaEUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDMUIsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDM0IsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7S0FDN0IsQ0FBQztJQUNGLHNCQUFDO0NBeEJELEFBd0JDLElBQUE7U0F4QlksZUFBZSIsImZpbGUiOiJ0cmVlLW5vZGUtY29udGVudC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24sIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtbm9kZS5tb2RlbCc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVOb2RlQ29udGVudCB7XHJcbiAgIG5vZGU6IFRyZWVOb2RlO1xyXG4gICBpbmRleDogbnVtYmVyO1xyXG4gICB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pjtcclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogQ29tcG9uZW50LCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAndHJlZS1ub2RlLWNvbnRlbnQnLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgdGVtcGxhdGU6IGBcclxuICA8c3BhbiAqbmdJZj1cIiF0ZW1wbGF0ZVwiPnt7IG5vZGUuZGlzcGxheUZpZWxkIH19PC9zcGFuPlxyXG4gIDxuZy1jb250YWluZXJcclxuICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInRlbXBsYXRlXCJcclxuICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogbm9kZSwgbm9kZTogbm9kZSwgaW5kZXg6IGluZGV4IH1cIj5cclxuICA8L25nLWNvbnRhaW5lcj5gLFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbm9kZSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbidpbmRleCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbid0ZW1wbGF0ZSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeDropSlot = /** @class */ (function () {\r\n    function TreeNodeDropSlot() {\r\n    }\r\n    TreeNodeDropSlot.prototype.onDrop = function ($event) {\r\n        this.node.mouseAction('drop', $event.event, {\r\n            from: $event.element,\r\n            to: { parent: this.node, index: this.dropIndex }\r\n        });\r\n    };\r\n    TreeNodeDropSlot.prototype.allowDrop = function (element, $event) {\r\n        return this.node.options.allowDrop(element, { parent: this.node, index: this.dropIndex }, $event);\r\n    };\r\n    TreeNodeDropSlot.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'TreeNodeDropSlot, tree-node-drop-slot',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <div\\n      class=\\\"node-drop-slot\\\"\\n      (treeDrop)=\\\"onDrop($event)\\\"\\n      [treeAllowDrop]=\\\"allowDrop.bind(this)\\\">\\n    </div>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeDropSlot.ctorParameters = function () { return []; };\r\n    TreeNodeDropSlot.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'dropIndex': [{ type: Input },],\r\n    };\r\n    return TreeNodeDropSlot;\r\n}());\r\nexport { TreeNodeDropSlot };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1kcm9wLXNsb3QuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFBLEVBQVcsS0FBQSxFQUFPLGlCQUFBLEVBQWtCLE1BQU8sZUFBQSxDQUFnQjtBQUlwRTtJQUFBO0lBbUNBLENBQUM7SUEvQkMsaUNBQU0sR0FBTixVQUFPLE1BQU07UUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRTtZQUMxQyxJQUFJLEVBQUUsTUFBTSxDQUFDLE9BQU87WUFDcEIsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUU7U0FDakQsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELG9DQUFTLEdBQVQsVUFBVSxPQUFPLEVBQUUsTUFBTTtRQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUNJLDJCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsUUFBUSxFQUFFLHVDQUF1QztvQkFDakQsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLE1BQU0sRUFBRSxFQUFFO29CQUNWLFFBQVEsRUFBRSxrSkFNVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsK0JBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSywrQkFBYyxHQUEyQztRQUNoRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMxQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUM5QixDQUFDO0lBQ0YsdUJBQUM7Q0FuQ0QsQUFtQ0MsSUFBQTtTQW5DWSxnQkFBZ0IiLCJmaWxlIjoidHJlZS1ub2RlLWRyb3Atc2xvdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZU5vZGVEcm9wU2xvdCB7XHJcbiAgIG5vZGU6IFRyZWVOb2RlO1xyXG4gICBkcm9wSW5kZXg6IG51bWJlcjtcclxuXHJcbiAgb25Ecm9wKCRldmVudCkge1xyXG4gICAgdGhpcy5ub2RlLm1vdXNlQWN0aW9uKCdkcm9wJywgJGV2ZW50LmV2ZW50LCB7XHJcbiAgICAgIGZyb206ICRldmVudC5lbGVtZW50LFxyXG4gICAgICB0bzogeyBwYXJlbnQ6IHRoaXMubm9kZSwgaW5kZXg6IHRoaXMuZHJvcEluZGV4IH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWxsb3dEcm9wKGVsZW1lbnQsICRldmVudCkge1xyXG4gICAgcmV0dXJuIHRoaXMubm9kZS5vcHRpb25zLmFsbG93RHJvcChlbGVtZW50LCB7IHBhcmVudDogdGhpcy5ub2RlLCBpbmRleDogdGhpcy5kcm9wSW5kZXggfSwgJGV2ZW50KTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ1RyZWVOb2RlRHJvcFNsb3QsIHRyZWUtbm9kZS1kcm9wLXNsb3QnLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgc3R5bGVzOiBbXSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzcz1cIm5vZGUtZHJvcC1zbG90XCJcclxuICAgICAgKHRyZWVEcm9wKT1cIm9uRHJvcCgkZXZlbnQpXCJcclxuICAgICAgW3RyZWVBbGxvd0Ryb3BdPVwiYWxsb3dEcm9wLmJpbmQodGhpcylcIj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nZHJvcEluZGV4JzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeExpanderComponent = /** @class */ (function () {\r\n    function TreeNodeExpanderComponent() {\r\n    }\r\n    TreeNodeExpanderComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-expander',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <ng-container *mobxAutorun=\\\"{dontDetach: true}\\\">\\n      <span\\n        *ngIf=\\\"node.hasChildren\\\"\\n        [class.toggle-children-wrapper-expanded]=\\\"node.isExpanded\\\"\\n        [class.toggle-children-wrapper-collapsed]=\\\"node.isCollapsed\\\"\\n        class=\\\"toggle-children-wrapper\\\"\\n        (click)=\\\"node.mouseAction('expanderClick', $event)\\\">\\n\\n        <span class=\\\"toggle-children\\\"></span>\\n      </span>\\n      <span\\n        *ngIf=\\\"!node.hasChildren\\\"\\n        class=\\\"toggle-children-placeholder\\\">\\n      </span>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeExpanderComponent.ctorParameters = function () { return []; };\r\n    TreeNodeExpanderComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n    };\r\n    return TreeNodeExpanderComponent;\r\n}());\r\nexport { TreeNodeExpanderComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1leHBhbmRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8saUJBQUEsRUFBa0IsTUFBTyxlQUFBLENBQWdCO0FBSXBFO0lBQUE7SUFnQ0EsQ0FBQztJQTlCTSxvQ0FBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxvQkFBb0I7b0JBQzlCLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO29CQUNyQyxNQUFNLEVBQUUsRUFBRTtvQkFDVixRQUFRLEVBQUUsZ2pCQWdCVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsd0NBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSyx3Q0FBYyxHQUEyQztRQUNoRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUN6QixDQUFDO0lBQ0YsZ0NBQUM7Q0FoQ0QsQUFnQ0MsSUFBQTtTQWhDWSx5QkFBeUIiLCJmaWxlIjoidHJlZS1ub2RlLWV4cGFuZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4uL21vZGVscy90cmVlLW5vZGUubW9kZWwnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTm9kZUV4cGFuZGVyQ29tcG9uZW50IHtcclxuICAgbm9kZTogVHJlZU5vZGU7XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ3RyZWUtbm9kZS1leHBhbmRlcicsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctY29udGFpbmVyICptb2J4QXV0b3J1bj1cIntkb250RGV0YWNoOiB0cnVlfVwiPlxyXG4gICAgICA8c3BhblxyXG4gICAgICAgICpuZ0lmPVwibm9kZS5oYXNDaGlsZHJlblwiXHJcbiAgICAgICAgW2NsYXNzLnRvZ2dsZS1jaGlsZHJlbi13cmFwcGVyLWV4cGFuZGVkXT1cIm5vZGUuaXNFeHBhbmRlZFwiXHJcbiAgICAgICAgW2NsYXNzLnRvZ2dsZS1jaGlsZHJlbi13cmFwcGVyLWNvbGxhcHNlZF09XCJub2RlLmlzQ29sbGFwc2VkXCJcclxuICAgICAgICBjbGFzcz1cInRvZ2dsZS1jaGlsZHJlbi13cmFwcGVyXCJcclxuICAgICAgICAoY2xpY2spPVwibm9kZS5tb3VzZUFjdGlvbignZXhwYW5kZXJDbGljaycsICRldmVudClcIj5cclxuXHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0b2dnbGUtY2hpbGRyZW5cIj48L3NwYW4+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICAgPHNwYW5cclxuICAgICAgICAqbmdJZj1cIiFub2RlLmhhc0NoaWxkcmVuXCJcclxuICAgICAgICBjbGFzcz1cInRvZ2dsZS1jaGlsZHJlbi1wbGFjZWhvbGRlclwiPlxyXG4gICAgICA8L3NwYW4+XHJcbiAgICA8L25nLWNvbnRhaW5lcj5cclxuICBgXHJcbn0sIF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbnN0YXRpYyBjdG9yUGFyYW1ldGVyczogKCkgPT4gKHt0eXBlOiBhbnksIGRlY29yYXRvcnM/OiBEZWNvcmF0b3JJbnZvY2F0aW9uW119fG51bGwpW10gPSAoKSA9PiBbXG5dO1xuc3RhdGljIHByb3BEZWNvcmF0b3JzOiB7W2tleTogc3RyaW5nXTogRGVjb3JhdG9ySW52b2NhdGlvbltdfSA9IHtcbidub2RlJzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeChildrenComponent = /** @class */ (function () {\r\n    function TreeNodeChildrenComponent() {\r\n    }\r\n    TreeNodeChildrenComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-children',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <ng-container *mobxAutorun=\\\"{dontDetach: true}\\\">\\n      <div [class.tree-children]=\\\"true\\\"\\n          [class.tree-children-no-padding]=\\\"node.options.levelPadding\\\"\\n          *treeAnimateOpen=\\\"\\n            node.isExpanded;\\n            speed:node.options.animateSpeed;\\n            acceleration:node.options.animateAcceleration;\\n            enabled:node.options.animateExpand\\\">\\n        <tree-node-collection\\n          *ngIf=\\\"node.children\\\"\\n          [nodes]=\\\"node.children\\\"\\n          [templates]=\\\"templates\\\"\\n          [treeModel]=\\\"node.treeModel\\\">\\n        </tree-node-collection>\\n        <tree-loading-component\\n          [style.padding-left]=\\\"node.getNodePadding()\\\"\\n          class=\\\"tree-node-loading\\\"\\n          *ngIf=\\\"!node.children\\\"\\n          [template]=\\\"templates.loadingTemplate\\\"\\n          [node]=\\\"node\\\"\\n        ></tree-loading-component>\\n      </div>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeChildrenComponent.ctorParameters = function () { return []; };\r\n    TreeNodeChildrenComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    return TreeNodeChildrenComponent;\r\n}());\r\nexport { TreeNodeChildrenComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jaGlsZHJlbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8saUJBQUEsRUFBa0IsTUFBTyxlQUFBLENBQWdCO0FBSXBFO0lBQUE7SUEwQ0EsQ0FBQztJQXZDTSxvQ0FBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxvQkFBb0I7b0JBQzlCLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO29CQUNyQyxNQUFNLEVBQUUsRUFBRTtvQkFDVixRQUFRLEVBQUUsaTZCQXdCVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsd0NBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSyx3Q0FBYyxHQUEyQztRQUNoRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMxQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUM5QixDQUFDO0lBQ0YsZ0NBQUM7Q0ExQ0QsQUEwQ0MsSUFBQTtTQTFDWSx5QkFBeUIiLCJmaWxlIjoidHJlZS1ub2RlLWNoaWxkcmVuLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4uL21vZGVscy90cmVlLW5vZGUubW9kZWwnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTm9kZUNoaWxkcmVuQ29tcG9uZW50IHtcclxuICAgbm9kZTogVHJlZU5vZGU7XHJcbiAgIHRlbXBsYXRlczogYW55O1xyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgc2VsZWN0b3I6ICd0cmVlLW5vZGUtY2hpbGRyZW4nLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgc3R5bGVzOiBbXSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPG5nLWNvbnRhaW5lciAqbW9ieEF1dG9ydW49XCJ7ZG9udERldGFjaDogdHJ1ZX1cIj5cclxuICAgICAgPGRpdiBbY2xhc3MudHJlZS1jaGlsZHJlbl09XCJ0cnVlXCJcclxuICAgICAgICAgIFtjbGFzcy50cmVlLWNoaWxkcmVuLW5vLXBhZGRpbmddPVwibm9kZS5vcHRpb25zLmxldmVsUGFkZGluZ1wiXHJcbiAgICAgICAgICAqdHJlZUFuaW1hdGVPcGVuPVwiXHJcbiAgICAgICAgICAgIG5vZGUuaXNFeHBhbmRlZDtcclxuICAgICAgICAgICAgc3BlZWQ6bm9kZS5vcHRpb25zLmFuaW1hdGVTcGVlZDtcclxuICAgICAgICAgICAgYWNjZWxlcmF0aW9uOm5vZGUub3B0aW9ucy5hbmltYXRlQWNjZWxlcmF0aW9uO1xyXG4gICAgICAgICAgICBlbmFibGVkOm5vZGUub3B0aW9ucy5hbmltYXRlRXhwYW5kXCI+XHJcbiAgICAgICAgPHRyZWUtbm9kZS1jb2xsZWN0aW9uXHJcbiAgICAgICAgICAqbmdJZj1cIm5vZGUuY2hpbGRyZW5cIlxyXG4gICAgICAgICAgW25vZGVzXT1cIm5vZGUuY2hpbGRyZW5cIlxyXG4gICAgICAgICAgW3RlbXBsYXRlc109XCJ0ZW1wbGF0ZXNcIlxyXG4gICAgICAgICAgW3RyZWVNb2RlbF09XCJub2RlLnRyZWVNb2RlbFwiPlxyXG4gICAgICAgIDwvdHJlZS1ub2RlLWNvbGxlY3Rpb24+XHJcbiAgICAgICAgPHRyZWUtbG9hZGluZy1jb21wb25lbnRcclxuICAgICAgICAgIFtzdHlsZS5wYWRkaW5nLWxlZnRdPVwibm9kZS5nZXROb2RlUGFkZGluZygpXCJcclxuICAgICAgICAgIGNsYXNzPVwidHJlZS1ub2RlLWxvYWRpbmdcIlxyXG4gICAgICAgICAgKm5nSWY9XCIhbm9kZS5jaGlsZHJlblwiXHJcbiAgICAgICAgICBbdGVtcGxhdGVdPVwidGVtcGxhdGVzLmxvYWRpbmdUZW1wbGF0ZVwiXHJcbiAgICAgICAgICBbbm9kZV09XCJub2RlXCJcclxuICAgICAgICA+PC90cmVlLWxvYWRpbmctY29tcG9uZW50PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG4gIGBcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4ndGVtcGxhdGVzJzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { reaction } from 'mobx';\r\nimport { observable, computed, action } from 'mobx-angular';\r\nvar TreeNodeCollectionComponent = /** @class */ (function () {\r\n    function TreeNodeCollectionComponent() {\r\n        this._dispose = [];\r\n    }\r\n    Object.defineProperty(TreeNodeCollectionComponent.prototype, \"nodes\", {\r\n        get: function () { return this._nodes; },\r\n        set: function (nodes) { this.setNodes(nodes); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNodeCollectionComponent.prototype, \"marginTop\", {\r\n        get: function () {\r\n            var firstNode = this.viewportNodes && this.viewportNodes.length && this.viewportNodes[0];\r\n            var relativePosition = firstNode ? firstNode.position - firstNode.parent.position - firstNode.parent.getSelfHeight() : 0;\r\n            return relativePosition + \"px\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNodeCollectionComponent.prototype.setNodes = function (nodes) {\r\n        this._nodes = nodes;\r\n    };\r\n    TreeNodeCollectionComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.virtualScroll = this.treeModel.virtualScroll;\r\n        this._dispose = [\r\n            // return node indexes so we can compare structurally,\r\n            reaction(function () {\r\n                return _this.virtualScroll.getViewportNodes(_this.nodes).map(function (n) { return n.index; });\r\n            }, function (nodeIndexes) {\r\n                _this.viewportNodes = nodeIndexes.map(function (i) { return _this.nodes[i]; });\r\n            }, { compareStructural: true, fireImmediately: true }),\r\n            reaction(function () { return _this.nodes; }, function (nodes) {\r\n                _this.viewportNodes = _this.virtualScroll.getViewportNodes(nodes);\r\n            })\r\n        ];\r\n    };\r\n    TreeNodeCollectionComponent.prototype.ngOnDestroy = function () {\r\n        this._dispose.forEach(function (d) { return d(); });\r\n    };\r\n    TreeNodeCollectionComponent.prototype.trackNode = function (index, node) {\r\n        return node.id;\r\n    };\r\n    TreeNodeCollectionComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-collection',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    template: \"\\n    <ng-container *mobxAutorun=\\\"{dontDetach: true}\\\">\\n      <div\\n        [style.margin-top]=\\\"marginTop\\\">\\n        <tree-node\\n          *ngFor=\\\"let node of viewportNodes; let i = index; trackBy: trackNode\\\"\\n          [node]=\\\"node\\\"\\n          [index]=\\\"i\\\"\\n          [templates]=\\\"templates\\\">\\n        </tree-node>\\n      </div>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeCollectionComponent.ctorParameters = function () { return []; };\r\n    TreeNodeCollectionComponent.propDecorators = {\r\n        'nodes': [{ type: Input },],\r\n        'treeModel': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeNodeCollectionComponent.prototype, \"_nodes\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Array)\r\n    ], TreeNodeCollectionComponent.prototype, \"viewportNodes\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", String),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNodeCollectionComponent.prototype, \"marginTop\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeNodeCollectionComponent.prototype, \"setNodes\", null);\r\n    return TreeNodeCollectionComponent;\r\n}());\r\nexport { TreeNodeCollectionComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jb2xsZWN0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUFFLEtBQUEsRUFBTyxpQkFBQSxFQUNuQixNQUFNLGVBQUEsQ0FBZ0I7QUFDdkIsT0FBTyxFQUFFLFFBQUEsRUFBUyxNQUFPLE1BQUEsQ0FBTztBQUNoQyxPQUFPLEVBQUUsVUFBQSxFQUFZLFFBQUEsRUFBVSxNQUFBLEVBQU8sTUFBTyxjQUFBLENBQWU7QUFNNUQ7SUFBQTtRQW9CRSxhQUFRLEdBQUcsRUFBRSxDQUFDO0lBeURoQixDQUFDO0lBM0VDLHNCQUFJLDhDQUFLO2FBQVQsY0FBYyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7YUFDbkMsVUFBVSxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7OztPQURQO0lBV3pCLHNCQUFJLGtEQUFTO2FBQWI7WUFDUixJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0YsSUFBTSxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNILE1BQU0sQ0FBSSxnQkFBZ0IsT0FBSSxDQUFDO1FBQ2pDLENBQUM7OztPQUFBO0lBSU8sOENBQVEsR0FBUixVQUFTLEtBQUs7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVELDhDQUFRLEdBQVI7UUFBQSxpQkFjQztRQWJDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUM7UUFDbEQsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLHNEQUFzRDtZQUN0RCxRQUFRLENBQUM7Z0JBQ1AsTUFBTSxDQUFDLEtBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsS0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxLQUFLLEVBQVAsQ0FBTyxDQUFDLENBQUM7WUFDM0UsQ0FBQyxFQUFFLFVBQUMsV0FBVztnQkFDWCxLQUFJLENBQUMsYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxLQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFiLENBQWEsQ0FBQyxDQUFDO1lBQzdELENBQUMsRUFBRSxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFTLENBQzdEO1lBQ0QsUUFBUSxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsS0FBSyxFQUFWLENBQVUsRUFBRSxVQUFDLEtBQUs7Z0JBQy9CLEtBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsRSxDQUFDLENBQUM7U0FDSCxDQUFDO0lBQ0osQ0FBQztJQUVELGlEQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsRUFBRSxFQUFILENBQUcsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCwrQ0FBUyxHQUFULFVBQVUsS0FBSyxFQUFFLElBQUk7UUFDbkIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVJLHNDQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsUUFBUSxFQUFFLHNCQUFzQjtvQkFDaEMsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLFFBQVEsRUFBRSwrV0FZVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsMENBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSywwQ0FBYyxHQUEyQztRQUNoRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMzQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMvQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUM5QixDQUFDO0lBckVZO1FBQVgsVUFBVTs7K0RBQVE7SUFJUDtRQUFYLFVBQVU7O3NFQUEyQjtJQUU1QjtRQUFULFFBQVE7OztnRUFLUjtJQUlPO1FBQVAsTUFBTTs7OzsrREFFTjtJQXFESCxrQ0FBQztDQTdFRCxBQTZFQyxJQUFBO1NBN0VZLDJCQUEyQiIsImZpbGUiOiJ0cmVlLW5vZGUtY29sbGVjdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiwgT25Jbml0LCBPbkRlc3Ryb3lcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgcmVhY3Rpb24gfSBmcm9tICdtb2J4JztcclxuaW1wb3J0IHsgb2JzZXJ2YWJsZSwgY29tcHV0ZWQsIGFjdGlvbiB9IGZyb20gJ21vYngtYW5ndWxhcic7XHJcbmltcG9ydCB7IFRyZWVWaXJ0dWFsU2Nyb2xsIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtdmlydHVhbC1zY3JvbGwubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4uL21vZGVscy90cmVlLW5vZGUubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS5tb2RlbCc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVOb2RlQ29sbGVjdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcclxuICBcclxuICBnZXQgbm9kZXMoKSB7IHJldHVybiB0aGlzLl9ub2RlczsgfVxyXG4gIHNldCBub2Rlcyhub2RlcykgeyB0aGlzLnNldE5vZGVzKG5vZGVzKTsgfVxyXG5cclxuICAgdHJlZU1vZGVsOiBUcmVlTW9kZWw7XHJcblxyXG4gIEBvYnNlcnZhYmxlIF9ub2RlcztcclxuICBwcml2YXRlIHZpcnR1YWxTY3JvbGw6IFRyZWVWaXJ0dWFsU2Nyb2xsOyAvLyBDYW5ub3QgaW5qZWN0IHRoaXMsIGJlY2F1c2Ugd2UgbWlnaHQgYmUgaW5zaWRlIHRyZWVOb2RlVGVtcGxhdGVGdWxsXHJcbiAgIHRlbXBsYXRlcztcclxuXHJcbiAgQG9ic2VydmFibGUgdmlld3BvcnROb2RlczogVHJlZU5vZGVbXTtcclxuXHJcbiAgQGNvbXB1dGVkIGdldCBtYXJnaW5Ub3AoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZpcnN0Tm9kZSA9IHRoaXMudmlld3BvcnROb2RlcyAmJiB0aGlzLnZpZXdwb3J0Tm9kZXMubGVuZ3RoICYmIHRoaXMudmlld3BvcnROb2Rlc1swXTtcclxuICAgIGNvbnN0IHJlbGF0aXZlUG9zaXRpb24gPSBmaXJzdE5vZGUgPyBmaXJzdE5vZGUucG9zaXRpb24gLSBmaXJzdE5vZGUucGFyZW50LnBvc2l0aW9uIC0gZmlyc3ROb2RlLnBhcmVudC5nZXRTZWxmSGVpZ2h0KCkgOiAwO1xyXG5cclxuICAgIHJldHVybiBgJHtyZWxhdGl2ZVBvc2l0aW9ufXB4YDtcclxuICB9XHJcblxyXG4gIF9kaXNwb3NlID0gW107XHJcblxyXG4gIEBhY3Rpb24gc2V0Tm9kZXMobm9kZXMpIHtcclxuICAgIHRoaXMuX25vZGVzID0gbm9kZXM7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMudmlydHVhbFNjcm9sbCA9IHRoaXMudHJlZU1vZGVsLnZpcnR1YWxTY3JvbGw7XHJcbiAgICB0aGlzLl9kaXNwb3NlID0gW1xyXG4gICAgICAvLyByZXR1cm4gbm9kZSBpbmRleGVzIHNvIHdlIGNhbiBjb21wYXJlIHN0cnVjdHVyYWxseSxcclxuICAgICAgcmVhY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWxTY3JvbGwuZ2V0Vmlld3BvcnROb2Rlcyh0aGlzLm5vZGVzKS5tYXAobiA9PiBuLmluZGV4KTtcclxuICAgICAgfSwgKG5vZGVJbmRleGVzKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnZpZXdwb3J0Tm9kZXMgPSBub2RlSW5kZXhlcy5tYXAoKGkpID0+IHRoaXMubm9kZXNbaV0pO1xyXG4gICAgICAgIH0sIHsgY29tcGFyZVN0cnVjdHVyYWw6IHRydWUsIGZpcmVJbW1lZGlhdGVseTogdHJ1ZSB9IGFzIGFueVxyXG4gICAgICApLFxyXG4gICAgICByZWFjdGlvbigoKSA9PiB0aGlzLm5vZGVzLCAobm9kZXMpID0+IHtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0Tm9kZXMgPSB0aGlzLnZpcnR1YWxTY3JvbGwuZ2V0Vmlld3BvcnROb2Rlcyhub2Rlcyk7XHJcbiAgICAgIH0pXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9kaXNwb3NlLmZvckVhY2goZCA9PiBkKCkpO1xyXG4gIH1cclxuXHJcbiAgdHJhY2tOb2RlKGluZGV4LCBub2RlKSB7XHJcbiAgICByZXR1cm4gbm9kZS5pZDtcclxuICB9XHJcblxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgc2VsZWN0b3I6ICd0cmVlLW5vZGUtY29sbGVjdGlvbicsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPG5nLWNvbnRhaW5lciAqbW9ieEF1dG9ydW49XCJ7ZG9udERldGFjaDogdHJ1ZX1cIj5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIFtzdHlsZS5tYXJnaW4tdG9wXT1cIm1hcmdpblRvcFwiPlxyXG4gICAgICAgIDx0cmVlLW5vZGVcclxuICAgICAgICAgICpuZ0Zvcj1cImxldCBub2RlIG9mIHZpZXdwb3J0Tm9kZXM7IGxldCBpID0gaW5kZXg7IHRyYWNrQnk6IHRyYWNrTm9kZVwiXHJcbiAgICAgICAgICBbbm9kZV09XCJub2RlXCJcclxuICAgICAgICAgIFtpbmRleF09XCJpXCJcclxuICAgICAgICAgIFt0ZW1wbGF0ZXNdPVwidGVtcGxhdGVzXCI+XHJcbiAgICAgICAgPC90cmVlLW5vZGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgYFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbm9kZXMnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4ndHJlZU1vZGVsJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ3RlbXBsYXRlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeWrapperComponent = /** @class */ (function () {\r\n    function TreeNodeWrapperComponent() {\r\n    }\r\n    TreeNodeWrapperComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-wrapper',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n      <div *ngIf=\\\"!templates.treeNodeWrapperTemplate\\\" class=\\\"node-wrapper\\\" [style.padding-left]=\\\"node.getNodePadding()\\\">\\n        <tree-node-checkbox *ngIf=\\\"node.options.useCheckbox\\\" [node]=\\\"node\\\"></tree-node-checkbox>\\n        <tree-node-expander [node]=\\\"node\\\"></tree-node-expander>\\n        <div class=\\\"node-content-wrapper\\\"\\n          [class.node-content-wrapper-active]=\\\"node.isActive\\\"\\n          [class.node-content-wrapper-focused]=\\\"node.isFocused\\\"\\n          (click)=\\\"node.mouseAction('click', $event)\\\"\\n          (dblclick)=\\\"node.mouseAction('dblClick', $event)\\\"\\n          (contextmenu)=\\\"node.mouseAction('contextMenu', $event)\\\"\\n          (treeDrop)=\\\"node.onDrop($event)\\\"\\n          (treeDropDragOver)=\\\"node.mouseAction('dragOver', $event)\\\"\\n          (treeDropDragLeave)=\\\"node.mouseAction('dragLeave', $event)\\\"\\n          (treeDropDragEnter)=\\\"node.mouseAction('dragEnter', $event)\\\"\\n          [treeAllowDrop]=\\\"node.allowDrop\\\"\\n          [treeDrag]=\\\"node\\\"\\n          [treeDragEnabled]=\\\"node.allowDrag()\\\">\\n\\n          <tree-node-content [node]=\\\"node\\\" [index]=\\\"index\\\" [template]=\\\"templates.treeNodeTemplate\\\">\\n          </tree-node-content>\\n        </div>\\n      </div>\\n      <ng-container \\n        [ngTemplateOutlet]=\\\"templates.treeNodeWrapperTemplate\\\" \\n        [ngTemplateOutletContext]=\\\"{ $implicit: node, node: node, index: index, templates: templates }\\\">\\n      </ng-container>\\n    \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeWrapperComponent.ctorParameters = function () { return []; };\r\n    TreeNodeWrapperComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    return TreeNodeWrapperComponent;\r\n}());\r\nexport { TreeNodeWrapperComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS13cmFwcGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBQSxFQUFXLEtBQUEsRUFBTyxpQkFBQSxFQUErQixNQUFPLGVBQUEsQ0FBZ0I7QUFLakY7SUFNRTtJQUFnQixDQUFDO0lBRVosbUNBQVUsR0FBMEI7UUFDM0MsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDO29CQUN4QixRQUFRLEVBQUUsbUJBQW1CO29CQUM3QixhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTtvQkFDckMsTUFBTSxFQUFFLEVBQUU7b0JBQ1YsUUFBUSxFQUFFLDY2Q0EwQlA7aUJBQ0osRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLHVDQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0ssdUNBQWMsR0FBMkM7UUFDaEUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDMUIsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDM0IsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7S0FDOUIsQ0FBQztJQUNGLCtCQUFDO0NBbERELEFBa0RDLElBQUE7U0FsRFksd0JBQXdCIiwiZmlsZSI6InRyZWUtbm9kZS13cmFwcGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsJztcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVOb2RlV3JhcHBlckNvbXBvbmVudCB7XHJcblxyXG4gICBub2RlOiBUcmVlTm9kZTtcclxuICAgaW5kZXg6IG51bWJlcjtcclxuICAgdGVtcGxhdGVzOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgc2VsZWN0b3I6ICd0cmVlLW5vZGUtd3JhcHBlcicsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICAgIDxkaXYgKm5nSWY9XCIhdGVtcGxhdGVzLnRyZWVOb2RlV3JhcHBlclRlbXBsYXRlXCIgY2xhc3M9XCJub2RlLXdyYXBwZXJcIiBbc3R5bGUucGFkZGluZy1sZWZ0XT1cIm5vZGUuZ2V0Tm9kZVBhZGRpbmcoKVwiPlxyXG4gICAgICAgIDx0cmVlLW5vZGUtY2hlY2tib3ggKm5nSWY9XCJub2RlLm9wdGlvbnMudXNlQ2hlY2tib3hcIiBbbm9kZV09XCJub2RlXCI+PC90cmVlLW5vZGUtY2hlY2tib3g+XHJcbiAgICAgICAgPHRyZWUtbm9kZS1leHBhbmRlciBbbm9kZV09XCJub2RlXCI+PC90cmVlLW5vZGUtZXhwYW5kZXI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudC13cmFwcGVyXCJcclxuICAgICAgICAgIFtjbGFzcy5ub2RlLWNvbnRlbnQtd3JhcHBlci1hY3RpdmVdPVwibm9kZS5pc0FjdGl2ZVwiXHJcbiAgICAgICAgICBbY2xhc3Mubm9kZS1jb250ZW50LXdyYXBwZXItZm9jdXNlZF09XCJub2RlLmlzRm9jdXNlZFwiXHJcbiAgICAgICAgICAoY2xpY2spPVwibm9kZS5tb3VzZUFjdGlvbignY2xpY2snLCAkZXZlbnQpXCJcclxuICAgICAgICAgIChkYmxjbGljayk9XCJub2RlLm1vdXNlQWN0aW9uKCdkYmxDbGljaycsICRldmVudClcIlxyXG4gICAgICAgICAgKGNvbnRleHRtZW51KT1cIm5vZGUubW91c2VBY3Rpb24oJ2NvbnRleHRNZW51JywgJGV2ZW50KVwiXHJcbiAgICAgICAgICAodHJlZURyb3ApPVwibm9kZS5vbkRyb3AoJGV2ZW50KVwiXHJcbiAgICAgICAgICAodHJlZURyb3BEcmFnT3Zlcik9XCJub2RlLm1vdXNlQWN0aW9uKCdkcmFnT3ZlcicsICRldmVudClcIlxyXG4gICAgICAgICAgKHRyZWVEcm9wRHJhZ0xlYXZlKT1cIm5vZGUubW91c2VBY3Rpb24oJ2RyYWdMZWF2ZScsICRldmVudClcIlxyXG4gICAgICAgICAgKHRyZWVEcm9wRHJhZ0VudGVyKT1cIm5vZGUubW91c2VBY3Rpb24oJ2RyYWdFbnRlcicsICRldmVudClcIlxyXG4gICAgICAgICAgW3RyZWVBbGxvd0Ryb3BdPVwibm9kZS5hbGxvd0Ryb3BcIlxyXG4gICAgICAgICAgW3RyZWVEcmFnXT1cIm5vZGVcIlxyXG4gICAgICAgICAgW3RyZWVEcmFnRW5hYmxlZF09XCJub2RlLmFsbG93RHJhZygpXCI+XHJcblxyXG4gICAgICAgICAgPHRyZWUtbm9kZS1jb250ZW50IFtub2RlXT1cIm5vZGVcIiBbaW5kZXhdPVwiaW5kZXhcIiBbdGVtcGxhdGVdPVwidGVtcGxhdGVzLnRyZWVOb2RlVGVtcGxhdGVcIj5cclxuICAgICAgICAgIDwvdHJlZS1ub2RlLWNvbnRlbnQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8bmctY29udGFpbmVyIFxyXG4gICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInRlbXBsYXRlcy50cmVlTm9kZVdyYXBwZXJUZW1wbGF0ZVwiIFxyXG4gICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogbm9kZSwgbm9kZTogbm9kZSwgaW5kZXg6IGluZGV4LCB0ZW1wbGF0ZXM6IHRlbXBsYXRlcyB9XCI+XHJcbiAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgYFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbm9kZSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbidpbmRleCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbid0ZW1wbGF0ZXMnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Component, ElementRef, HostListener } from '@angular/core';\r\nimport { TreeVirtualScroll } from '../models/tree-virtual-scroll.model';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nvar TreeViewportComponent = /** @class */ (function () {\r\n    function TreeViewportComponent(elementRef, virtualScroll) {\r\n        this.elementRef = elementRef;\r\n        this.virtualScroll = virtualScroll;\r\n    }\r\n    TreeViewportComponent.prototype.ngOnInit = function () {\r\n        this.virtualScroll.init();\r\n    };\r\n    TreeViewportComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.setViewport();\r\n            _this.virtualScroll.fireEvent({ eventName: TREE_EVENTS.initialized });\r\n        });\r\n    };\r\n    TreeViewportComponent.prototype.ngOnDestroy = function () {\r\n        this.virtualScroll.clear();\r\n    };\r\n    TreeViewportComponent.prototype.getTotalHeight = function () {\r\n        return this.virtualScroll.isEnabled() && this.virtualScroll.totalHeight + 'px' || 'auto';\r\n    };\r\n    TreeViewportComponent.prototype.onScroll = function () {\r\n        this.setViewport();\r\n    };\r\n    TreeViewportComponent.prototype.setViewport = function () {\r\n        this.virtualScroll.setViewport(this.elementRef.nativeElement);\r\n    };\r\n    TreeViewportComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-viewport',\r\n                    styles: [],\r\n                    providers: [TreeVirtualScroll],\r\n                    template: \"\\n    <ng-container *mobxAutorun=\\\"{dontDetach: true}\\\">\\n      <div [style.height]=\\\"getTotalHeight()\\\">\\n        <ng-content></ng-content>\\n      </div>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeViewportComponent.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: TreeVirtualScroll, },\r\n    ]; };\r\n    TreeViewportComponent.propDecorators = {\r\n        'onScroll': [{ type: HostListener, args: ['scroll', ['$event'],] },],\r\n    };\r\n    return TreeViewportComponent;\r\n}());\r\nexport { TreeViewportComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtdmlld3BvcnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQUUsVUFBQSxFQUErQixZQUFBLEVBQzNDLE1BQU0sZUFBQSxDQUFnQjtBQUN2QixPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxxQ0FBQSxDQUFzQztBQUN4RSxPQUFPLEVBQUUsV0FBQSxFQUFZLE1BQU8scUJBQUEsQ0FBc0I7QUFHbEQ7SUFDRSwrQkFDVSxVQUFzQixFQUN2QixhQUFnQztRQUQvQixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3ZCLGtCQUFhLEdBQWIsYUFBYSxDQUFtQjtJQUN6QyxDQUFDO0lBRUQsd0NBQVEsR0FBUjtRQUNFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVELCtDQUFlLEdBQWY7UUFBQSxpQkFLQztRQUpDLFVBQVUsQ0FBQztZQUNULEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNuQixLQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUN2RSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCwyQ0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsOENBQWMsR0FBZDtRQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxNQUFNLENBQUM7SUFDM0YsQ0FBQztJQUdELHdDQUFRLEdBQVI7UUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELDJDQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFDSSxnQ0FBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxlQUFlO29CQUN6QixNQUFNLEVBQUUsRUFBRTtvQkFDVixTQUFTLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQztvQkFDOUIsUUFBUSxFQUFFLHFMQU1UO2lCQUNGLEVBQUcsRUFBRTtLQUNMLENBQUM7SUFDRixrQkFBa0I7SUFDWCxvQ0FBYyxHQUFtRSxjQUFNLE9BQUE7UUFDOUYsRUFBQyxJQUFJLEVBQUUsVUFBVSxHQUFHO1FBQ3BCLEVBQUMsSUFBSSxFQUFFLGlCQUFpQixHQUFHO0tBQzFCLEVBSDZGLENBRzdGLENBQUM7SUFDSyxvQ0FBYyxHQUEyQztRQUNoRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUcsRUFBRSxFQUFFO0tBQ3BFLENBQUM7SUFDRiw0QkFBQztDQXZERCxBQXVEQyxJQUFBO1NBdkRZLHFCQUFxQiIsImZpbGUiOiJ0cmVlLXZpZXdwb3J0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIENvbXBvbmVudCwgRWxlbWVudFJlZiwgVmlld0VuY2Fwc3VsYXRpb24sIEhvc3RMaXN0ZW5lciwgQWZ0ZXJWaWV3SW5pdCwgT25Jbml0LCBPbkRlc3Ryb3lcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZVZpcnR1YWxTY3JvbGwgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS12aXJ0dWFsLXNjcm9sbC5tb2RlbCc7XHJcbmltcG9ydCB7IFRSRUVfRVZFTlRTIH0gZnJvbSAnLi4vY29uc3RhbnRzL2V2ZW50cyc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVWaWV3cG9ydENvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uSW5pdCwgT25EZXN0cm95IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZixcclxuICAgIHB1YmxpYyB2aXJ0dWFsU2Nyb2xsOiBUcmVlVmlydHVhbFNjcm9sbCkge1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTY3JvbGwuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0Vmlld3BvcnQoKTtcclxuICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuaW5pdGlhbGl6ZWQgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2Nyb2xsLmNsZWFyKCk7XHJcbiAgfVxyXG5cclxuICBnZXRUb3RhbEhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxTY3JvbGwuaXNFbmFibGVkKCkgJiYgdGhpcy52aXJ0dWFsU2Nyb2xsLnRvdGFsSGVpZ2h0ICsgJ3B4JyB8fCAnYXV0byc7XHJcbiAgfVxyXG5cclxuICBcclxuICBvblNjcm9sbCgpIHtcclxuICAgIHRoaXMuc2V0Vmlld3BvcnQoKTtcclxuICB9XHJcblxyXG4gIHNldFZpZXdwb3J0KCkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2Nyb2xsLnNldFZpZXdwb3J0KHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ3RyZWUtdmlld3BvcnQnLFxyXG4gIHN0eWxlczogW10sXHJcbiAgcHJvdmlkZXJzOiBbVHJlZVZpcnR1YWxTY3JvbGxdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctY29udGFpbmVyICptb2J4QXV0b3J1bj1cIntkb250RGV0YWNoOiB0cnVlfVwiPlxyXG4gICAgICA8ZGl2IFtzdHlsZS5oZWlnaHRdPVwiZ2V0VG90YWxIZWlnaHQoKVwiPlxyXG4gICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L25nLWNvbnRhaW5lcj5cclxuICBgXHJcbn0sIF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbnN0YXRpYyBjdG9yUGFyYW1ldGVyczogKCkgPT4gKHt0eXBlOiBhbnksIGRlY29yYXRvcnM/OiBEZWNvcmF0b3JJbnZvY2F0aW9uW119fG51bGwpW10gPSAoKSA9PiBbXG57dHlwZTogRWxlbWVudFJlZiwgfSxcbnt0eXBlOiBUcmVlVmlydHVhbFNjcm9sbCwgfSxcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ29uU2Nyb2xsJzogW3sgdHlwZTogSG9zdExpc3RlbmVyLCBhcmdzOiBbJ3Njcm9sbCcsIFsnJGV2ZW50J10sIF0gfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeCheckboxComponent = /** @class */ (function () {\r\n    function TreeNodeCheckboxComponent() {\r\n    }\r\n    TreeNodeCheckboxComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-checkbox',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <ng-container *mobxAutorun=\\\"{dontDetach: true}\\\">\\n      <input\\n        class=\\\"tree-node-checkbox\\\"\\n        type=\\\"checkbox\\\"\\n        (click)=\\\"node.mouseAction('checkboxClick', $event)\\\"\\n        [checked]=\\\"node.isSelected\\\"\\n        [indeterminate]=\\\"node.isPartiallySelected\\\"/>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeCheckboxComponent.ctorParameters = function () { return []; };\r\n    TreeNodeCheckboxComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n    };\r\n    return TreeNodeCheckboxComponent;\r\n}());\r\nexport { TreeNodeCheckboxComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jaGVja2JveC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8saUJBQUEsRUFBa0IsTUFBTyxlQUFBLENBQWdCO0FBSXBFO0lBQUE7SUF5QkEsQ0FBQztJQXZCTSxvQ0FBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxvQkFBb0I7b0JBQzlCLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO29CQUNyQyxNQUFNLEVBQUUsRUFBRTtvQkFDVixRQUFRLEVBQUUsZ1VBU1Q7aUJBQ0YsRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLHdDQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0ssd0NBQWMsR0FBMkM7UUFDaEUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7S0FDekIsQ0FBQztJQUNGLGdDQUFDO0NBekJELEFBeUJDLElBQUE7U0F6QlkseUJBQXlCIiwiZmlsZSI6InRyZWUtbm9kZS1jaGVja2JveC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZU5vZGVDaGVja2JveENvbXBvbmVudCB7XHJcbiAgIG5vZGU6IFRyZWVOb2RlO1xyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgc2VsZWN0b3I6ICd0cmVlLW5vZGUtY2hlY2tib3gnLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgc3R5bGVzOiBbXSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPG5nLWNvbnRhaW5lciAqbW9ieEF1dG9ydW49XCJ7ZG9udERldGFjaDogdHJ1ZX1cIj5cclxuICAgICAgPGlucHV0XHJcbiAgICAgICAgY2xhc3M9XCJ0cmVlLW5vZGUtY2hlY2tib3hcIlxyXG4gICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgKGNsaWNrKT1cIm5vZGUubW91c2VBY3Rpb24oJ2NoZWNrYm94Q2xpY2snLCAkZXZlbnQpXCJcclxuICAgICAgICBbY2hlY2tlZF09XCJub2RlLmlzU2VsZWN0ZWRcIlxyXG4gICAgICAgIFtpbmRldGVybWluYXRlXT1cIm5vZGUuaXNQYXJ0aWFsbHlTZWxlY3RlZFwiLz5cclxuICAgIDwvbmctY29udGFpbmVyPlxyXG4gIGBcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Directive, Output, Input, EventEmitter, HostListener, Renderer, ElementRef } from '@angular/core';\r\nimport { TreeDraggedElement } from '../models/tree-dragged-element.model';\r\nvar DRAG_OVER_CLASS = 'is-dragging-over';\r\nvar DRAG_DISABLED_CLASS = 'is-dragging-over-disabled';\r\nvar TreeDropDirective = /** @class */ (function () {\r\n    function TreeDropDirective(el, renderer, treeDraggedElement) {\r\n        this.el = el;\r\n        this.renderer = renderer;\r\n        this.treeDraggedElement = treeDraggedElement;\r\n        this.onDropCallback = new EventEmitter();\r\n        this.onDragOverCallback = new EventEmitter();\r\n        this.onDragLeaveCallback = new EventEmitter();\r\n        this.onDragEnterCallback = new EventEmitter();\r\n        this._allowDrop = function (element, $event) { return true; };\r\n    }\r\n    Object.defineProperty(TreeDropDirective.prototype, \"treeAllowDrop\", {\r\n        set: function (allowDrop) {\r\n            if (allowDrop instanceof Function) {\r\n                this._allowDrop = allowDrop;\r\n            }\r\n            else\r\n                this._allowDrop = function (element, $event) { return allowDrop; };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeDropDirective.prototype.allowDrop = function ($event) {\r\n        return this._allowDrop(this.treeDraggedElement.get(), $event);\r\n    };\r\n    TreeDropDirective.prototype.onDragOver = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return this.addDisabledClass();\r\n        this.onDragOverCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n        $event.preventDefault();\r\n        this.addClass();\r\n    };\r\n    TreeDropDirective.prototype.onDragEnter = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return;\r\n        this.onDragEnterCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n    };\r\n    TreeDropDirective.prototype.onDragLeave = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return this.removeDisabledClass();\r\n        this.onDragLeaveCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n        this.removeClass();\r\n    };\r\n    TreeDropDirective.prototype.onDrop = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return;\r\n        $event.preventDefault();\r\n        this.onDropCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n        this.removeClass();\r\n        this.treeDraggedElement.set(null);\r\n    };\r\n    TreeDropDirective.prototype.addClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_OVER_CLASS, true);\r\n    };\r\n    TreeDropDirective.prototype.removeClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_OVER_CLASS, false);\r\n    };\r\n    TreeDropDirective.prototype.addDisabledClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_DISABLED_CLASS, true);\r\n    };\r\n    TreeDropDirective.prototype.removeDisabledClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_DISABLED_CLASS, false);\r\n    };\r\n    TreeDropDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[treeDrop]'\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeDropDirective.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: Renderer, },\r\n        { type: TreeDraggedElement, },\r\n    ]; };\r\n    TreeDropDirective.propDecorators = {\r\n        'onDropCallback': [{ type: Output, args: ['treeDrop',] },],\r\n        'onDragOverCallback': [{ type: Output, args: ['treeDropDragOver',] },],\r\n        'onDragLeaveCallback': [{ type: Output, args: ['treeDropDragLeave',] },],\r\n        'onDragEnterCallback': [{ type: Output, args: ['treeDropDragEnter',] },],\r\n        'treeAllowDrop': [{ type: Input },],\r\n        'onDragOver': [{ type: HostListener, args: ['dragover', ['$event'],] },],\r\n        'onDragEnter': [{ type: HostListener, args: ['dragenter', ['$event'],] },],\r\n        'onDragLeave': [{ type: HostListener, args: ['dragleave', ['$event'],] },],\r\n        'onDrop': [{ type: HostListener, args: ['drop', ['$event'],] },],\r\n    };\r\n    return TreeDropDirective;\r\n}());\r\nexport { TreeDropDirective };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9kaXJlY3RpdmVzL3RyZWUtZHJvcC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxNQUFBLEVBQVEsS0FBQSxFQUFPLFlBQUEsRUFBYyxZQUFBLEVBQWMsUUFBQSxFQUFVLFVBQUEsRUFBVyxNQUFPLGVBQUEsQ0FBZ0I7QUFDM0csT0FBTyxFQUFFLGtCQUFBLEVBQW1CLE1BQU8sc0NBQUEsQ0FBdUM7QUFFMUUsSUFBTSxlQUFBLEdBQWtCLGtCQUFBLENBQW1CO0FBQzNDLElBQU0sbUJBQUEsR0FBc0IsMkJBQUEsQ0FBNEI7QUFHeEQ7SUFpQkUsMkJBQW9CLEVBQWMsRUFBVSxRQUFrQixFQUFVLGtCQUFzQztRQUExRixPQUFFLEdBQUYsRUFBRSxDQUFZO1FBQVUsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUFVLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFoQjdHLG1CQUFjLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNwQyx1QkFBa0IsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3hDLHdCQUFtQixHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFDekMsd0JBQW1CLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUVsQyxlQUFVLEdBQUcsVUFBQyxPQUFPLEVBQUUsTUFBTSxJQUFLLE9BQUEsSUFBSSxFQUFKLENBQUksQ0FBQztJQVkvQyxDQUFDO0lBWEEsc0JBQUksNENBQWE7YUFBakIsVUFBa0IsU0FBUztZQUMxQixFQUFFLENBQUMsQ0FBQyxTQUFTLFlBQVksUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDbEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7WUFDOUIsQ0FBQztZQUNELElBQUk7Z0JBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFDLE9BQU8sRUFBRSxNQUFNLElBQUssT0FBQSxTQUFTLEVBQVQsQ0FBUyxDQUFDO1FBQ3hELENBQUM7OztP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SUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRyxFQUFFLEVBQUU7UUFDM0UsUUFBUSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFHLEVBQUUsRUFBRTtLQUNoRSxDQUFDO0lBQ0Ysd0JBQUM7Q0F6RkQsQUF5RkMsSUFBQTtTQXpGWSxpQkFBaUIiLCJmaWxlIjoidHJlZS1kcm9wLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIE91dHB1dCwgSW5wdXQsIEV2ZW50RW1pdHRlciwgSG9zdExpc3RlbmVyLCBSZW5kZXJlciwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlRHJhZ2dlZEVsZW1lbnQgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwnO1xyXG5cclxuY29uc3QgRFJBR19PVkVSX0NMQVNTID0gJ2lzLWRyYWdnaW5nLW92ZXInO1xyXG5jb25zdCBEUkFHX0RJU0FCTEVEX0NMQVNTID0gJ2lzLWRyYWdnaW5nLW92ZXItZGlzYWJsZWQnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlRHJvcERpcmVjdGl2ZSB7XHJcbiAgIG9uRHJvcENhbGxiYWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICBvbkRyYWdPdmVyQ2FsbGJhY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgIG9uRHJhZ0xlYXZlQ2FsbGJhY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgIG9uRHJhZ0VudGVyQ2FsbGJhY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIHByaXZhdGUgX2FsbG93RHJvcCA9IChlbGVtZW50LCAkZXZlbnQpID0+IHRydWU7XHJcbiAgIHNldCB0cmVlQWxsb3dEcm9wKGFsbG93RHJvcCkge1xyXG4gICAgaWYgKGFsbG93RHJvcCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgIHRoaXMuX2FsbG93RHJvcCA9IGFsbG93RHJvcDtcclxuICAgIH1cclxuICAgIGVsc2UgdGhpcy5fYWxsb3dEcm9wID0gKGVsZW1lbnQsICRldmVudCkgPT4gYWxsb3dEcm9wO1xyXG4gIH1cclxuICBhbGxvd0Ryb3AoJGV2ZW50KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYWxsb3dEcm9wKHRoaXMudHJlZURyYWdnZWRFbGVtZW50LmdldCgpLCAkZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIsIHByaXZhdGUgdHJlZURyYWdnZWRFbGVtZW50OiBUcmVlRHJhZ2dlZEVsZW1lbnQpIHtcclxuICB9XHJcblxyXG4gICBvbkRyYWdPdmVyKCRldmVudCkge1xyXG4gICAgaWYgKCF0aGlzLmFsbG93RHJvcCgkZXZlbnQpKSByZXR1cm4gdGhpcy5hZGREaXNhYmxlZENsYXNzKCk7XHJcblxyXG4gICAgdGhpcy5vbkRyYWdPdmVyQ2FsbGJhY2suZW1pdCh7ZXZlbnQ6ICRldmVudCwgZWxlbWVudDogdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuZ2V0KCl9KTtcclxuXHJcbiAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuYWRkQ2xhc3MoKTtcclxuICB9XHJcblxyXG4gICBvbkRyYWdFbnRlcigkZXZlbnQpIHtcclxuICAgIGlmICghdGhpcy5hbGxvd0Ryb3AoJGV2ZW50KSkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMub25EcmFnRW50ZXJDYWxsYmFjay5lbWl0KHtldmVudDogJGV2ZW50LCBlbGVtZW50OiB0aGlzLnRyZWVEcmFnZ2VkRWxlbWVudC5nZXQoKX0pO1xyXG4gIH1cclxuXHJcbiAgIG9uRHJhZ0xlYXZlKCRldmVudCkge1xyXG4gICAgaWYgKCF0aGlzLmFsbG93RHJvcCgkZXZlbnQpKSByZXR1cm4gdGhpcy5yZW1vdmVEaXNhYmxlZENsYXNzKCk7XHJcblxyXG4gICAgdGhpcy5vbkRyYWdMZWF2ZUNhbGxiYWNrLmVtaXQoe2V2ZW50OiAkZXZlbnQsIGVsZW1lbnQ6IHRoaXMudHJlZURyYWdnZWRFbGVtZW50LmdldCgpfSk7XHJcblxyXG4gICAgdGhpcy5yZW1vdmVDbGFzcygpO1xyXG4gIH1cclxuXHJcbiAgIG9uRHJvcCgkZXZlbnQpIHtcclxuICAgIGlmICghdGhpcy5hbGxvd0Ryb3AoJGV2ZW50KSkgcmV0dXJuO1xyXG5cclxuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5vbkRyb3BDYWxsYmFjay5lbWl0KHtldmVudDogJGV2ZW50LCBlbGVtZW50OiB0aGlzLnRyZWVEcmFnZ2VkRWxlbWVudC5nZXQoKX0pO1xyXG4gICAgdGhpcy5yZW1vdmVDbGFzcygpO1xyXG4gICAgdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuc2V0KG51bGwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRDbGFzcygpIHtcclxuICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgRFJBR19PVkVSX0NMQVNTLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlQ2xhc3MoKSB7XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsIERSQUdfT1ZFUl9DTEFTUywgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGREaXNhYmxlZENsYXNzKCkge1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3ModGhpcy5lbC5uYXRpdmVFbGVtZW50LCBEUkFHX0RJU0FCTEVEX0NMQVNTLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlRGlzYWJsZWRDbGFzcygpIHtcclxuICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgRFJBR19ESVNBQkxFRF9DTEFTUywgZmFsc2UpO1xyXG4gIH1cclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogRGlyZWN0aXZlLCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAnW3RyZWVEcm9wXSdcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbnt0eXBlOiBFbGVtZW50UmVmLCB9LFxue3R5cGU6IFJlbmRlcmVyLCB9LFxue3R5cGU6IFRyZWVEcmFnZ2VkRWxlbWVudCwgfSxcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ29uRHJvcENhbGxiYWNrJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ3RyZWVEcm9wJywgXSB9LF0sXG4nb25EcmFnT3ZlckNhbGxiYWNrJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ3RyZWVEcm9wRHJhZ092ZXInLCBdIH0sXSxcbidvbkRyYWdMZWF2ZUNhbGxiYWNrJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ3RyZWVEcm9wRHJhZ0xlYXZlJywgXSB9LF0sXG4nb25EcmFnRW50ZXJDYWxsYmFjayc6IFt7IHR5cGU6IE91dHB1dCwgYXJnczogWyd0cmVlRHJvcERyYWdFbnRlcicsIF0gfSxdLFxuJ3RyZWVBbGxvd0Ryb3AnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nb25EcmFnT3Zlcic6IFt7IHR5cGU6IEhvc3RMaXN0ZW5lciwgYXJnczogWydkcmFnb3ZlcicsIFsnJGV2ZW50J10sIF0gfSxdLFxuJ29uRHJhZ0VudGVyJzogW3sgdHlwZTogSG9zdExpc3RlbmVyLCBhcmdzOiBbJ2RyYWdlbnRlcicsIFsnJGV2ZW50J10sIF0gfSxdLFxuJ29uRHJhZ0xlYXZlJzogW3sgdHlwZTogSG9zdExpc3RlbmVyLCBhcmdzOiBbJ2RyYWdsZWF2ZScsIFsnJGV2ZW50J10sIF0gfSxdLFxuJ29uRHJvcCc6IFt7IHR5cGU6IEhvc3RMaXN0ZW5lciwgYXJnczogWydkcm9wJywgWyckZXZlbnQnXSwgXSB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Directive, Input, HostListener, Renderer, ElementRef } from '@angular/core';\r\nimport { TreeDraggedElement } from '../models/tree-dragged-element.model';\r\nvar DRAG_OVER_CLASS = 'is-dragging-over';\r\nvar TreeDragDirective = /** @class */ (function () {\r\n    function TreeDragDirective(el, renderer, treeDraggedElement) {\r\n        this.el = el;\r\n        this.renderer = renderer;\r\n        this.treeDraggedElement = treeDraggedElement;\r\n    }\r\n    TreeDragDirective.prototype.ngDoCheck = function () {\r\n        this.renderer.setElementAttribute(this.el.nativeElement, 'draggable', this.treeDragEnabled ? 'true' : 'false');\r\n    };\r\n    TreeDragDirective.prototype.onDragStart = function (ev) {\r\n        // setting the data is required by firefox\r\n        ev.dataTransfer.setData('text', ev.target.id);\r\n        this.treeDraggedElement.set(this.draggedElement);\r\n        if (this.draggedElement.mouseAction) {\r\n            this.draggedElement.mouseAction('dragStart', ev);\r\n        }\r\n    };\r\n    TreeDragDirective.prototype.onDrag = function (ev) {\r\n        if (this.draggedElement.mouseAction) {\r\n            this.draggedElement.mouseAction('drag', ev);\r\n        }\r\n    };\r\n    TreeDragDirective.prototype.onDragEnd = function () {\r\n        if (this.draggedElement.mouseAction) {\r\n            this.draggedElement.mouseAction('dragEnd');\r\n        }\r\n        this.treeDraggedElement.set(null);\r\n    };\r\n    TreeDragDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[treeDrag]'\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeDragDirective.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: Renderer, },\r\n        { type: TreeDraggedElement, },\r\n    ]; };\r\n    TreeDragDirective.propDecorators = {\r\n        'draggedElement': [{ type: Input, args: ['treeDrag',] },],\r\n        'treeDragEnabled': [{ type: Input },],\r\n        'onDragStart': [{ type: HostListener, args: ['dragstart', ['$event'],] },],\r\n        'onDrag': [{ type: HostListener, args: ['drag', ['$event'],] },],\r\n        'onDragEnd': [{ type: HostListener, args: ['dragend',] },],\r\n    };\r\n    return TreeDragDirective;\r\n}());\r\nexport { TreeDragDirective };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9kaXJlY3RpdmVzL3RyZWUtZHJhZy5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8sWUFBQSxFQUFjLFFBQUEsRUFBVSxVQUFBLEVBQW9CLE1BQU8sZUFBQSxDQUFnQjtBQUM5RixPQUFPLEVBQUUsa0JBQUEsRUFBbUIsTUFBTyxzQ0FBQSxDQUF1QztBQUUxRSxJQUFNLGVBQUEsR0FBa0Isa0JBQUEsQ0FBbUI7QUFHM0M7SUFJRSwyQkFBb0IsRUFBYyxFQUFVLFFBQWtCLEVBQVUsa0JBQXNDO1FBQTFGLE9BQUUsR0FBRixFQUFFLENBQVk7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQVUsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtJQUM5RyxDQUFDO0lBRUQscUNBQVMsR0FBVDtRQUNFLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakgsQ0FBQztJQUVBLHVDQUFXLEdBQVgsVUFBWSxFQUFFO1FBQ2IsMENBQTBDO1FBQzFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ2pELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckQsQ0FBQztJQUNILENBQUM7SUFFQSxrQ0FBTSxHQUFOLFVBQU8sRUFBRTtRQUNSLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEQsQ0FBQztJQUNILENBQUM7SUFFQSxxQ0FBUyxHQUFUO1FBQ0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFDRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFDSSw0QkFBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxZQUFZO2lCQUN2QixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsZ0NBQWMsR0FBbUUsY0FBTSxPQUFBO1FBQzlGLEVBQUMsSUFBSSxFQUFFLFVBQVUsR0FBRztRQUNwQixFQUFDLElBQUksRUFBRSxRQUFRLEdBQUc7UUFDbEIsRUFBQyxJQUFJLEVBQUUsa0JBQWtCLEdBQUc7S0FDM0IsRUFKNkYsQ0FJN0YsQ0FBQztJQUNLLGdDQUFjLEdBQTJDO1FBQ2hFLGdCQUFnQixFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLFVBQVUsRUFBRyxFQUFFLEVBQUU7UUFDMUQsaUJBQWlCLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUcsRUFBRSxFQUFFO1FBQzNFLFFBQVEsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRyxFQUFFLEVBQUU7UUFDakUsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRyxFQUFFLEVBQUU7S0FDMUQsQ0FBQztJQUNGLHdCQUFDO0NBbERELEFBa0RDLElBQUE7U0FsRFksaUJBQWlCIiwiZmlsZSI6InRyZWUtZHJhZy5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aXZlLCBJbnB1dCwgSG9zdExpc3RlbmVyLCBSZW5kZXJlciwgRWxlbWVudFJlZiwgRG9DaGVjayB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlRHJhZ2dlZEVsZW1lbnQgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwnO1xyXG5cclxuY29uc3QgRFJBR19PVkVSX0NMQVNTID0gJ2lzLWRyYWdnaW5nLW92ZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlRHJhZ0RpcmVjdGl2ZSBpbXBsZW1lbnRzIERvQ2hlY2sge1xyXG4gICBkcmFnZ2VkRWxlbWVudDtcclxuICAgdHJlZURyYWdFbmFibGVkO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlciwgcHJpdmF0ZSB0cmVlRHJhZ2dlZEVsZW1lbnQ6IFRyZWVEcmFnZ2VkRWxlbWVudCkge1xyXG4gIH1cclxuXHJcbiAgbmdEb0NoZWNrKCkge1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgJ2RyYWdnYWJsZScsIHRoaXMudHJlZURyYWdFbmFibGVkID8gJ3RydWUnIDogJ2ZhbHNlJyk7XHJcbiAgfVxyXG5cclxuICAgb25EcmFnU3RhcnQoZXYpIHtcclxuICAgIC8vIHNldHRpbmcgdGhlIGRhdGEgaXMgcmVxdWlyZWQgYnkgZmlyZWZveFxyXG4gICAgZXYuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQnLCBldi50YXJnZXQuaWQpO1xyXG4gICAgdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuc2V0KHRoaXMuZHJhZ2dlZEVsZW1lbnQpO1xyXG4gICAgaWYgKHRoaXMuZHJhZ2dlZEVsZW1lbnQubW91c2VBY3Rpb24pIHtcclxuICAgICAgICB0aGlzLmRyYWdnZWRFbGVtZW50Lm1vdXNlQWN0aW9uKCdkcmFnU3RhcnQnLCBldik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAgb25EcmFnKGV2KSB7XHJcbiAgICBpZiAodGhpcy5kcmFnZ2VkRWxlbWVudC5tb3VzZUFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuZHJhZ2dlZEVsZW1lbnQubW91c2VBY3Rpb24oJ2RyYWcnLCBldik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAgb25EcmFnRW5kKCkge1xyXG4gICAgaWYgKHRoaXMuZHJhZ2dlZEVsZW1lbnQubW91c2VBY3Rpb24pIHtcclxuICAgICAgdGhpcy5kcmFnZ2VkRWxlbWVudC5tb3VzZUFjdGlvbignZHJhZ0VuZCcpO1xyXG4gICAgfVxyXG4gICAgdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuc2V0KG51bGwpO1xyXG4gIH1cclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogRGlyZWN0aXZlLCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAnW3RyZWVEcmFnXSdcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbnt0eXBlOiBFbGVtZW50UmVmLCB9LFxue3R5cGU6IFJlbmRlcmVyLCB9LFxue3R5cGU6IFRyZWVEcmFnZ2VkRWxlbWVudCwgfSxcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ2RyYWdnZWRFbGVtZW50JzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsndHJlZURyYWcnLCBdIH0sXSxcbid0cmVlRHJhZ0VuYWJsZWQnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nb25EcmFnU3RhcnQnOiBbeyB0eXBlOiBIb3N0TGlzdGVuZXIsIGFyZ3M6IFsnZHJhZ3N0YXJ0JywgWyckZXZlbnQnXSwgXSB9LF0sXG4nb25EcmFnJzogW3sgdHlwZTogSG9zdExpc3RlbmVyLCBhcmdzOiBbJ2RyYWcnLCBbJyRldmVudCddLCBdIH0sXSxcbidvbkRyYWdFbmQnOiBbeyB0eXBlOiBIb3N0TGlzdGVuZXIsIGFyZ3M6IFsnZHJhZ2VuZCcsIF0gfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Directive, Input, Renderer, TemplateRef, ViewContainerRef } from '@angular/core';\r\nvar EASE_ACCELERATION = 1.005;\r\nvar TreeAnimateOpenDirective = /** @class */ (function () {\r\n    function TreeAnimateOpenDirective(renderer, templateRef, viewContainerRef) {\r\n        this.renderer = renderer;\r\n        this.templateRef = templateRef;\r\n        this.viewContainerRef = viewContainerRef;\r\n    }\r\n    Object.defineProperty(TreeAnimateOpenDirective.prototype, \"isOpen\", {\r\n        set: function (value) {\r\n            if (value) {\r\n                this._show();\r\n                if (this.isEnabled && this._isOpen === false) {\r\n                    this._animateOpen();\r\n                }\r\n            }\r\n            else {\r\n                this.isEnabled ? this._animateClose() : this._hide();\r\n            }\r\n            this._isOpen = !!value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    TreeAnimateOpenDirective.prototype._show = function () {\r\n        if (this.innerElement)\r\n            return;\r\n        // create child view\r\n        this.innerElement = this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0];\r\n    };\r\n    TreeAnimateOpenDirective.prototype._hide = function () {\r\n        this.viewContainerRef.clear();\r\n        this.innerElement = null;\r\n    };\r\n    TreeAnimateOpenDirective.prototype._animateOpen = function () {\r\n        var _this = this;\r\n        var delta = this.animateSpeed;\r\n        var ease = this.animateAcceleration;\r\n        var maxHeight = 0;\r\n        // set height to 0\r\n        this.renderer.setElementStyle(this.innerElement, 'max-height', \"0\");\r\n        // increase maxHeight until height doesn't change\r\n        setTimeout(function () {\r\n            var i = setInterval(function () {\r\n                if (!_this._isOpen || !_this.innerElement)\r\n                    return clearInterval(i);\r\n                maxHeight += delta;\r\n                var roundedMaxHeight = Math.round(maxHeight);\r\n                _this.renderer.setElementStyle(_this.innerElement, 'max-height', roundedMaxHeight + \"px\");\r\n                var height = _this.innerElement.getBoundingClientRect ? _this.innerElement.getBoundingClientRect().height : 0; // TBD use renderer\r\n                delta *= ease;\r\n                ease *= EASE_ACCELERATION;\r\n                if (height < roundedMaxHeight) {\r\n                    // Make maxHeight auto because animation finished and container might change height later on\r\n                    _this.renderer.setElementStyle(_this.innerElement, 'max-height', null);\r\n                    clearInterval(i);\r\n                }\r\n            }, 17);\r\n        });\r\n    };\r\n    TreeAnimateOpenDirective.prototype._animateClose = function () {\r\n        var _this = this;\r\n        if (!this.innerElement)\r\n            return;\r\n        var delta = this.animateSpeed;\r\n        var ease = this.animateAcceleration;\r\n        var height = this.innerElement.getBoundingClientRect().height; // TBD use renderer\r\n        // slowly decrease maxHeight to 0, starting from current height\r\n        var i = setInterval(function () {\r\n            if (_this._isOpen || !_this.innerElement)\r\n                return clearInterval(i);\r\n            height -= delta;\r\n            _this.renderer.setElementStyle(_this.innerElement, 'max-height', height + \"px\");\r\n            delta *= ease;\r\n            ease *= EASE_ACCELERATION;\r\n            if (height <= 0) {\r\n                // after animation complete - remove child element\r\n                _this.viewContainerRef.clear();\r\n                _this.innerElement = null;\r\n                clearInterval(i);\r\n            }\r\n        }, 17);\r\n    };\r\n    TreeAnimateOpenDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[treeAnimateOpen]'\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeAnimateOpenDirective.ctorParameters = function () { return [\r\n        { type: Renderer, },\r\n        { type: TemplateRef, },\r\n        { type: ViewContainerRef, },\r\n    ]; };\r\n    TreeAnimateOpenDirective.propDecorators = {\r\n        'animateSpeed': [{ type: Input, args: ['treeAnimateOpenSpeed',] },],\r\n        'animateAcceleration': [{ type: Input, args: ['treeAnimateOpenAcceleration',] },],\r\n        'isEnabled': [{ type: Input, args: ['treeAnimateOpenEnabled',] },],\r\n        'isOpen': [{ type: Input, args: ['treeAnimateOpen',] },],\r\n    };\r\n    return TreeAnimateOpenDirective;\r\n}());\r\nexport { TreeAnimateOpenDirective };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9kaXJlY3RpdmVzL3RyZWUtYW5pbWF0ZS1vcGVuLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUFFLEtBQUEsRUFBcUIsUUFBQSxFQUN2QixXQUFBLEVBQWEsZ0JBQUEsRUFDdkIsTUFBTSxlQUFBLENBQWdCO0FBRXZCLElBQU0saUJBQUEsR0FBb0IsS0FBQSxDQUFNO0FBR2hDO0lBc0JFLGtDQUNVLFFBQWtCLEVBQ2xCLFdBQTZCLEVBQzdCLGdCQUFrQztRQUZsQyxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQ2xCLGdCQUFXLEdBQVgsV0FBVyxDQUFrQjtRQUM3QixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO0lBQUcsQ0FBQztJQWpCaEQsc0JBQUksNENBQU07YUFBVixVQUFXLEtBQWM7WUFDdkIsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDVixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQzdDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDdEIsQ0FBQztZQUNILENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDTixJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN2RCxDQUFDO1lBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBQUEsQ0FBQztJQVNNLHdDQUFLLEdBQWI7UUFDRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQUMsTUFBTSxDQUFDO1FBRTlCLG9CQUFvQjtRQUNwQixJQUFJ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RCxBQThHQyxJQUFBO1NBOUdZLHdCQUF3QiIsImZpbGUiOiJ0cmVlLWFuaW1hdGUtb3Blbi5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBEaXJlY3RpdmUsIElucHV0LCBIb3N0TGlzdGVuZXIsIFJlbmRlcmVyLCBFbGVtZW50UmVmLFxyXG4gIERvQ2hlY2ssIFRlbXBsYXRlUmVmLCBWaWV3Q29udGFpbmVyUmVmXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5jb25zdCBFQVNFX0FDQ0VMRVJBVElPTiA9IDEuMDA1O1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlQW5pbWF0ZU9wZW5EaXJlY3RpdmUge1xyXG4gIHByaXZhdGUgX2lzT3BlbjogYm9vbGVhbjtcclxuXHJcbiAgIGFuaW1hdGVTcGVlZDogbnVtYmVyO1xyXG4gICBhbmltYXRlQWNjZWxlcmF0aW9uOiBudW1iZXI7XHJcbiAgIGlzRW5hYmxlZDogYm9vbGVhbjtcclxuXHJcbiAgXHJcbiAgc2V0IGlzT3Blbih2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuX3Nob3coKTtcclxuICAgICAgaWYgKHRoaXMuaXNFbmFibGVkICYmIHRoaXMuX2lzT3BlbiA9PT0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLl9hbmltYXRlT3BlbigpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmlzRW5hYmxlZCA/IHRoaXMuX2FuaW1hdGVDbG9zZSgpIDogdGhpcy5faGlkZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faXNPcGVuID0gISF2YWx1ZTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIGlubmVyRWxlbWVudDogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyLFxyXG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PixcclxuICAgIHByaXZhdGUgdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZikge31cclxuXHJcbiAgcHJpdmF0ZSBfc2hvdygpIHtcclxuICAgIGlmICh0aGlzLmlubmVyRWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBjaGlsZCB2aWV3XHJcbiAgICB0aGlzLmlubmVyRWxlbWVudCA9IHRoaXMudmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy50ZW1wbGF0ZVJlZikucm9vdE5vZGVzWzBdO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaGlkZSgpIHtcclxuICAgIHRoaXMudmlld0NvbnRhaW5lclJlZi5jbGVhcigpO1xyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfYW5pbWF0ZU9wZW4oKSB7XHJcbiAgICBsZXQgZGVsdGEgPSB0aGlzLmFuaW1hdGVTcGVlZDtcclxuICAgIGxldCBlYXNlID0gdGhpcy5hbmltYXRlQWNjZWxlcmF0aW9uO1xyXG4gICAgbGV0IG1heEhlaWdodCA9IDA7XHJcblxyXG4gICAgLy8gc2V0IGhlaWdodCB0byAwXHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRTdHlsZSh0aGlzLmlubmVyRWxlbWVudCwgJ21heC1oZWlnaHQnLCBgMGApO1xyXG5cclxuICAgIC8vIGluY3JlYXNlIG1heEhlaWdodCB1bnRpbCBoZWlnaHQgZG9lc24ndCBjaGFuZ2VcclxuICAgIHNldFRpbWVvdXQoKCkgPT4geyAvLyBBbGxvdyBpbm5lciBlbGVtZW50IHRvIGNyZWF0ZSBpdHMgY29udGVudFxyXG4gICAgICBjb25zdCBpID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5faXNPcGVuIHx8ICF0aGlzLmlubmVyRWxlbWVudCkgcmV0dXJuIGNsZWFySW50ZXJ2YWwoaSk7XHJcblxyXG4gICAgICAgIG1heEhlaWdodCArPSBkZWx0YTtcclxuICAgICAgICBjb25zdCByb3VuZGVkTWF4SGVpZ2h0ID0gTWF0aC5yb3VuZChtYXhIZWlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRTdHlsZSh0aGlzLmlubmVyRWxlbWVudCwgJ21heC1oZWlnaHQnLCBgJHtyb3VuZGVkTWF4SGVpZ2h0fXB4YCk7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5pbm5lckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID8gdGhpcy5pbm5lckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IDogMDsgLy8gVEJEIHVzZSByZW5kZXJlclxyXG5cclxuICAgICAgICBkZWx0YSAqPSBlYXNlO1xyXG4gICAgICAgIGVhc2UgKj0gRUFTRV9BQ0NFTEVSQVRJT047XHJcbiAgICAgICAgaWYgKGhlaWdodCA8IHJvdW5kZWRNYXhIZWlnaHQpIHtcclxuICAgICAgICAgIC8vIE1ha2UgbWF4SGVpZ2h0IGF1dG8gYmVjYXVzZSBhbmltYXRpb24gZmluaXNoZWQgYW5kIGNvbnRhaW5lciBtaWdodCBjaGFuZ2UgaGVpZ2h0IGxhdGVyIG9uXHJcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRTdHlsZSh0aGlzLmlubmVyRWxlbWVudCwgJ21heC1oZWlnaHQnLCBudWxsKTtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAxNyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2FuaW1hdGVDbG9zZSgpIHtcclxuICAgIGlmICghdGhpcy5pbm5lckVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICBsZXQgZGVsdGEgPSB0aGlzLmFuaW1hdGVTcGVlZDtcclxuICAgIGxldCBlYXNlID0gdGhpcy5hbmltYXRlQWNjZWxlcmF0aW9uO1xyXG4gICAgbGV0IGhlaWdodCA9IHRoaXMuaW5uZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDsgLy8gVEJEIHVzZSByZW5kZXJlclxyXG5cclxuICAgIC8vIHNsb3dseSBkZWNyZWFzZSBtYXhIZWlnaHQgdG8gMCwgc3RhcnRpbmcgZnJvbSBjdXJyZW50IGhlaWdodFxyXG4gICAgY29uc3QgaSA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2lzT3BlbiB8fCAhdGhpcy5pbm5lckVsZW1lbnQpIHJldHVybiBjbGVhckludGVydmFsKGkpO1xyXG5cclxuICAgICAgaGVpZ2h0IC09IGRlbHRhO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRTdHlsZSh0aGlzLmlubmVyRWxlbWVudCwgJ21heC1oZWlnaHQnLCBgJHtoZWlnaHR9cHhgKTtcclxuICAgICAgZGVsdGEgKj0gZWFzZTtcclxuICAgICAgZWFzZSAqPSBFQVNFX0FDQ0VMRVJBVElPTjtcclxuXHJcbiAgICAgIGlmIChoZWlnaHQgPD0gMCkge1xyXG4gICAgICAgIC8vIGFmdGVyIGFuaW1hdGlvbiBjb21wbGV0ZSAtIHJlbW92ZSBjaGlsZCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5pbm5lckVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7XHJcbiAgICAgIH1cclxuICAgIH0sIDE3KTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ1t0cmVlQW5pbWF0ZU9wZW5dJ1xyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xue3R5cGU6IFJlbmRlcmVyLCB9LFxue3R5cGU6IFRlbXBsYXRlUmVmLCB9LFxue3R5cGU6IFZpZXdDb250YWluZXJSZWYsIH0sXG5dO1xuc3RhdGljIHByb3BEZWNvcmF0b3JzOiB7W2tleTogc3RyaW5nXTogRGVjb3JhdG9ySW52b2NhdGlvbltdfSA9IHtcbidhbmltYXRlU3BlZWQnOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd0cmVlQW5pbWF0ZU9wZW5TcGVlZCcsIF0gfSxdLFxuJ2FuaW1hdGVBY2NlbGVyYXRpb24nOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd0cmVlQW5pbWF0ZU9wZW5BY2NlbGVyYXRpb24nLCBdIH0sXSxcbidpc0VuYWJsZWQnOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd0cmVlQW5pbWF0ZU9wZW5FbmFibGVkJywgXSB9LF0sXG4naXNPcGVuJzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsndHJlZUFuaW1hdGVPcGVuJywgXSB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","// element-closest | CC0-1.0 | github.com/jonathantneal/closest\r\nif (typeof Element !== 'undefined') {\r\n    if (typeof Element.prototype.matches !== 'function') {\r\n        Element.prototype.matches = Element.prototype.msMatchesSelector ||\r\n            Element.prototype['mozMatchesSelector'] ||\r\n            Element.prototype.webkitMatchesSelector ||\r\n            function matches(selector) {\r\n                var element = this;\r\n                var elements = (element.document || element.ownerDocument).querySelectorAll(selector);\r\n                var index = 0;\r\n                while (elements[index] && elements[index] !== element) {\r\n                    ++index;\r\n                }\r\n                return Boolean(elements[index]);\r\n            };\r\n    }\r\n    if (typeof Element.prototype['closest'] !== 'function') {\r\n        Element.prototype['closest'] = function closest(selector) {\r\n            var element = this;\r\n            while (element && element.nodeType === 1) {\r\n                if (element.matches(selector)) {\r\n                    return element;\r\n                }\r\n                element = element.parentNode;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi92ZW5kb3IvY2xvc2VzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrREFBK0Q7QUFDL0QsRUFBRSxDQUFDLENBQUMsT0FBTyxPQUFPLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNuQyxFQUFFLENBQUMsQ0FBQyxPQUFPLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDcEQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUI7WUFDM0QsT0FBTyxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQztZQUN2QyxPQUFPLENBQUMsU0FBUyxDQUFDLHFCQUFxQjtZQUN2QyxpQkFBaUIsUUFBUTtnQkFDdkIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO2dCQUNuQixJQUFJLFFBQVEsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN0RixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7Z0JBRWQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLE9BQU8sRUFBRSxDQUFDO29CQUN0RCxFQUFFLEtBQUssQ0FBQztnQkFDVixDQUFDO2dCQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDbEMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUVELEVBQUUsQ0FBQyxDQUFDLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsaUJBQWlCLFFBQVE7WUFDdEQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBRW5CLE9BQU8sT0FBTyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3pDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUM5QixNQUFNLENBQUMsT0FBTyxDQUFDO2dCQUNqQixDQUFDO2dCQUVELE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1lBQy9CLENBQUM7WUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2QsQ0FBQyxDQUFDO0lBQ0osQ0FBQztBQUNILENBQUMiLCJmaWxlIjoiY2xvc2VzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlbGVtZW50LWNsb3Nlc3QgfCBDQzAtMS4wIHwgZ2l0aHViLmNvbS9qb25hdGhhbnRuZWFsL2Nsb3Nlc3RcclxuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xyXG4gIGlmICh0eXBlb2YgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGVbJ21vek1hdGNoZXNTZWxlY3RvciddIHx8XHJcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gbWF0Y2hlcyhzZWxlY3Rvcikge1xyXG4gICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzO1xyXG4gICAgICAgICAgbGV0IGVsZW1lbnRzID0gKGVsZW1lbnQuZG9jdW1lbnQgfHwgZWxlbWVudC5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgd2hpbGUgKGVsZW1lbnRzW2luZGV4XSAmJiBlbGVtZW50c1tpbmRleF0gIT09IGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgKytpbmRleDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gQm9vbGVhbihlbGVtZW50c1tpbmRleF0pO1xyXG4gICAgICAgIH07XHJcbiAgfVxyXG5cclxuICBpZiAodHlwZW9mIEVsZW1lbnQucHJvdG90eXBlWydjbG9zZXN0J10gIT09ICdmdW5jdGlvbicpIHtcclxuICAgIEVsZW1lbnQucHJvdG90eXBlWydjbG9zZXN0J10gPSBmdW5jdGlvbiBjbG9zZXN0KHNlbGVjdG9yKSB7XHJcbiAgICAgIGxldCBlbGVtZW50ID0gdGhpcztcclxuXHJcbiAgICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICBpZiAoZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiJdfQ==","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MobxAngularModule } from 'mobx-angular';\r\nimport { TREE_ACTIONS } from './models/tree-options.model';\r\nimport { KEYS } from './constants/keys';\r\nimport { TreeModel } from './models/tree.model';\r\nimport { TreeNode } from './models/tree-node.model';\r\nimport { TreeDraggedElement } from './models/tree-dragged-element.model';\r\nimport { TreeVirtualScroll } from './models/tree-virtual-scroll.model';\r\nimport { LoadingComponent } from './components/loading.component';\r\nimport { TreeComponent } from './components/tree.component';\r\nimport { TreeNodeComponent } from './components/tree-node.component';\r\nimport { TreeNodeContent } from './components/tree-node-content.component';\r\nimport { TreeNodeDropSlot } from './components/tree-node-drop-slot.component';\r\nimport { TreeNodeExpanderComponent } from './components/tree-node-expander.component';\r\nimport { TreeNodeChildrenComponent } from './components/tree-node-children.component';\r\nimport { TreeNodeCollectionComponent } from './components/tree-node-collection.component';\r\nimport { TreeNodeWrapperComponent } from './components/tree-node-wrapper.component';\r\nimport { TreeViewportComponent } from './components/tree-viewport.component';\r\nimport { TreeNodeCheckboxComponent } from './components/tree-node-checkbox.component';\r\nimport { TreeDropDirective } from './directives/tree-drop.directive';\r\nimport { TreeDragDirective } from './directives/tree-drag.directive';\r\nimport { TreeAnimateOpenDirective } from './directives/tree-animate-open.directive';\r\nimport './polyfills';\r\nvar TreeModule = /** @class */ (function () {\r\n    function TreeModule() {\r\n    }\r\n    TreeModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    declarations: [\r\n                        TreeComponent,\r\n                        TreeNodeComponent,\r\n                        TreeNodeContent,\r\n                        LoadingComponent,\r\n                        TreeDropDirective,\r\n                        TreeDragDirective,\r\n                        TreeNodeExpanderComponent,\r\n                        TreeNodeChildrenComponent,\r\n                        TreeNodeDropSlot,\r\n                        TreeNodeCollectionComponent,\r\n                        TreeViewportComponent,\r\n                        TreeNodeWrapperComponent,\r\n                        TreeNodeCheckboxComponent,\r\n                        TreeAnimateOpenDirective\r\n                    ],\r\n                    exports: [\r\n                        TreeComponent,\r\n                        TreeNodeComponent,\r\n                        TreeNodeContent,\r\n                        LoadingComponent,\r\n                        TreeDropDirective,\r\n                        TreeDragDirective,\r\n                        TreeNodeExpanderComponent,\r\n                        TreeNodeChildrenComponent,\r\n                        TreeNodeDropSlot,\r\n                        TreeNodeCollectionComponent,\r\n                        TreeViewportComponent,\r\n                        TreeNodeWrapperComponent,\r\n                        TreeNodeCheckboxComponent,\r\n                        TreeAnimateOpenDirective\r\n                    ],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MobxAngularModule\r\n                    ],\r\n                    providers: [\r\n                        TreeDraggedElement\r\n                    ]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeModule.ctorParameters = function () { return []; };\r\n    return TreeModule;\r\n}());\r\nexport { TreeModule };\r\nexport { TreeModel, TreeNode, TreeDraggedElement, TreeVirtualScroll, TREE_ACTIONS, KEYS, LoadingComponent, TreeComponent, TreeNodeComponent, TreeNodeContent, TreeDropDirective, TreeDragDirective, TreeNodeExpanderComponent, TreeNodeChildrenComponent, TreeNodeDropSlot, TreeNodeCollectionComponent, TreeViewportComponent, TreeNodeCheckboxComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9hbmd1bGFyLXRyZWUtY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFBLEVBQVMsTUFBWSxlQUFBLENBQWdCO0FBQzlDLE9BQU8sRUFBRSxZQUFBLEVBQWEsTUFBTyxpQkFBQSxDQUFrQjtBQUMvQyxPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxjQUFBLENBQWU7QUFFakQsT0FBTyxFQUFFLFlBQUEsRUFBNkMsTUFBTyw2QkFBQSxDQUE4QjtBQUUzRixPQUFPLEVBQUUsSUFBQSxFQUFLLE1BQU8sa0JBQUEsQ0FBbUI7QUFDeEMsT0FBTyxFQUFFLFNBQUEsRUFBVSxNQUFPLHFCQUFBLENBQXNCO0FBQ2hELE9BQU8sRUFBRSxRQUFBLEVBQVMsTUFBTywwQkFBQSxDQUEyQjtBQUNwRCxPQUFPLEVBQUUsa0JBQUEsRUFBbUIsTUFBTyxxQ0FBQSxDQUFzQztBQUN6RSxPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxvQ0FBQSxDQUFxQztBQUN2RSxPQUFPLEVBQUUsZ0JBQUEsRUFBaUIsTUFBTyxnQ0FBQSxDQUFpQztBQUNsRSxPQUFPLEVBQUUsYUFBQSxFQUFjLE1BQU8sNkJBQUEsQ0FBOEI7QUFDNUQsT0FBTyxFQUFFLGlCQUFBLEVBQWtCLE1BQU8sa0NBQUEsQ0FBbUM7QUFDckUsT0FBTyxFQUFFLGVBQUEsRUFBZ0IsTUFBTywwQ0FBQSxDQUEyQztBQUMzRSxPQUFPLEVBQUUsZ0JBQUEsRUFBaUIsTUFBTyw0Q0FBQSxDQUE2QztBQUM5RSxPQUFPLEVBQUUseUJBQUEsRUFBMEIsTUFBTywyQ0FBQSxDQUE0QztBQUN0RixPQUFPLEVBQUUseUJBQUEsRUFBMEIsTUFBTywyQ0FBQSxDQUE0QztBQUN0RixPQUFPLEVBQUUsMkJBQUEsRUFBNEIsTUFBTyw2Q0FBQSxDQUE4QztBQUMxRixPQUFPLEVBQUUsd0JBQUEsRUFBeUIsTUFBTywwQ0FBQSxDQUEyQztBQUNwRixPQUFPLEVBQUUscUJBQUEsRUFBc0IsTUFBTyxzQ0FBQSxDQUF1QztBQUM3RSxPQUFPLEVBQUUseUJBQUEsRUFBMEIsTUFBTywyQ0FBQSxDQUE0QztBQUN0RixPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxrQ0FBQSxDQUFtQztBQUNyRSxPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxrQ0FBQSxDQUFtQztBQUNyRSxPQUFPLEVBQUUsd0JBQUEsRUFBeUIsTUFBTywwQ0FBQSxDQUEyQztBQUVwRixPQUFPLGFBQUEsQ0FBYztBQUdyQjtJQUFBO0lBOENBLENBQUM7SUE5QytCLHFCQUFVLEdBQTBCO1FBQ3BFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDdkIsWUFBWSxFQUFFO3dCQUNaLGFBQWE7d0JBQ2IsaUJBQWlCO3dCQUNqQixlQUFlO3dCQUNmLGdCQUFnQjt3QkFDaEIsaUJBQWlCO3dCQUNqQixpQkFBaUI7d0JBQ2pCLHlCQUF5Qjt3QkFDekIseUJBQXlCO3dCQUN6QixnQkFBZ0I7d0JBQ2hCLDJCQUEyQjt3QkFDM0IscUJBQXFCO3dCQUNyQix3QkFBd0I7d0JBQ3hCLHlCQUF5Qjt3QkFDekIsd0JBQXdCO3FCQUN6QjtvQkFDRCxPQUFPLEVBQUU7d0JBQ1AsYUFBYTt3QkFDYixpQkFBaUI7d0JBQ2pCLGVBQWU7d0JBQ2YsZ0JBQWdCO3dCQUNoQixpQkFBaUI7d0JBQ2pCLGlCQUFpQjt3QkFDakIseUJBQXlCO3dCQUN6Qix5QkFBeUI7d0JBQ3pCLGdCQUFnQjt3QkFDaEIsMkJBQTJCO3dCQUMzQixxQkFBcUI7d0JBQ3JCLHdCQUF3Qjt3QkFDeEIseUJBQXlCO3dCQUN6Qix3QkFBd0I7cUJBQ3pCO29CQUNELE9BQU8sRUFBRTt3QkFDUCxZQUFZO3dCQUNaLGlCQUFpQjtxQkFDbEI7b0JBQ0QsU0FBUyxFQUFFO3dCQUNULGtCQUFrQjtxQkFDbkI7aUJBQ0YsRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLHlCQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0YsaUJBQUM7Q0E5Q0QsQUE4Q0MsSUFBQTtTQTlDWSxVQUFVO0FBZ0R2QixPQU5PLEVBT0wsU0FBUyxFQUNULFFBQVEsRUFDUixrQkFBa0IsRUFDbEIsaUJBQWlCLEVBRWpCLFlBQVksRUFDWixJQUFJLEVBS0osZ0JBQWdCLEVBQ2hCLGFBQWEsRUFDYixpQkFBaUIsRUFDakIsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixpQkFBaUIsRUFDakIseUJBQXlCLEVBQ3pCLHlCQUF5QixFQUN6QixnQkFBZ0IsRUFDaEIsMkJBQTJCLEVBQzNCLHFCQUFxQixFQUNyQix5QkFBeUIsRUFFMUIsQ0FOQyIsImZpbGUiOiJhbmd1bGFyLXRyZWUtY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgTW9ieEFuZ3VsYXJNb2R1bGUgfSBmcm9tICdtb2J4LWFuZ3VsYXInO1xyXG5cclxuaW1wb3J0IHsgVFJFRV9BQ1RJT05TLCBJQWN0aW9uTWFwcGluZywgSUFjdGlvbkhhbmRsZXIgfSBmcm9tICcuL21vZGVscy90cmVlLW9wdGlvbnMubW9kZWwnO1xyXG5pbXBvcnQgeyBJVHJlZU9wdGlvbnMsIElBbGxvd0Ryb3BGbiwgSUFsbG93RHJhZ0ZuLCBJVHJlZVN0YXRlIH0gZnJvbSAnLi9kZWZzL2FwaSc7XHJcbmltcG9ydCB7IEtFWVMgfSBmcm9tICcuL2NvbnN0YW50cy9rZXlzJztcclxuaW1wb3J0IHsgVHJlZU1vZGVsIH0gZnJvbSAnLi9tb2RlbHMvdHJlZS5tb2RlbCc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZURyYWdnZWRFbGVtZW50IH0gZnJvbSAnLi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlVmlydHVhbFNjcm9sbCB9IGZyb20gJy4vbW9kZWxzL3RyZWUtdmlydHVhbC1zY3JvbGwubW9kZWwnO1xyXG5pbXBvcnQgeyBMb2FkaW5nQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2xvYWRpbmcuY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJlZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90cmVlLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVOb2RlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RyZWUtbm9kZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZUNvbnRlbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS1ub2RlLWNvbnRlbnQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJlZU5vZGVEcm9wU2xvdCB9IGZyb20gJy4vY29tcG9uZW50cy90cmVlLW5vZGUtZHJvcC1zbG90LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVOb2RlRXhwYW5kZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS1ub2RlLWV4cGFuZGVyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVOb2RlQ2hpbGRyZW5Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS1ub2RlLWNoaWxkcmVuLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVOb2RlQ29sbGVjdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90cmVlLW5vZGUtY29sbGVjdGlvbi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZVdyYXBwZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS1ub2RlLXdyYXBwZXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJlZVZpZXdwb3J0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RyZWUtdmlld3BvcnQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJlZU5vZGVDaGVja2JveENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90cmVlLW5vZGUtY2hlY2tib3guY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJlZURyb3BEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvdHJlZS1kcm9wLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IFRyZWVEcmFnRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL3RyZWUtZHJhZy5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBUcmVlQW5pbWF0ZU9wZW5EaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvdHJlZS1hbmltYXRlLW9wZW4uZGlyZWN0aXZlJztcclxuXHJcbmltcG9ydCAnLi9wb2x5ZmlsbHMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTW9kdWxlIHtzdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIFRyZWVDb21wb25lbnQsXHJcbiAgICBUcmVlTm9kZUNvbXBvbmVudCxcclxuICAgIFRyZWVOb2RlQ29udGVudCxcclxuICAgIExvYWRpbmdDb21wb25lbnQsXHJcbiAgICBUcmVlRHJvcERpcmVjdGl2ZSxcclxuICAgIFRyZWVEcmFnRGlyZWN0aXZlLFxyXG4gICAgVHJlZU5vZGVFeHBhbmRlckNvbXBvbmVudCxcclxuICAgIFRyZWVOb2RlQ2hpbGRyZW5Db21wb25lbnQsXHJcbiAgICBUcmVlTm9kZURyb3BTbG90LFxyXG4gICAgVHJlZU5vZGVDb2xsZWN0aW9uQ29tcG9uZW50LFxyXG4gICAgVHJlZVZpZXdwb3J0Q29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVXcmFwcGVyQ29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVDaGVja2JveENvbXBvbmVudCxcclxuICAgIFRyZWVBbmltYXRlT3BlbkRpcmVjdGl2ZVxyXG4gIF0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgVHJlZUNvbXBvbmVudCxcclxuICAgIFRyZWVOb2RlQ29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVDb250ZW50LFxyXG4gICAgTG9hZGluZ0NvbXBvbmVudCxcclxuICAgIFRyZWVEcm9wRGlyZWN0aXZlLFxyXG4gICAgVHJlZURyYWdEaXJlY3RpdmUsXHJcbiAgICBUcmVlTm9kZUV4cGFuZGVyQ29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVDaGlsZHJlbkNvbXBvbmVudCxcclxuICAgIFRyZWVOb2RlRHJvcFNsb3QsXHJcbiAgICBUcmVlTm9kZUNvbGxlY3Rpb25Db21wb25lbnQsXHJcbiAgICBUcmVlVmlld3BvcnRDb21wb25lbnQsXHJcbiAgICBUcmVlTm9kZVdyYXBwZXJDb21wb25lbnQsXHJcbiAgICBUcmVlTm9kZUNoZWNrYm94Q29tcG9uZW50LFxyXG4gICAgVHJlZUFuaW1hdGVPcGVuRGlyZWN0aXZlXHJcbiAgXSxcclxuICBpbXBvcnRzOiBbXHJcbiAgICBDb21tb25Nb2R1bGUsXHJcbiAgICBNb2J4QW5ndWxhck1vZHVsZVxyXG4gIF0sXHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBUcmVlRHJhZ2dlZEVsZW1lbnRcclxuICBdXHJcbn0sIF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbnN0YXRpYyBjdG9yUGFyYW1ldGVyczogKCkgPT4gKHt0eXBlOiBhbnksIGRlY29yYXRvcnM/OiBEZWNvcmF0b3JJbnZvY2F0aW9uW119fG51bGwpW10gPSAoKSA9PiBbXG5dO1xufVxyXG5cclxuZXhwb3J0IHtcclxuICBUcmVlTW9kZWwsXHJcbiAgVHJlZU5vZGUsXHJcbiAgVHJlZURyYWdnZWRFbGVtZW50LFxyXG4gIFRyZWVWaXJ0dWFsU2Nyb2xsLFxyXG4gIElUcmVlT3B0aW9ucyxcclxuICBUUkVFX0FDVElPTlMsXHJcbiAgS0VZUyxcclxuICBJQWN0aW9uTWFwcGluZyxcclxuICBJQWN0aW9uSGFuZGxlcixcclxuICBJQWxsb3dEcm9wRm4sXHJcbiAgSUFsbG93RHJhZ0ZuLFxyXG4gIExvYWRpbmdDb21wb25lbnQsXHJcbiAgVHJlZUNvbXBvbmVudCxcclxuICBUcmVlTm9kZUNvbXBvbmVudCxcclxuICBUcmVlTm9kZUNvbnRlbnQsXHJcbiAgVHJlZURyb3BEaXJlY3RpdmUsXHJcbiAgVHJlZURyYWdEaXJlY3RpdmUsXHJcbiAgVHJlZU5vZGVFeHBhbmRlckNvbXBvbmVudCxcclxuICBUcmVlTm9kZUNoaWxkcmVuQ29tcG9uZW50LFxyXG4gIFRyZWVOb2RlRHJvcFNsb3QsXHJcbiAgVHJlZU5vZGVDb2xsZWN0aW9uQ29tcG9uZW50LFxyXG4gIFRyZWVWaWV3cG9ydENvbXBvbmVudCxcclxuICBUcmVlTm9kZUNoZWNrYm94Q29tcG9uZW50LFxyXG4gIElUcmVlU3RhdGVcclxufTtcclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0="],"names":["uuid","Math","floor","random","binarySearch","nodes","condition","firstIndex","index","toIndex","length","midIndex","_a","KEYS","LEFT","UP","RIGHT","DOWN","ENTER","SPACE","CONTEXT_MENU","TREE_ACTIONS","TOGGLE_ACTIVE","tree","node","$event","toggleActivated","TOGGLE_ACTIVE_MULTI","TOGGLE_SELECTED","toggleSelected","SELECT","setIsActive","DESELECT","FOCUS","focus","TOGGLE_EXPANDED","hasChildren","toggleExpanded","EXPAND","expand","COLLAPSE","collapse","DRILL_DOWN","focusDrillDown","DRILL_UP","focusDrillUp","NEXT_NODE","focusNextNode","PREVIOUS_NODE","focusPreviousNode","MOVE_NODE","from","to","ctrlKey","copyNode","moveNode","defaultActionMapping","mouse","click","dblClick","contextMenu","expanderClick","checkboxClick","drop","keys","TreeOptions","options","this","actionMapping","defaultsDeep","rtl","get","Object","defineProperty","prototype","hasChildrenField","enumerable","configurable","childrenField","displayField","idField","isExpandedField","getChildren","levelPadding","useVirtualScroll","animateExpand","animateSpeed","animateAcceleration","undefined","scrollOnSelect","rootId","useCheckbox","getNodeClone","omit","assign","data","allowDrop","element","Function","allowDrag","nodeClass","nodeHeight","virtual","dropSlotHeight","isNumber","TREE_EVENTS","activate","deactivate","select","deselect","blur","initialized","updateData","event","loadNodeChildren","changeFilter","stateChange","__decorate","decorators","target","key","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","i","__metadata","k","v","metadata","TreeNode","parent","treeModel","_this","position","id","getField","_initChildren","autoLoadChildren","isHidden","isExpanded","isActive","isNodeFocused","isLeaf","isSelected","some","children","every","isAllSelected","level","path","concat","_originalNode","isRoot","fireEvent","set","value","setField","_findAdjacentSibling","steps","skipHidden","siblings","_getParentsChildren","indexOf","findNextSibling","findPreviousSibling","getVisibleChildren","visibleChildren","filter","getFirstChild","first","getLastChild","last","findNextNode","goInside","findPreviousNode","previousSibling","_getLastOpenDescendant","realParent","lastChild","isCollapsed","getIndexInParent","isDescendantOf","getNodePadding","getClass","join","onDrop","mouseAction","dropOnNode","Promise","resolve","then","forEach","child","eventName","doForAll","fn","expandAll","collapseAll","ensureVisible","setIsExpanded","setExpandedNode","handler","reaction","fireImmediately","dispose","multi","setActiveNode","setIsSelected","setSelectedNode","setActiveAndVisible","setTimeout","scrollIntoView","bind","force","virtualScroll","scroll","previousNode","getFocusedNode","setFocusedNode","setIsHidden","hide","show","actionName","setFocus","action","getSelfHeight","map","computed","observable","Array","Number","TreeModel","eventNames","expandedNodeIds","selectedLeafNodeIds","activeNodeIds","hiddenNodeIds","focusedNodeId","firstUpdate","events","emit","subscribe","focusedNode","getActiveNode","activeNodes","getActiveNodes","getVisibleRoots","virtualRoot","getFirstRoot","roots","getLastRoot","focusedTree","isEmptyTree","getNodeById","compact","getNodeByPath","startNode","childId","shift","childNode","find","idStr","toString","getNodeBy","predicate","found","_i","foundInChildren","setData","_b","_c","update","virtualRootConfig","_calculateExpandedNodes","root","nextNode","_setActiveNodeMulti","_setActiveNodeSingle","setHiddenNodeIds","nodeIds","reduce","performKeyAction","keyCode","preventDefault","filterNodes","autoShow","filterFn","clearFilter","isString","toLowerCase","isFunction","console","error","ids","_filterNode","fromIndex","fromParent","_canMoveNode","fromChildren","toChildren","originalNode","splice","nodeCopy","getState","setState","state","subscribeToState","autorun","isVisible","activeNode","type","Injectable","ctorParameters","TreeDraggedElement","_draggedElement","draggedElement","isDragging","TreeVirtualScroll","yBlocks","x","viewportHeight","viewport","_dispose","fixScroll","height","init","recalcPositions","isEnabled","_setYBlocks","_getPositionAfter","startPos","_getPositionAfterNode","clear","setViewport","scrollLeft","round","scrollTop","getBoundingClientRect","scrollToMiddle","y","getViewportNodes","visibleNodes","lastIndex","viewportNodes","push","maxY","max","totalHeight","LoadingComponent","Component","args","encapsulation","ViewEncapsulation","None","selector","template","propDecorators","Input","TreeComponent","treeDraggedElement","renderer","name","EventEmitter","onKeydown","isFocused","includes","document","activeElement","tagName","onMousedown","invokeElementMethod","ngOnChanges","changes","currentValue","pick","sizeChanged","viewportComponent","providers","styles","Renderer","loadingTemplate","ContentChild","treeNodeTemplate","treeNodeWrapperTemplate","treeNodeFullTemplate","ViewChild","focused","Output","HostListener","TreeNodeComponent","templates","TreeNodeContent","TreeNodeDropSlot","dropIndex","TreeNodeExpanderComponent","TreeNodeChildrenComponent","TreeNodeCollectionComponent","_nodes","setNodes","firstNode","ngOnInit","n","nodeIndexes","compareStructural","ngOnDestroy","trackNode","String","TreeNodeWrapperComponent","TreeViewportComponent","elementRef","ngAfterViewInit","getTotalHeight","onScroll","nativeElement","ElementRef","TreeNodeCheckboxComponent","TreeDropDirective","el","onDropCallback","onDragOverCallback","onDragLeaveCallback","onDragEnterCallback","_allowDrop","onDragOver","addDisabledClass","addClass","onDragEnter","onDragLeave","removeDisabledClass","removeClass","setElementClass","Directive","treeAllowDrop","TreeDragDirective","ngDoCheck","setElementAttribute","treeDragEnabled","onDragStart","ev","dataTransfer","onDrag","onDragEnd","TreeAnimateOpenDirective","templateRef","viewContainerRef","_show","_isOpen","_animateOpen","_animateClose","_hide","innerElement","createEmbeddedView","rootNodes","delta","ease","maxHeight","setElementStyle","setInterval","clearInterval","roundedMaxHeight","TemplateRef","ViewContainerRef","isOpen","Element","matches","msMatchesSelector","webkitMatchesSelector","elements","ownerDocument","querySelectorAll","Boolean","nodeType","parentNode","TreeModule","NgModule","declarations","exports","imports","CommonModule","MobxAngularModule"],"mappings":"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"}